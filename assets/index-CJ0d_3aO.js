(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function d(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerPolicy&&(h.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?h.credentials="include":m.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(m){if(m.ep)return;m.ep=!0;const h=d(m);fetch(m.href,h)}})();function Pm(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var pu={exports:{}},Ni={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function _1(){if(Am)return Ni;Am=1;var c=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(u,m,h){var g=null;if(h!==void 0&&(g=""+h),m.key!==void 0&&(g=""+m.key),"key"in m){h={};for(var b in m)b!=="key"&&(h[b]=m[b])}else h=m;return m=h.ref,{$$typeof:c,type:u,key:g,ref:m!==void 0?m:null,props:h}}return Ni.Fragment=o,Ni.jsx=d,Ni.jsxs=d,Ni}var Rm;function q1(){return Rm||(Rm=1,pu.exports=_1()),pu.exports}var s=q1(),gu={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function H1(){if(Dm)return ve;Dm=1;var c=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.iterator;function z(v){return v===null||typeof v!="object"?null:(v=j&&v[j]||v["@@iterator"],typeof v=="function"?v:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,D={};function G(v,L,F){this.props=v,this.context=L,this.refs=D,this.updater=F||H}G.prototype.isReactComponent={},G.prototype.setState=function(v,L){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,L,"setState")},G.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function B(){}B.prototype=G.prototype;function Z(v,L,F){this.props=v,this.context=L,this.refs=D,this.updater=F||H}var S=Z.prototype=new B;S.constructor=Z,_(S,G.prototype),S.isPureReactComponent=!0;var V=Array.isArray;function $(){}var T={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function ue(v,L,F){var te=F.ref;return{$$typeof:c,type:v,key:L,ref:te!==void 0?te:null,props:F}}function ie(v,L){return ue(v.type,L,v.props)}function se(v){return typeof v=="object"&&v!==null&&v.$$typeof===c}function J(v){var L={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(F){return L[F]})}var de=/\/+/g;function Re(v,L){return typeof v=="object"&&v!==null&&v.key!=null?J(""+v.key):L.toString(36)}function pe(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then($,$):(v.status="pending",v.then(function(L){v.status==="pending"&&(v.status="fulfilled",v.value=L)},function(L){v.status==="pending"&&(v.status="rejected",v.reason=L)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function w(v,L,F,te,me){var Se=typeof v;(Se==="undefined"||Se==="boolean")&&(v=null);var be=!1;if(v===null)be=!0;else switch(Se){case"bigint":case"string":case"number":be=!0;break;case"object":switch(v.$$typeof){case c:case o:be=!0;break;case E:return be=v._init,w(be(v._payload),L,F,te,me)}}if(be)return me=me(v),be=te===""?"."+Re(v,0):te,V(me)?(F="",be!=null&&(F=be.replace(de,"$&/")+"/"),w(me,L,F,"",function(Ut){return Ut})):me!=null&&(se(me)&&(me=ie(me,F+(me.key==null||v&&v.key===me.key?"":(""+me.key).replace(de,"$&/")+"/")+be)),L.push(me)),1;be=0;var Ze=te===""?".":te+":";if(V(v))for(var Ge=0;Ge<v.length;Ge++)te=v[Ge],Se=Ze+Re(te,Ge),be+=w(te,L,F,Se,me);else if(Ge=z(v),typeof Ge=="function")for(v=Ge.call(v),Ge=0;!(te=v.next()).done;)te=te.value,Se=Ze+Re(te,Ge++),be+=w(te,L,F,Se,me);else if(Se==="object"){if(typeof v.then=="function")return w(pe(v),L,F,te,me);throw L=String(v),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(v,L,F){if(v==null)return v;var te=[],me=0;return w(v,te,"","",function(Se){return L.call(F,Se,me++)}),te}function ee(v){if(v._status===-1){var L=v._result;L=L(),L.then(function(F){(v._status===0||v._status===-1)&&(v._status=1,v._result=F)},function(F){(v._status===0||v._status===-1)&&(v._status=2,v._result=F)}),v._status===-1&&(v._status=0,v._result=L)}if(v._status===1)return v._result.default;throw v._result}var ge=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},xe={map:K,forEach:function(v,L,F){K(v,function(){L.apply(this,arguments)},F)},count:function(v){var L=0;return K(v,function(){L++}),L},toArray:function(v){return K(v,function(L){return L})||[]},only:function(v){if(!se(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return ve.Activity=N,ve.Children=xe,ve.Component=G,ve.Fragment=d,ve.Profiler=m,ve.PureComponent=Z,ve.StrictMode=u,ve.Suspense=p,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,ve.__COMPILER_RUNTIME={__proto__:null,c:function(v){return T.H.useMemoCache(v)}},ve.cache=function(v){return function(){return v.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(v,L,F){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var te=_({},v.props),me=v.key;if(L!=null)for(Se in L.key!==void 0&&(me=""+L.key),L)!P.call(L,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&L.ref===void 0||(te[Se]=L[Se]);var Se=arguments.length-2;if(Se===1)te.children=F;else if(1<Se){for(var be=Array(Se),Ze=0;Ze<Se;Ze++)be[Ze]=arguments[Ze+2];te.children=be}return ue(v.type,me,te)},ve.createContext=function(v){return v={$$typeof:g,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:h,_context:v},v},ve.createElement=function(v,L,F){var te,me={},Se=null;if(L!=null)for(te in L.key!==void 0&&(Se=""+L.key),L)P.call(L,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(me[te]=L[te]);var be=arguments.length-2;if(be===1)me.children=F;else if(1<be){for(var Ze=Array(be),Ge=0;Ge<be;Ge++)Ze[Ge]=arguments[Ge+2];me.children=Ze}if(v&&v.defaultProps)for(te in be=v.defaultProps,be)me[te]===void 0&&(me[te]=be[te]);return ue(v,Se,me)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(v){return{$$typeof:b,render:v}},ve.isValidElement=se,ve.lazy=function(v){return{$$typeof:E,_payload:{_status:-1,_result:v},_init:ee}},ve.memo=function(v,L){return{$$typeof:y,type:v,compare:L===void 0?null:L}},ve.startTransition=function(v){var L=T.T,F={};T.T=F;try{var te=v(),me=T.S;me!==null&&me(F,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then($,ge)}catch(Se){ge(Se)}finally{L!==null&&F.types!==null&&(L.types=F.types),T.T=L}},ve.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},ve.use=function(v){return T.H.use(v)},ve.useActionState=function(v,L,F){return T.H.useActionState(v,L,F)},ve.useCallback=function(v,L){return T.H.useCallback(v,L)},ve.useContext=function(v){return T.H.useContext(v)},ve.useDebugValue=function(){},ve.useDeferredValue=function(v,L){return T.H.useDeferredValue(v,L)},ve.useEffect=function(v,L){return T.H.useEffect(v,L)},ve.useEffectEvent=function(v){return T.H.useEffectEvent(v)},ve.useId=function(){return T.H.useId()},ve.useImperativeHandle=function(v,L,F){return T.H.useImperativeHandle(v,L,F)},ve.useInsertionEffect=function(v,L){return T.H.useInsertionEffect(v,L)},ve.useLayoutEffect=function(v,L){return T.H.useLayoutEffect(v,L)},ve.useMemo=function(v,L){return T.H.useMemo(v,L)},ve.useOptimistic=function(v,L){return T.H.useOptimistic(v,L)},ve.useReducer=function(v,L,F){return T.H.useReducer(v,L,F)},ve.useRef=function(v){return T.H.useRef(v)},ve.useState=function(v){return T.H.useState(v)},ve.useSyncExternalStore=function(v,L,F){return T.H.useSyncExternalStore(v,L,F)},ve.useTransition=function(){return T.H.useTransition()},ve.version="19.2.0",ve}var Om;function Ou(){return Om||(Om=1,gu.exports=H1()),gu.exports}var A=Ou();const Ri=Pm(A);var xu={exports:{}},Ci={},bu={exports:{}},vu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function B1(){return _m||(_m=1,(function(c){function o(w,K){var ee=w.length;w.push(K);e:for(;0<ee;){var ge=ee-1>>>1,xe=w[ge];if(0<m(xe,K))w[ge]=K,w[ee]=xe,ee=ge;else break e}}function d(w){return w.length===0?null:w[0]}function u(w){if(w.length===0)return null;var K=w[0],ee=w.pop();if(ee!==K){w[0]=ee;e:for(var ge=0,xe=w.length,v=xe>>>1;ge<v;){var L=2*(ge+1)-1,F=w[L],te=L+1,me=w[te];if(0>m(F,ee))te<xe&&0>m(me,F)?(w[ge]=me,w[te]=ee,ge=te):(w[ge]=F,w[L]=ee,ge=L);else if(te<xe&&0>m(me,ee))w[ge]=me,w[te]=ee,ge=te;else break e}}return K}function m(w,K){var ee=w.sortIndex-K.sortIndex;return ee!==0?ee:w.id-K.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;c.unstable_now=function(){return h.now()}}else{var g=Date,b=g.now();c.unstable_now=function(){return g.now()-b}}var p=[],y=[],E=1,N=null,j=3,z=!1,H=!1,_=!1,D=!1,G=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function S(w){for(var K=d(y);K!==null;){if(K.callback===null)u(y);else if(K.startTime<=w)u(y),K.sortIndex=K.expirationTime,o(p,K);else break;K=d(y)}}function V(w){if(_=!1,S(w),!H)if(d(p)!==null)H=!0,$||($=!0,J());else{var K=d(y);K!==null&&pe(V,K.startTime-w)}}var $=!1,T=-1,P=5,ue=-1;function ie(){return D?!0:!(c.unstable_now()-ue<P)}function se(){if(D=!1,$){var w=c.unstable_now();ue=w;var K=!0;try{e:{H=!1,_&&(_=!1,B(T),T=-1),z=!0;var ee=j;try{t:{for(S(w),N=d(p);N!==null&&!(N.expirationTime>w&&ie());){var ge=N.callback;if(typeof ge=="function"){N.callback=null,j=N.priorityLevel;var xe=ge(N.expirationTime<=w);if(w=c.unstable_now(),typeof xe=="function"){N.callback=xe,S(w),K=!0;break t}N===d(p)&&u(p),S(w)}else u(p);N=d(p)}if(N!==null)K=!0;else{var v=d(y);v!==null&&pe(V,v.startTime-w),K=!1}}break e}finally{N=null,j=ee,z=!1}K=void 0}}finally{K?J():$=!1}}}var J;if(typeof Z=="function")J=function(){Z(se)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Re=de.port2;de.port1.onmessage=se,J=function(){Re.postMessage(null)}}else J=function(){G(se,0)};function pe(w,K){T=G(function(){w(c.unstable_now())},K)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(w){w.callback=null},c.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<w?Math.floor(1e3/w):5},c.unstable_getCurrentPriorityLevel=function(){return j},c.unstable_next=function(w){switch(j){case 1:case 2:case 3:var K=3;break;default:K=j}var ee=j;j=K;try{return w()}finally{j=ee}},c.unstable_requestPaint=function(){D=!0},c.unstable_runWithPriority=function(w,K){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var ee=j;j=w;try{return K()}finally{j=ee}},c.unstable_scheduleCallback=function(w,K,ee){var ge=c.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ge+ee:ge):ee=ge,w){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ee+xe,w={id:E++,callback:K,priorityLevel:w,startTime:ee,expirationTime:xe,sortIndex:-1},ee>ge?(w.sortIndex=ee,o(y,w),d(p)===null&&w===d(y)&&(_?(B(T),T=-1):_=!0,pe(V,ee-ge))):(w.sortIndex=xe,o(p,w),H||z||(H=!0,$||($=!0,J()))),w},c.unstable_shouldYield=ie,c.unstable_wrapCallback=function(w){var K=j;return function(){var ee=j;j=K;try{return w.apply(this,arguments)}finally{j=ee}}}})(vu)),vu}var qm;function U1(){return qm||(qm=1,bu.exports=B1()),bu.exports}var Su={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function L1(){if(Hm)return Nt;Hm=1;var c=Ou();function o(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var u={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function h(p,y,E){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:N==null?null:""+N,children:p,containerInfo:y,implementation:E}}var g=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Nt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(o(299));return h(p,y,null,E)},Nt.flushSync=function(p){var y=g.T,E=u.p;try{if(g.T=null,u.p=2,p)return p()}finally{g.T=y,u.p=E,u.d.f()}},Nt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,u.d.C(p,y))},Nt.prefetchDNS=function(p){typeof p=="string"&&u.d.D(p)},Nt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,N=b(E,y.crossOrigin),j=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?u.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:j,fetchPriority:z}):E==="script"&&u.d.X(p,{crossOrigin:N,integrity:j,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Nt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=b(y.as,y.crossOrigin);u.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&u.d.M(p)},Nt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,N=b(E,y.crossOrigin);u.d.L(p,E,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Nt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=b(y.as,y.crossOrigin);u.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else u.d.m(p)},Nt.requestFormReset=function(p){u.d.r(p)},Nt.unstable_batchedUpdates=function(p,y){return p(y)},Nt.useFormState=function(p,y,E){return g.H.useFormState(p,y,E)},Nt.useFormStatus=function(){return g.H.useHostTransitionStatus()},Nt.version="19.2.0",Nt}var Bm;function eh(){if(Bm)return Su.exports;Bm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(o){console.error(o)}}return c(),Su.exports=L1(),Su.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function G1(){if(Um)return Ci;Um=1;var c=U1(),o=Ou(),d=eh();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(h(e)!==e)throw Error(u(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return p(n),e;if(i===l)return p(n),t;i=i.sibling}throw Error(u(188))}if(a.return!==l.return)a=n,l=i;else{for(var r=!1,f=n.child;f;){if(f===a){r=!0,a=n,l=i;break}if(f===l){r=!0,l=n,a=i;break}f=f.sibling}if(!r){for(f=i.child;f;){if(f===a){r=!0,a=i,l=n;break}if(f===l){r=!0,l=i,a=n;break}f=f.sibling}if(!r)throw Error(u(189))}}if(a.alternate!==l)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function E(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=E(e),t!==null)return t;e=e.sibling}return null}var N=Object.assign,j=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case G:return"Profiler";case D:return"StrictMode";case V:return"Suspense";case $:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case Z:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T:return t=e.displayName||null,t!==null?t:Re(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return Re(e(t))}catch{}}return null}var pe=Array.isArray,w=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ge=[],xe=-1;function v(e){return{current:e}}function L(e){0>xe||(e.current=ge[xe],ge[xe]=null,xe--)}function F(e,t){xe++,ge[xe]=e.current,e.current=t}var te=v(null),me=v(null),Se=v(null),be=v(null);function Ze(e,t){switch(F(Se,t),F(me,e),F(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?em(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=em(t),e=tm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(te),F(te,e)}function Ge(){L(te),L(me),L(Se)}function Ut(e){e.memoizedState!==null&&F(be,e);var t=te.current,a=tm(t,e.type);t!==a&&(F(me,e),F(te,a))}function Xa(e){me.current===e&&(L(te),L(me)),be.current===e&&(L(be),vi._currentValue=ee)}var Na,vl;function $t(e){if(Na===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Na=t&&t[1]||"",vl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Na+e+vl}var I=!1;function re(e,t){if(!e||I)return"";I=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var O=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){O=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){O=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&O&&typeof q.stack=="string")return[q.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),r=i[0],f=i[1];if(r&&f){var x=r.split(`
`),R=f.split(`
`);for(n=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;n<R.length&&!R[n].includes("DetermineComponentFrameRoot");)n++;if(l===x.length||n===R.length)for(l=x.length-1,n=R.length-1;1<=l&&0<=n&&x[l]!==R[n];)n--;for(;1<=l&&0<=n;l--,n--)if(x[l]!==R[n]){if(l!==1||n!==1)do if(l--,n--,0>n||x[l]!==R[n]){var U=`
`+x[l].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=l&&0<=n);break}}}finally{I=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?$t(a):""}function he(e,t){switch(e.tag){case 26:case 27:case 5:return $t(e.type);case 16:return $t("Lazy");case 13:return e.child!==t&&t!==null?$t("Suspense Fallback"):$t("Suspense");case 19:return $t("SuspenseList");case 0:case 15:return re(e.type,!1);case 11:return re(e.type.render,!1);case 1:return re(e.type,!0);case 31:return $t("Activity");default:return""}}function Oe(e){try{var t="",a=null;do t+=he(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ne=Object.prototype.hasOwnProperty,De=c.unstable_scheduleCallback,Pe=c.unstable_cancelCallback,xt=c.unstable_shouldYield,oa=c.unstable_requestPaint,Ke=c.unstable_now,Za=c.unstable_getCurrentPriorityLevel,wt=c.unstable_ImmediatePriority,Ft=c.unstable_UserBlockingPriority,Ca=c.unstable_NormalPriority,Yl=c.unstable_LowPriority,pa=c.unstable_IdlePriority,Qa=c.log,ga=c.unstable_setDisableYieldValue,da=null,dt=null;function Wt(e){if(typeof Qa=="function"&&ga(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(da,e)}catch{}}var Et=Math.clz32?Math.clz32:nc,ac=Math.log,lc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(ac(e)/lc|0)|0}var Sl=256,Vl=262144,Xl=4194304;function Q(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function W(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var f=l&134217727;return f!==0?(l=f&~i,l!==0?n=Q(l):(r&=f,r!==0?n=Q(r):a||(a=f&~e,a!==0&&(n=Q(a))))):(f=l&~i,f!==0?n=Q(f):r!==0?n=Q(r):a||(a=l&~e,a!==0&&(n=Q(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function ae(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Be(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ke(){var e=Xl;return Xl<<=1,(Xl&62914560)===0&&(Xl=4194304),e}function ze(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function lt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fa(e,t,a,l,n,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,x=e.expirationTimes,R=e.hiddenUpdates;for(a=r&~a;0<a;){var U=31-Et(a),X=1<<U;f[U]=0,x[U]=-1;var O=R[U];if(O!==null)for(R[U]=null,U=0;U<O.length;U++){var q=O[U];q!==null&&(q.lane&=-536870913)}a&=~X}l!==0&&kt(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function kt(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Et(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function ht(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Et(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function ic(e,t){var a=t&-t;return a=(a&42)!==0?1:On(a),(a&(e.suspendedLanes|t))!==0?0:a}function On(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function sc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hu(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Nm(e.type))}function Bu(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var Ka=Math.random().toString(36).slice(2),bt="__reactFiber$"+Ka,At="__reactProps$"+Ka,Zl="__reactContainer$"+Ka,cc="__reactEvents$"+Ka,Nh="__reactListeners$"+Ka,Ch="__reactHandles$"+Ka,Uu="__reactResources$"+Ka,_n="__reactMarker$"+Ka;function rc(e){delete e[bt],delete e[At],delete e[cc],delete e[Nh],delete e[Ch]}function Ql(e){var t=e[bt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Zl]||a[bt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=rm(e);e!==null;){if(a=e[bt])return a;e=rm(e)}return t}e=a,a=e.parentNode}return null}function Kl(e){if(e=e[bt]||e[Zl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function qn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Jl(e){var t=e[Uu];return t||(t=e[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function yt(e){e[_n]=!0}var Lu=new Set,Gu={};function Ml(e,t){$l(e,t),$l(e+"Capture",t)}function $l(e,t){for(Gu[e]=t,e=0;e<t.length;e++)Lu.add(t[e])}var Eh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yu={},Vu={};function zh(e){return Ne.call(Vu,e)?!0:Ne.call(Yu,e)?!1:Eh.test(e)?Vu[e]=!0:(Yu[e]=!0,!1)}function Di(e,t,a){if(zh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Oi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ea(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Th(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uc(e){if(!e._valueTracker){var t=Xu(e)?"checked":"value";e._valueTracker=Th(e,t,""+e[t])}}function Zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Xu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wh=/[\n"\\]/g;function Pt(e){return e.replace(wh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function oc(e,t,a,l,n,i,r,f){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?dc(e,r,It(t)):a!=null?dc(e,r,It(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+It(f):e.removeAttribute("name")}function Qu(e,t,a,l,n,i,r,f){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){uc(e);return}a=a!=null?""+It(a):"",t=t!=null?""+It(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=f?e.checked:!!l,e.defaultChecked=!!l,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),uc(e)}function dc(e,t,a){t==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Fl(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+It(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Ku(e,t,a){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+It(a):""}function Ju(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(u(92));if(pe(l)){if(1<l.length)throw Error(u(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=It(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),uc(e)}function Wl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $u(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||kh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Fu(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&$u(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&$u(e,i,t[i])}function fc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qi(e){return Rh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function za(){}var mc=null;function hc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Il=null,Pl=null;function Wu(e){var t=Kl(e);if(t&&(e=t.stateNode)){var a=e[At]||null;e:switch(e=t.stateNode,t.type){case"input":if(oc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[At]||null;if(!n)throw Error(u(90));oc(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Zu(l)}break e;case"textarea":Ku(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Fl(e,!!a.multiple,t,!1)}}}var yc=!1;function Iu(e,t,a){if(yc)return e(t,a);yc=!0;try{var l=e(t);return l}finally{if(yc=!1,(Il!==null||Pl!==null)&&(js(),Il&&(t=Il,e=Pl,Pl=Il=null,Wu(t),e)))for(t=0;t<e.length;t++)Wu(e[t])}}function Hn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pc=!1;if(Ta)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){pc=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{pc=!1}var Ja=null,gc=null,Hi=null;function Pu(){if(Hi)return Hi;var e,t=gc,a=t.length,l,n="value"in Ja?Ja.value:Ja.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var r=a-e;for(l=1;l<=r&&t[a-l]===n[i-l];l++);return Hi=n.slice(e,1<l?1-l:void 0)}function Bi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function eo(){return!1}function Rt(e){function t(a,l,n,i,r){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ui:eo,this.isPropagationStopped=eo,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),t}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Rt(jl),Un=N({},jl,{view:0,detail:0}),Dh=Rt(Un),xc,bc,Ln,Gi=N({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ln&&(Ln&&e.type==="mousemove"?(xc=e.screenX-Ln.screenX,bc=e.screenY-Ln.screenY):bc=xc=0,Ln=e),xc)},movementY:function(e){return"movementY"in e?e.movementY:bc}}),to=Rt(Gi),Oh=N({},Gi,{dataTransfer:0}),_h=Rt(Oh),qh=N({},Un,{relatedTarget:0}),vc=Rt(qh),Hh=N({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),Bh=Rt(Hh),Uh=N({},jl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lh=Rt(Uh),Gh=N({},jl,{data:0}),ao=Rt(Gh),Yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xh[e])?!!t[e]:!1}function Sc(){return Zh}var Qh=N({},Un,{key:function(e){if(e.key){var t=Yh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sc,charCode:function(e){return e.type==="keypress"?Bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kh=Rt(Qh),Jh=N({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lo=Rt(Jh),$h=N({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sc}),Fh=Rt($h),Wh=N({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ih=Rt(Wh),Ph=N({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e0=Rt(Ph),t0=N({},jl,{newState:0,oldState:0}),a0=Rt(t0),l0=[9,13,27,32],Mc=Ta&&"CompositionEvent"in window,Gn=null;Ta&&"documentMode"in document&&(Gn=document.documentMode);var n0=Ta&&"TextEvent"in window&&!Gn,no=Ta&&(!Mc||Gn&&8<Gn&&11>=Gn),io=" ",so=!1;function co(e,t){switch(e){case"keyup":return l0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var en=!1;function i0(e,t){switch(e){case"compositionend":return ro(t);case"keypress":return t.which!==32?null:(so=!0,io);case"textInput":return e=t.data,e===io&&so?null:e;default:return null}}function s0(e,t){if(en)return e==="compositionend"||!Mc&&co(e,t)?(e=Pu(),Hi=gc=Ja=null,en=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return no&&t.locale!=="ko"?null:t.data;default:return null}}var c0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!c0[e.type]:t==="textarea"}function oo(e,t,a,l){Il?Pl?Pl.push(l):Pl=[l]:Il=l,t=ks(t,"onChange"),0<t.length&&(a=new Li("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Yn=null,Vn=null;function r0(e){Jf(e,0)}function Yi(e){var t=qn(e);if(Zu(t))return e}function fo(e,t){if(e==="change")return t}var mo=!1;if(Ta){var jc;if(Ta){var Nc="oninput"in document;if(!Nc){var ho=document.createElement("div");ho.setAttribute("oninput","return;"),Nc=typeof ho.oninput=="function"}jc=Nc}else jc=!1;mo=jc&&(!document.documentMode||9<document.documentMode)}function yo(){Yn&&(Yn.detachEvent("onpropertychange",po),Vn=Yn=null)}function po(e){if(e.propertyName==="value"&&Yi(Vn)){var t=[];oo(t,Vn,e,hc(e)),Iu(r0,t)}}function u0(e,t,a){e==="focusin"?(yo(),Yn=t,Vn=a,Yn.attachEvent("onpropertychange",po)):e==="focusout"&&yo()}function o0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yi(Vn)}function d0(e,t){if(e==="click")return Yi(t)}function f0(e,t){if(e==="input"||e==="change")return Yi(t)}function m0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:m0;function Xn(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Ne.call(t,n)||!Lt(e[n],t[n]))return!1}return!0}function go(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xo(e,t){var a=go(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=go(a)}}function bo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_i(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=_i(e.document)}return t}function Cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var h0=Ta&&"documentMode"in document&&11>=document.documentMode,tn=null,Ec=null,Zn=null,zc=!1;function So(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zc||tn==null||tn!==_i(l)||(l=tn,"selectionStart"in l&&Cc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zn&&Xn(Zn,l)||(Zn=l,l=ks(Ec,"onSelect"),0<l.length&&(t=new Li("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=tn)))}function Nl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var an={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionrun:Nl("Transition","TransitionRun"),transitionstart:Nl("Transition","TransitionStart"),transitioncancel:Nl("Transition","TransitionCancel"),transitionend:Nl("Transition","TransitionEnd")},Tc={},Mo={};Ta&&(Mo=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function Cl(e){if(Tc[e])return Tc[e];if(!an[e])return e;var t=an[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Mo)return Tc[e]=t[a];return e}var jo=Cl("animationend"),No=Cl("animationiteration"),Co=Cl("animationstart"),y0=Cl("transitionrun"),p0=Cl("transitionstart"),g0=Cl("transitioncancel"),Eo=Cl("transitionend"),zo=new Map,wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wc.push("scrollEnd");function ma(e,t){zo.set(e,t),Ml(t,[e])}var Vi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ea=[],ln=0,kc=0;function Xi(){for(var e=ln,t=kc=ln=0;t<e;){var a=ea[t];ea[t++]=null;var l=ea[t];ea[t++]=null;var n=ea[t];ea[t++]=null;var i=ea[t];if(ea[t++]=null,l!==null&&n!==null){var r=l.pending;r===null?n.next=n:(n.next=r.next,r.next=n),l.pending=n}i!==0&&To(a,n,i)}}function Zi(e,t,a,l){ea[ln++]=e,ea[ln++]=t,ea[ln++]=a,ea[ln++]=l,kc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ac(e,t,a,l){return Zi(e,t,a,l),Qi(e)}function El(e,t){return Zi(e,null,null,t),Qi(e)}function To(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Et(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),i):null}function Qi(e){if(50<mi)throw mi=0,Lr=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var nn={};function x0(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,a,l){return new x0(e,t,a,l)}function Rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wa(e,t){var a=e.alternate;return a===null?(a=Gt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function wo(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ki(e,t,a,l,n,i){var r=0;if(l=e,typeof e=="function")Rc(e)&&(r=1);else if(typeof e=="string")r=j1(e,a,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=Gt(31,a,t,n),e.elementType=ue,e.lanes=i,e;case _:return zl(a.children,n,i,t);case D:r=8,n|=24;break;case G:return e=Gt(12,a,t,n|2),e.elementType=G,e.lanes=i,e;case V:return e=Gt(13,a,t,n),e.elementType=V,e.lanes=i,e;case $:return e=Gt(19,a,t,n),e.elementType=$,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:r=10;break e;case B:r=9;break e;case S:r=11;break e;case T:r=14;break e;case P:r=16,l=null;break e}r=29,a=Error(u(130,e===null?"null":typeof e,"")),l=null}return t=Gt(r,a,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function zl(e,t,a,l){return e=Gt(7,e,l,t),e.lanes=a,e}function Dc(e,t,a){return e=Gt(6,e,null,t),e.lanes=a,e}function ko(e){var t=Gt(18,null,null,0);return t.stateNode=e,t}function Oc(e,t,a){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ao=new WeakMap;function ta(e,t){if(typeof e=="object"&&e!==null){var a=Ao.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Oe(t)},Ao.set(e,t),t)}return{value:e,source:t,stack:Oe(t)}}var sn=[],cn=0,Ji=null,Qn=0,aa=[],la=0,$a=null,xa=1,ba="";function ka(e,t){sn[cn++]=Qn,sn[cn++]=Ji,Ji=e,Qn=t}function Ro(e,t,a){aa[la++]=xa,aa[la++]=ba,aa[la++]=$a,$a=e;var l=xa;e=ba;var n=32-Et(l)-1;l&=~(1<<n),a+=1;var i=32-Et(t)+n;if(30<i){var r=n-n%5;i=(l&(1<<r)-1).toString(32),l>>=r,n-=r,xa=1<<32-Et(t)+n|a<<n|l,ba=i+e}else xa=1<<i|a<<n|l,ba=e}function _c(e){e.return!==null&&(ka(e,1),Ro(e,1,0))}function qc(e){for(;e===Ji;)Ji=sn[--cn],sn[cn]=null,Qn=sn[--cn],sn[cn]=null;for(;e===$a;)$a=aa[--la],aa[la]=null,ba=aa[--la],aa[la]=null,xa=aa[--la],aa[la]=null}function Do(e,t){aa[la++]=xa,aa[la++]=ba,aa[la++]=$a,xa=t.id,ba=t.overflow,$a=e}var vt=null,Fe=null,Ae=!1,Fa=null,na=!1,Hc=Error(u(519));function Wa(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kn(ta(t,e)),Hc}function Oo(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[bt]=e,t[At]=l,a){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(a=0;a<yi.length;a++)Ee(yi[a],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Qu(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),Ju(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||If(t.textContent,a)?(l.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),l.onScroll!=null&&Ee("scroll",t),l.onScrollEnd!=null&&Ee("scrollend",t),l.onClick!=null&&(t.onclick=za),t=!0):t=!1,t||Wa(e,!0)}function _o(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:na=!1;return;case 27:case 3:na=!0;return;default:vt=vt.return}}function rn(e){if(e!==vt)return!1;if(!Ae)return _o(e),Ae=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||tu(e.type,e.memoizedProps)),a=!a),a&&Fe&&Wa(e),_o(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Fe=cm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Fe=cm(e)}else t===27?(t=Fe,dl(e.type)?(e=su,su=null,Fe=e):Fe=t):Fe=vt?sa(e.stateNode.nextSibling):null;return!0}function Tl(){Fe=vt=null,Ae=!1}function Bc(){var e=Fa;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),Fa=null),e}function Kn(e){Fa===null?Fa=[e]:Fa.push(e)}var Uc=v(null),wl=null,Aa=null;function Ia(e,t,a){F(Uc,t._currentValue),t._currentValue=a}function Ra(e){e._currentValue=Uc.current,L(Uc)}function Lc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Gc(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var f=i;i=n;for(var x=0;x<t.length;x++)if(f.context===t[x]){i.lanes|=a,f=i.alternate,f!==null&&(f.lanes|=a),Lc(i.return,a,e),l||(r=null);break e}i=f.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(u(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),Lc(r,a,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function un(e,t,a,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(u(387));if(r=r.memoizedProps,r!==null){var f=n.type;Lt(n.pendingProps.value,r.value)||(e!==null?e.push(f):e=[f])}}else if(n===be.current){if(r=n.alternate,r===null)throw Error(u(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(vi):e=[vi])}n=n.return}e!==null&&Gc(t,e,a,l),t.flags|=262144}function $i(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kl(e){wl=e,Aa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return qo(wl,e)}function Fi(e,t){return wl===null&&kl(e),qo(e,t)}function qo(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Aa===null){if(e===null)throw Error(u(308));Aa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Aa=Aa.next=t;return a}var b0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},v0=c.unstable_scheduleCallback,S0=c.unstable_NormalPriority,st={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new b0,data:new Map,refCount:0}}function Jn(e){e.refCount--,e.refCount===0&&v0(S0,function(){e.controller.abort()})}var $n=null,Vc=0,on=0,dn=null;function M0(e,t){if($n===null){var a=$n=[];Vc=0,on=Qr(),dn={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vc++,t.then(Ho,Ho),t}function Ho(){if(--Vc===0&&$n!==null){dn!==null&&(dn.status="fulfilled");var e=$n;$n=null,on=0,dn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function j0(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var Bo=w.S;w.S=function(e,t){Mf=Ke(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&M0(e,t),Bo!==null&&Bo(e,t)};var Al=v(null);function Xc(){var e=Al.current;return e!==null?e:Qe.pooledCache}function Wi(e,t){t===null?F(Al,Al.current):F(Al,t.pool)}function Uo(){var e=Xc();return e===null?null:{parent:st._currentValue,pool:e}}var fn=Error(u(460)),Zc=Error(u(474)),Ii=Error(u(542)),Pi={then:function(){}};function Lo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Go(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(za,za),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vo(e),e;default:if(typeof t.status=="string")t.then(za,za);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vo(e),e}throw Dl=t,fn}}function Rl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Dl=a,fn):a}}var Dl=null;function Yo(){if(Dl===null)throw Error(u(459));var e=Dl;return Dl=null,e}function Vo(e){if(e===fn||e===Ii)throw Error(u(483))}var mn=null,Fn=0;function es(e){var t=Fn;return Fn+=1,mn===null&&(mn=[]),Go(mn,e,t)}function Wn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ts(e,t){throw t.$$typeof===j?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xo(e){function t(C,M){if(e){var k=C.deletions;k===null?(C.deletions=[M],C.flags|=16):k.push(M)}}function a(C,M){if(!e)return null;for(;M!==null;)t(C,M),M=M.sibling;return null}function l(C){for(var M=new Map;C!==null;)C.key!==null?M.set(C.key,C):M.set(C.index,C),C=C.sibling;return M}function n(C,M){return C=wa(C,M),C.index=0,C.sibling=null,C}function i(C,M,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<M?(C.flags|=67108866,M):k):(C.flags|=67108866,M)):(C.flags|=1048576,M)}function r(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function f(C,M,k,Y){return M===null||M.tag!==6?(M=Dc(k,C.mode,Y),M.return=C,M):(M=n(M,k),M.return=C,M)}function x(C,M,k,Y){var oe=k.type;return oe===_?U(C,M,k.props.children,Y,k.key):M!==null&&(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===P&&Rl(oe)===M.type)?(M=n(M,k.props),Wn(M,k),M.return=C,M):(M=Ki(k.type,k.key,k.props,null,C.mode,Y),Wn(M,k),M.return=C,M)}function R(C,M,k,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=Oc(k,C.mode,Y),M.return=C,M):(M=n(M,k.children||[]),M.return=C,M)}function U(C,M,k,Y,oe){return M===null||M.tag!==7?(M=zl(k,C.mode,Y,oe),M.return=C,M):(M=n(M,k),M.return=C,M)}function X(C,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Dc(""+M,C.mode,k),M.return=C,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z:return k=Ki(M.type,M.key,M.props,null,C.mode,k),Wn(k,M),k.return=C,k;case H:return M=Oc(M,C.mode,k),M.return=C,M;case P:return M=Rl(M),X(C,M,k)}if(pe(M)||J(M))return M=zl(M,C.mode,k,null),M.return=C,M;if(typeof M.then=="function")return X(C,es(M),k);if(M.$$typeof===Z)return X(C,Fi(C,M),k);ts(C,M)}return null}function O(C,M,k,Y){var oe=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return oe!==null?null:f(C,M,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case z:return k.key===oe?x(C,M,k,Y):null;case H:return k.key===oe?R(C,M,k,Y):null;case P:return k=Rl(k),O(C,M,k,Y)}if(pe(k)||J(k))return oe!==null?null:U(C,M,k,Y,null);if(typeof k.then=="function")return O(C,M,es(k),Y);if(k.$$typeof===Z)return O(C,M,Fi(C,k),Y);ts(C,k)}return null}function q(C,M,k,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return C=C.get(k)||null,f(M,C,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:return C=C.get(Y.key===null?k:Y.key)||null,x(M,C,Y,oe);case H:return C=C.get(Y.key===null?k:Y.key)||null,R(M,C,Y,oe);case P:return Y=Rl(Y),q(C,M,k,Y,oe)}if(pe(Y)||J(Y))return C=C.get(k)||null,U(M,C,Y,oe,null);if(typeof Y.then=="function")return q(C,M,k,es(Y),oe);if(Y.$$typeof===Z)return q(C,M,k,Fi(M,Y),oe);ts(M,Y)}return null}function ne(C,M,k,Y){for(var oe=null,_e=null,ce=M,je=M=0,we=null;ce!==null&&je<k.length;je++){ce.index>je?(we=ce,ce=null):we=ce.sibling;var qe=O(C,ce,k[je],Y);if(qe===null){ce===null&&(ce=we);break}e&&ce&&qe.alternate===null&&t(C,ce),M=i(qe,M,je),_e===null?oe=qe:_e.sibling=qe,_e=qe,ce=we}if(je===k.length)return a(C,ce),Ae&&ka(C,je),oe;if(ce===null){for(;je<k.length;je++)ce=X(C,k[je],Y),ce!==null&&(M=i(ce,M,je),_e===null?oe=ce:_e.sibling=ce,_e=ce);return Ae&&ka(C,je),oe}for(ce=l(ce);je<k.length;je++)we=q(ce,C,je,k[je],Y),we!==null&&(e&&we.alternate!==null&&ce.delete(we.key===null?je:we.key),M=i(we,M,je),_e===null?oe=we:_e.sibling=we,_e=we);return e&&ce.forEach(function(pl){return t(C,pl)}),Ae&&ka(C,je),oe}function fe(C,M,k,Y){if(k==null)throw Error(u(151));for(var oe=null,_e=null,ce=M,je=M=0,we=null,qe=k.next();ce!==null&&!qe.done;je++,qe=k.next()){ce.index>je?(we=ce,ce=null):we=ce.sibling;var pl=O(C,ce,qe.value,Y);if(pl===null){ce===null&&(ce=we);break}e&&ce&&pl.alternate===null&&t(C,ce),M=i(pl,M,je),_e===null?oe=pl:_e.sibling=pl,_e=pl,ce=we}if(qe.done)return a(C,ce),Ae&&ka(C,je),oe;if(ce===null){for(;!qe.done;je++,qe=k.next())qe=X(C,qe.value,Y),qe!==null&&(M=i(qe,M,je),_e===null?oe=qe:_e.sibling=qe,_e=qe);return Ae&&ka(C,je),oe}for(ce=l(ce);!qe.done;je++,qe=k.next())qe=q(ce,C,je,qe.value,Y),qe!==null&&(e&&qe.alternate!==null&&ce.delete(qe.key===null?je:qe.key),M=i(qe,M,je),_e===null?oe=qe:_e.sibling=qe,_e=qe);return e&&ce.forEach(function(O1){return t(C,O1)}),Ae&&ka(C,je),oe}function Xe(C,M,k,Y){if(typeof k=="object"&&k!==null&&k.type===_&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case z:e:{for(var oe=k.key;M!==null;){if(M.key===oe){if(oe=k.type,oe===_){if(M.tag===7){a(C,M.sibling),Y=n(M,k.props.children),Y.return=C,C=Y;break e}}else if(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===P&&Rl(oe)===M.type){a(C,M.sibling),Y=n(M,k.props),Wn(Y,k),Y.return=C,C=Y;break e}a(C,M);break}else t(C,M);M=M.sibling}k.type===_?(Y=zl(k.props.children,C.mode,Y,k.key),Y.return=C,C=Y):(Y=Ki(k.type,k.key,k.props,null,C.mode,Y),Wn(Y,k),Y.return=C,C=Y)}return r(C);case H:e:{for(oe=k.key;M!==null;){if(M.key===oe)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){a(C,M.sibling),Y=n(M,k.children||[]),Y.return=C,C=Y;break e}else{a(C,M);break}else t(C,M);M=M.sibling}Y=Oc(k,C.mode,Y),Y.return=C,C=Y}return r(C);case P:return k=Rl(k),Xe(C,M,k,Y)}if(pe(k))return ne(C,M,k,Y);if(J(k)){if(oe=J(k),typeof oe!="function")throw Error(u(150));return k=oe.call(k),fe(C,M,k,Y)}if(typeof k.then=="function")return Xe(C,M,es(k),Y);if(k.$$typeof===Z)return Xe(C,M,Fi(C,k),Y);ts(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(a(C,M.sibling),Y=n(M,k),Y.return=C,C=Y):(a(C,M),Y=Dc(k,C.mode,Y),Y.return=C,C=Y),r(C)):a(C,M)}return function(C,M,k,Y){try{Fn=0;var oe=Xe(C,M,k,Y);return mn=null,oe}catch(ce){if(ce===fn||ce===Ii)throw ce;var _e=Gt(29,ce,null,C.mode);return _e.lanes=Y,_e.return=C,_e}finally{}}}var Ol=Xo(!0),Zo=Xo(!1),Pa=!1;function Qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function el(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tl(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=Qi(e),To(e,null,a),t}return Zi(e,l,t,a),Qi(e)}function In(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,ht(e,a)}}function Jc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var $c=!1;function Pn(){if($c){var e=dn;if(e!==null)throw e}}function ei(e,t,a,l){$c=!1;var n=e.updateQueue;Pa=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,f=n.shared.pending;if(f!==null){n.shared.pending=null;var x=f,R=x.next;x.next=null,r===null?i=R:r.next=R,r=x;var U=e.alternate;U!==null&&(U=U.updateQueue,f=U.lastBaseUpdate,f!==r&&(f===null?U.firstBaseUpdate=R:f.next=R,U.lastBaseUpdate=x))}if(i!==null){var X=n.baseState;r=0,U=R=x=null,f=i;do{var O=f.lane&-536870913,q=O!==f.lane;if(q?(Te&O)===O:(l&O)===O){O!==0&&O===on&&($c=!0),U!==null&&(U=U.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var ne=e,fe=f;O=t;var Xe=a;switch(fe.tag){case 1:if(ne=fe.payload,typeof ne=="function"){X=ne.call(Xe,X,O);break e}X=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=fe.payload,O=typeof ne=="function"?ne.call(Xe,X,O):ne,O==null)break e;X=N({},X,O);break e;case 2:Pa=!0}}O=f.callback,O!==null&&(e.flags|=64,q&&(e.flags|=8192),q=n.callbacks,q===null?n.callbacks=[O]:q.push(O))}else q={lane:O,tag:f.tag,payload:f.payload,callback:f.callback,next:null},U===null?(R=U=q,x=X):U=U.next=q,r|=O;if(f=f.next,f===null){if(f=n.shared.pending,f===null)break;q=f,f=q.next,q.next=null,n.lastBaseUpdate=q,n.shared.pending=null}}while(!0);U===null&&(x=X),n.baseState=x,n.firstBaseUpdate=R,n.lastBaseUpdate=U,i===null&&(n.shared.lanes=0),sl|=r,e.lanes=r,e.memoizedState=X}}function Qo(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function Ko(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Qo(a[e],t)}var hn=v(null),as=v(0);function Jo(e,t){e=Ga,F(as,e),F(hn,t),Ga=e|t.baseLanes}function Fc(){F(as,Ga),F(hn,hn.current)}function Wc(){Ga=as.current,L(hn),L(as)}var Yt=v(null),ia=null;function al(e){var t=e.alternate;F(nt,nt.current&1),F(Yt,e),ia===null&&(t===null||hn.current!==null||t.memoizedState!==null)&&(ia=e)}function Ic(e){F(nt,nt.current),F(Yt,e),ia===null&&(ia=e)}function $o(e){e.tag===22?(F(nt,nt.current),F(Yt,e),ia===null&&(ia=e)):ll()}function ll(){F(nt,nt.current),F(Yt,Yt.current)}function Vt(e){L(Yt),ia===e&&(ia=null),L(nt)}var nt=v(0);function ls(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||nu(a)||iu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da=0,Me=null,Ye=null,ct=null,ns=!1,yn=!1,_l=!1,is=0,ti=0,pn=null,N0=0;function et(){throw Error(u(321))}function Pc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Lt(e[a],t[a]))return!1;return!0}function er(e,t,a,l,n,i){return Da=i,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?Rd:yr,_l=!1,i=a(l,n),_l=!1,yn&&(i=Wo(t,a,l,n)),Fo(e),i}function Fo(e){w.H=ni;var t=Ye!==null&&Ye.next!==null;if(Da=0,ct=Ye=Me=null,ns=!1,ti=0,pn=null,t)throw Error(u(300));e===null||rt||(e=e.dependencies,e!==null&&$i(e)&&(rt=!0))}function Wo(e,t,a,l){Me=e;var n=0;do{if(yn&&(pn=null),ti=0,yn=!1,25<=n)throw Error(u(301));if(n+=1,ct=Ye=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}w.H=Dd,i=t(a,l)}while(yn);return i}function C0(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?ai(t):t,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Me.flags|=1024),t}function tr(){var e=is!==0;return is=0,e}function ar(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function lr(e){if(ns){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ns=!1}Da=0,ct=Ye=Me=null,yn=!1,ti=is=0,pn=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Me.memoizedState=ct=e:ct=ct.next=e,ct}function it(){if(Ye===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=ct===null?Me.memoizedState:ct.next;if(t!==null)ct=t,Ye=e;else{if(e===null)throw Me.alternate===null?Error(u(467)):Error(u(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},ct===null?Me.memoizedState=ct=e:ct=ct.next=e}return ct}function ss(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ai(e){var t=ti;return ti+=1,pn===null&&(pn=[]),e=Go(pn,e,t),t=Me,(ct===null?t.memoizedState:ct.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?Rd:yr),e}function cs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ai(e);if(e.$$typeof===Z)return St(e)}throw Error(u(438,String(e)))}function nr(e){var t=null,a=Me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ss(),Me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=ie;return t.index++,a}function Oa(e,t){return typeof t=="function"?t(e):t}function rs(e){var t=it();return ir(t,Ye,e)}function ir(e,t,a){var l=e.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var f=r=null,x=null,R=t,U=!1;do{var X=R.lane&-536870913;if(X!==R.lane?(Te&X)===X:(Da&X)===X){var O=R.revertLane;if(O===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),X===on&&(U=!0);else if((Da&O)===O){R=R.next,O===on&&(U=!0);continue}else X={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},x===null?(f=x=X,r=i):x=x.next=X,Me.lanes|=O,sl|=O;X=R.action,_l&&a(i,X),i=R.hasEagerState?R.eagerState:a(i,X)}else O={lane:X,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},x===null?(f=x=O,r=i):x=x.next=O,Me.lanes|=X,sl|=X;R=R.next}while(R!==null&&R!==t);if(x===null?r=i:x.next=f,!Lt(i,e.memoizedState)&&(rt=!0,U&&(a=dn,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=x,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function sr(e){var t=it(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);Lt(i,t.memoizedState)||(rt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function Io(e,t,a){var l=Me,n=it(),i=Ae;if(i){if(a===void 0)throw Error(u(407));a=a()}else a=t();var r=!Lt((Ye||n).memoizedState,a);if(r&&(n.memoizedState=a,rt=!0),n=n.queue,ur(td.bind(null,l,n,e),[e]),n.getSnapshot!==t||r||ct!==null&&ct.memoizedState.tag&1){if(l.flags|=2048,gn(9,{destroy:void 0},ed.bind(null,l,n,a,t),null),Qe===null)throw Error(u(349));i||(Da&127)!==0||Po(l,t,a)}return a}function Po(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Me.updateQueue,t===null?(t=ss(),Me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ed(e,t,a,l){t.value=a,t.getSnapshot=l,ad(t)&&ld(e)}function td(e,t,a){return a(function(){ad(t)&&ld(e)})}function ad(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Lt(e,a)}catch{return!0}}function ld(e){var t=El(e,2);t!==null&&Ht(t,e,2)}function cr(e){var t=zt();if(typeof e=="function"){var a=e;if(e=a(),_l){Wt(!0);try{a()}finally{Wt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:e},t}function nd(e,t,a,l){return e.baseState=a,ir(e,Ye,typeof l=="function"?l:Oa)}function E0(e,t,a,l,n){if(ds(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};w.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,id(t,i)):(i.next=a.next,t.pending=a.next=i)}}function id(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=w.T,r={};w.T=r;try{var f=a(n,l),x=w.S;x!==null&&x(r,f),sd(e,t,f)}catch(R){rr(e,t,R)}finally{i!==null&&r.types!==null&&(i.types=r.types),w.T=i}}else try{i=a(n,l),sd(e,t,i)}catch(R){rr(e,t,R)}}function sd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cd(e,t,l)},function(l){return rr(e,t,l)}):cd(e,t,a)}function cd(e,t,a){t.status="fulfilled",t.value=a,rd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,id(e,a)))}function rr(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,rd(t),t=t.next;while(t!==l)}e.action=null}function rd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ud(e,t){return t}function od(e,t){if(Ae){var a=Qe.formState;if(a!==null){e:{var l=Me;if(Ae){if(Fe){t:{for(var n=Fe,i=na;n.nodeType!==8;){if(!i){n=null;break t}if(n=sa(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Fe=sa(n.nextSibling),l=n.data==="F!";break e}}Wa(l)}l=!1}l&&(t=a[0])}}return a=zt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:t},a.queue=l,a=wd.bind(null,Me,l),l.dispatch=a,l=cr(!1),i=hr.bind(null,Me,!1,l.queue),l=zt(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=E0.bind(null,Me,n,i,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function dd(e){var t=it();return fd(t,Ye,e)}function fd(e,t,a){if(t=ir(e,t,ud)[0],e=rs(Oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ai(t)}catch(r){throw r===fn?Ii:r}else l=t;t=it();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(Me.flags|=2048,gn(9,{destroy:void 0},z0.bind(null,n,a),null)),[l,i,e]}function z0(e,t){e.action=t}function md(e){var t=it(),a=Ye;if(a!==null)return fd(t,a,e);it(),t=t.memoizedState,a=it();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function gn(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Me.updateQueue,t===null&&(t=ss(),Me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function hd(){return it().memoizedState}function us(e,t,a,l){var n=zt();Me.flags|=e,n.memoizedState=gn(1|t,{destroy:void 0},a,l===void 0?null:l)}function os(e,t,a,l){var n=it();l=l===void 0?null:l;var i=n.memoizedState.inst;Ye!==null&&l!==null&&Pc(l,Ye.memoizedState.deps)?n.memoizedState=gn(t,i,a,l):(Me.flags|=e,n.memoizedState=gn(1|t,i,a,l))}function yd(e,t){us(8390656,8,e,t)}function ur(e,t){os(2048,8,e,t)}function T0(e){Me.flags|=4;var t=Me.updateQueue;if(t===null)t=ss(),Me.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function pd(e){var t=it().memoizedState;return T0({ref:t,nextImpl:e}),function(){if((He&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function gd(e,t){return os(4,2,e,t)}function xd(e,t){return os(4,4,e,t)}function bd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vd(e,t,a){a=a!=null?a.concat([e]):null,os(4,4,bd.bind(null,t,e),a)}function or(){}function Sd(e,t){var a=it();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Pc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Md(e,t){var a=it();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Pc(t,l[1]))return l[0];if(l=e(),_l){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[l,t],l}function dr(e,t,a){return a===void 0||(Da&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Nf(),Me.lanes|=e,sl|=e,a)}function jd(e,t,a,l){return Lt(a,t)?a:hn.current!==null?(e=dr(e,a,l),Lt(e,t)||(rt=!0),e):(Da&42)===0||(Da&1073741824)!==0&&(Te&261930)===0?(rt=!0,e.memoizedState=a):(e=Nf(),Me.lanes|=e,sl|=e,t)}function Nd(e,t,a,l,n){var i=K.p;K.p=i!==0&&8>i?i:8;var r=w.T,f={};w.T=f,hr(e,!1,t,a);try{var x=n(),R=w.S;if(R!==null&&R(f,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var U=j0(x,l);li(e,t,U,Qt(e))}else li(e,t,l,Qt(e))}catch(X){li(e,t,{then:function(){},status:"rejected",reason:X},Qt())}finally{K.p=i,r!==null&&f.types!==null&&(r.types=f.types),w.T=r}}function w0(){}function fr(e,t,a,l){if(e.tag!==5)throw Error(u(476));var n=Cd(e).queue;Nd(e,n,t,ee,a===null?w0:function(){return Ed(e),a(l)})}function Cd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ed(e){var t=Cd(e);t.next===null&&(t=e.alternate.memoizedState),li(e,t.next.queue,{},Qt())}function mr(){return St(vi)}function zd(){return it().memoizedState}function Td(){return it().memoizedState}function k0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Qt();e=el(a);var l=tl(t,e,a);l!==null&&(Ht(l,t,a),In(l,t,a)),t={cache:Yc()},e.payload=t;return}t=t.return}}function A0(e,t,a){var l=Qt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ds(e)?kd(t,a):(a=Ac(e,t,a,l),a!==null&&(Ht(a,e,l),Ad(a,t,l)))}function wd(e,t,a){var l=Qt();li(e,t,a,l)}function li(e,t,a,l){var n={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ds(e))kd(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,f=i(r,a);if(n.hasEagerState=!0,n.eagerState=f,Lt(f,r))return Zi(e,t,n,0),Qe===null&&Xi(),!1}catch{}finally{}if(a=Ac(e,t,n,l),a!==null)return Ht(a,e,l),Ad(a,t,l),!0}return!1}function hr(e,t,a,l){if(l={lane:2,revertLane:Qr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ds(e)){if(t)throw Error(u(479))}else t=Ac(e,a,l,2),t!==null&&Ht(t,e,2)}function ds(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function kd(e,t){yn=ns=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ad(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,ht(e,a)}}var ni={readContext:St,use:cs,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};ni.useEffectEvent=et;var Rd={readContext:St,use:cs,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:yd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,us(4194308,4,bd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return us(4194308,4,e,t)},useInsertionEffect:function(e,t){us(4,2,e,t)},useMemo:function(e,t){var a=zt();t=t===void 0?null:t;var l=e();if(_l){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=zt();if(a!==void 0){var n=a(t);if(_l){Wt(!0);try{a(t)}finally{Wt(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=A0.bind(null,Me,e),[l.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=cr(e);var t=e.queue,a=wd.bind(null,Me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:or,useDeferredValue:function(e,t){var a=zt();return dr(a,e,t)},useTransition:function(){var e=cr(!1);return e=Nd.bind(null,Me,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Me,n=zt();if(Ae){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),Qe===null)throw Error(u(349));(Te&127)!==0||Po(l,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,yd(td.bind(null,l,i,e),[e]),l.flags|=2048,gn(9,{destroy:void 0},ed.bind(null,l,i,a,t),null),a},useId:function(){var e=zt(),t=Qe.identifierPrefix;if(Ae){var a=ba,l=xa;a=(l&~(1<<32-Et(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=is++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=N0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:mr,useFormState:od,useActionState:od,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=hr.bind(null,Me,!0,a),a.dispatch=t,[e,t]},useMemoCache:nr,useCacheRefresh:function(){return zt().memoizedState=k0.bind(null,Me)},useEffectEvent:function(e){var t=zt(),a={impl:e};return t.memoizedState=a,function(){if((He&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}},yr={readContext:St,use:cs,useCallback:Sd,useContext:St,useEffect:ur,useImperativeHandle:vd,useInsertionEffect:gd,useLayoutEffect:xd,useMemo:Md,useReducer:rs,useRef:hd,useState:function(){return rs(Oa)},useDebugValue:or,useDeferredValue:function(e,t){var a=it();return jd(a,Ye.memoizedState,e,t)},useTransition:function(){var e=rs(Oa)[0],t=it().memoizedState;return[typeof e=="boolean"?e:ai(e),t]},useSyncExternalStore:Io,useId:zd,useHostTransitionStatus:mr,useFormState:dd,useActionState:dd,useOptimistic:function(e,t){var a=it();return nd(a,Ye,e,t)},useMemoCache:nr,useCacheRefresh:Td};yr.useEffectEvent=pd;var Dd={readContext:St,use:cs,useCallback:Sd,useContext:St,useEffect:ur,useImperativeHandle:vd,useInsertionEffect:gd,useLayoutEffect:xd,useMemo:Md,useReducer:sr,useRef:hd,useState:function(){return sr(Oa)},useDebugValue:or,useDeferredValue:function(e,t){var a=it();return Ye===null?dr(a,e,t):jd(a,Ye.memoizedState,e,t)},useTransition:function(){var e=sr(Oa)[0],t=it().memoizedState;return[typeof e=="boolean"?e:ai(e),t]},useSyncExternalStore:Io,useId:zd,useHostTransitionStatus:mr,useFormState:md,useActionState:md,useOptimistic:function(e,t){var a=it();return Ye!==null?nd(a,Ye,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:nr,useCacheRefresh:Td};Dd.useEffectEvent=pd;function pr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:N({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var gr={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Qt(),n=el(l);n.payload=t,a!=null&&(n.callback=a),t=tl(e,n,l),t!==null&&(Ht(t,e,l),In(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Qt(),n=el(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=tl(e,n,l),t!==null&&(Ht(t,e,l),In(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Qt(),l=el(a);l.tag=2,t!=null&&(l.callback=t),t=tl(e,l,a),t!==null&&(Ht(t,e,a),In(t,e,a))}};function Od(e,t,a,l,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,r):t.prototype&&t.prototype.isPureReactComponent?!Xn(a,l)||!Xn(n,i):!0}function _d(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&gr.enqueueReplaceState(t,t.state,null)}function ql(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=N({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function qd(e){Vi(e)}function Hd(e){console.error(e)}function Bd(e){Vi(e)}function fs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Ud(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function xr(e,t,a){return a=el(a),a.tag=3,a.payload={element:null},a.callback=function(){fs(e,t)},a}function Ld(e){return e=el(e),e.tag=3,e}function Gd(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){Ud(t,a,l)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Ud(t,a,l),typeof n!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var f=l.stack;this.componentDidCatch(l.value,{componentStack:f!==null?f:""})})}function R0(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&un(t,a,n,!0),a=Yt.current,a!==null){switch(a.tag){case 31:case 13:return ia===null?Ns():a.alternate===null&&tt===0&&(tt=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===Pi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Vr(e,l,n)),!1;case 22:return a.flags|=65536,l===Pi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Vr(e,l,n)),!1}throw Error(u(435,a.tag))}return Vr(e,l,n),Ns(),!1}if(Ae)return t=Yt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==Hc&&(e=Error(u(422),{cause:l}),Kn(ta(e,a)))):(l!==Hc&&(t=Error(u(423),{cause:l}),Kn(ta(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=ta(l,a),n=xr(e.stateNode,l,n),Jc(e,n),tt!==4&&(tt=2)),!1;var i=Error(u(520),{cause:l});if(i=ta(i,a),fi===null?fi=[i]:fi.push(i),tt!==4&&(tt=2),t===null)return!0;l=ta(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=xr(a.stateNode,l,e),Jc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(cl===null||!cl.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Ld(n),Gd(n,e,a,l),Jc(a,n),!1}a=a.return}while(a!==null);return!1}var br=Error(u(461)),rt=!1;function Mt(e,t,a,l){t.child=e===null?Zo(t,null,a,l):Ol(t,e.child,a,l)}function Yd(e,t,a,l,n){a=a.render;var i=t.ref;if("ref"in l){var r={};for(var f in l)f!=="ref"&&(r[f]=l[f])}else r=l;return kl(t),l=er(e,t,a,r,i,n),f=tr(),e!==null&&!rt?(ar(e,t,n),_a(e,t,n)):(Ae&&f&&_c(t),t.flags|=1,Mt(e,t,l,n),t.child)}function Vd(e,t,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!Rc(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Xd(e,t,i,l,n)):(e=Ki(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!zr(e,n)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:Xn,a(r,l)&&e.ref===t.ref)return _a(e,t,n)}return t.flags|=1,e=wa(i,l),e.ref=t.ref,e.return=t,t.child=e}function Xd(e,t,a,l,n){if(e!==null){var i=e.memoizedProps;if(Xn(i,l)&&e.ref===t.ref)if(rt=!1,t.pendingProps=l=i,zr(e,n))(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,_a(e,t,n)}return vr(e,t,a,l,n)}function Zd(e,t,a,l){var n=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~i}else l=0,t.child=null;return Qd(e,t,i,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wi(t,i!==null?i.cachePool:null),i!==null?Jo(t,i):Fc(),$o(t);else return l=t.lanes=536870912,Qd(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(Wi(t,i.cachePool),Jo(t,i),ll(),t.memoizedState=null):(e!==null&&Wi(t,null),Fc(),ll());return Mt(e,t,n,a),t.child}function ii(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Qd(e,t,a,l,n){var i=Xc();return i=i===null?null:{parent:st._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Wi(t,null),Fc(),$o(t),e!==null&&un(e,t,l,!0),t.childLanes=n,null}function ms(e,t){return t=ys({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Kd(e,t,a){return Ol(t,e.child,null,a),e=ms(t,t.pendingProps),e.flags|=2,Vt(t),t.memoizedState=null,e}function D0(e,t,a){var l=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(l.mode==="hidden")return e=ms(t,l),t.lanes=536870912,ii(null,e);if(Ic(t),(e=Fe)?(e=sm(e,na),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$a!==null?{id:xa,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},a=ko(e),a.return=t,t.child=a,vt=t,Fe=null)):e=null,e===null)throw Wa(t);return t.lanes=536870912,null}return ms(t,l)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Ic(t),n)if(t.flags&256)t.flags&=-257,t=Kd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(rt||un(e,t,a,!1),n=(a&e.childLanes)!==0,rt||n){if(l=Qe,l!==null&&(r=ic(l,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,El(e,r),Ht(l,e,r),br;Ns(),t=Kd(e,t,a)}else e=i.treeContext,Fe=sa(r.nextSibling),vt=t,Ae=!0,Fa=null,na=!1,e!==null&&Do(t,e),t=ms(t,l),t.flags|=4096;return t}return e=wa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function hs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function vr(e,t,a,l,n){return kl(t),a=er(e,t,a,l,void 0,n),l=tr(),e!==null&&!rt?(ar(e,t,n),_a(e,t,n)):(Ae&&l&&_c(t),t.flags|=1,Mt(e,t,a,n),t.child)}function Jd(e,t,a,l,n,i){return kl(t),t.updateQueue=null,a=Wo(t,l,a,n),Fo(e),l=tr(),e!==null&&!rt?(ar(e,t,i),_a(e,t,i)):(Ae&&l&&_c(t),t.flags|=1,Mt(e,t,a,i),t.child)}function $d(e,t,a,l,n){if(kl(t),t.stateNode===null){var i=nn,r=a.contextType;typeof r=="object"&&r!==null&&(i=St(r)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=gr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Qc(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?St(r):nn,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(pr(t,a,r,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&gr.enqueueReplaceState(i,i.state,null),ei(t,l,i,n),Pn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var f=t.memoizedProps,x=ql(a,f);i.props=x;var R=i.context,U=a.contextType;r=nn,typeof U=="object"&&U!==null&&(r=St(U));var X=a.getDerivedStateFromProps;U=typeof X=="function"||typeof i.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,U||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f||R!==r)&&_d(t,i,l,r),Pa=!1;var O=t.memoizedState;i.state=O,ei(t,l,i,n),Pn(),R=t.memoizedState,f||O!==R||Pa?(typeof X=="function"&&(pr(t,a,X,l),R=t.memoizedState),(x=Pa||Od(t,a,x,l,O,R,r))?(U||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=R),i.props=l,i.state=R,i.context=r,l=x):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Kc(e,t),r=t.memoizedProps,U=ql(a,r),i.props=U,X=t.pendingProps,O=i.context,R=a.contextType,x=nn,typeof R=="object"&&R!==null&&(x=St(R)),f=a.getDerivedStateFromProps,(R=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==X||O!==x)&&_d(t,i,l,x),Pa=!1,O=t.memoizedState,i.state=O,ei(t,l,i,n),Pn();var q=t.memoizedState;r!==X||O!==q||Pa||e!==null&&e.dependencies!==null&&$i(e.dependencies)?(typeof f=="function"&&(pr(t,a,f,l),q=t.memoizedState),(U=Pa||Od(t,a,U,l,O,q,x)||e!==null&&e.dependencies!==null&&$i(e.dependencies))?(R||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,q,x),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,q,x)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=q),i.props=l,i.state=q,i.context=x,l=U):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,hs(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Ol(t,e.child,null,n),t.child=Ol(t,null,a,n)):Mt(e,t,a,n),t.memoizedState=i.state,e=t.child):e=_a(e,t,n),e}function Fd(e,t,a,l){return Tl(),t.flags|=256,Mt(e,t,a,l),t.child}var Sr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mr(e){return{baseLanes:e,cachePool:Uo()}}function jr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Zt),e}function Wd(e,t,a){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(n?al(t):ll(),(e=Fe)?(e=sm(e,na),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$a!==null?{id:xa,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},a=ko(e),a.return=t,t.child=a,vt=t,Fe=null)):e=null,e===null)throw Wa(t);return iu(e)?t.lanes=32:t.lanes=536870912,null}var f=l.children;return l=l.fallback,n?(ll(),n=t.mode,f=ys({mode:"hidden",children:f},n),l=zl(l,n,a,null),f.return=t,l.return=t,f.sibling=l,t.child=f,l=t.child,l.memoizedState=Mr(a),l.childLanes=jr(e,r,a),t.memoizedState=Sr,ii(null,l)):(al(t),Nr(t,f))}var x=e.memoizedState;if(x!==null&&(f=x.dehydrated,f!==null)){if(i)t.flags&256?(al(t),t.flags&=-257,t=Cr(e,t,a)):t.memoizedState!==null?(ll(),t.child=e.child,t.flags|=128,t=null):(ll(),f=l.fallback,n=t.mode,l=ys({mode:"visible",children:l.children},n),f=zl(f,n,a,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,Ol(t,e.child,null,a),l=t.child,l.memoizedState=Mr(a),l.childLanes=jr(e,r,a),t.memoizedState=Sr,t=ii(null,l));else if(al(t),iu(f)){if(r=f.nextSibling&&f.nextSibling.dataset,r)var R=r.dgst;r=R,l=Error(u(419)),l.stack="",l.digest=r,Kn({value:l,source:null,stack:null}),t=Cr(e,t,a)}else if(rt||un(e,t,a,!1),r=(a&e.childLanes)!==0,rt||r){if(r=Qe,r!==null&&(l=ic(r,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,El(e,l),Ht(r,e,l),br;nu(f)||Ns(),t=Cr(e,t,a)}else nu(f)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Fe=sa(f.nextSibling),vt=t,Ae=!0,Fa=null,na=!1,e!==null&&Do(t,e),t=Nr(t,l.children),t.flags|=4096);return t}return n?(ll(),f=l.fallback,n=t.mode,x=e.child,R=x.sibling,l=wa(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,R!==null?f=wa(R,f):(f=zl(f,n,a,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,ii(null,l),l=t.child,f=e.child.memoizedState,f===null?f=Mr(a):(n=f.cachePool,n!==null?(x=st._currentValue,n=n.parent!==x?{parent:x,pool:x}:n):n=Uo(),f={baseLanes:f.baseLanes|a,cachePool:n}),l.memoizedState=f,l.childLanes=jr(e,r,a),t.memoizedState=Sr,ii(e.child,l)):(al(t),a=e.child,e=a.sibling,a=wa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function Nr(e,t){return t=ys({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ys(e,t){return e=Gt(22,e,null,t),e.lanes=0,e}function Cr(e,t,a){return Ol(t,e.child,null,a),e=Nr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Id(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Lc(e.return,t,a)}function Er(e,t,a,l,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=n,r.treeForkCount=i)}function Pd(e,t,a){var l=t.pendingProps,n=l.revealOrder,i=l.tail;l=l.children;var r=nt.current,f=(r&2)!==0;if(f?(r=r&1|2,t.flags|=128):r&=1,F(nt,r),Mt(e,t,l,a),l=Ae?Qn:0,!f&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Id(e,a,t);else if(e.tag===19)Id(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&ls(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Er(t,!1,n,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ls(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Er(t,!0,a,null,i,l);break;case"together":Er(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function _a(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),sl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(un(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=wa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=wa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function zr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$i(e)))}function O0(e,t,a){switch(t.tag){case 3:Ze(t,t.stateNode.containerInfo),Ia(t,st,e.memoizedState.cache),Tl();break;case 27:case 5:Ut(t);break;case 4:Ze(t,t.stateNode.containerInfo);break;case 10:Ia(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ic(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(al(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Wd(e,t,a):(al(t),e=_a(e,t,a),e!==null?e.sibling:null);al(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(un(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Pd(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),F(nt,nt.current),l)break;return null;case 22:return t.lanes=0,Zd(e,t,a,t.pendingProps);case 24:Ia(t,st,e.memoizedState.cache)}return _a(e,t,a)}function ef(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)rt=!0;else{if(!zr(e,a)&&(t.flags&128)===0)return rt=!1,O0(e,t,a);rt=(e.flags&131072)!==0}else rt=!1,Ae&&(t.flags&1048576)!==0&&Ro(t,Qn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Rl(t.elementType),t.type=e,typeof e=="function")Rc(e)?(l=ql(e,l),t.tag=1,t=$d(null,t,e,l,a)):(t.tag=0,t=vr(null,t,e,l,a));else{if(e!=null){var n=e.$$typeof;if(n===S){t.tag=11,t=Yd(null,t,e,l,a);break e}else if(n===T){t.tag=14,t=Vd(null,t,e,l,a);break e}}throw t=Re(e)||e,Error(u(306,t,""))}}return t;case 0:return vr(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=ql(l,t.pendingProps),$d(e,t,l,n,a);case 3:e:{if(Ze(t,t.stateNode.containerInfo),e===null)throw Error(u(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,Kc(e,t),ei(t,l,null,a);var r=t.memoizedState;if(l=r.cache,Ia(t,st,l),l!==i.cache&&Gc(t,[st],a,!0),Pn(),l=r.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Fd(e,t,l,a);break e}else if(l!==n){n=ta(Error(u(424)),t),Kn(n),t=Fd(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Fe=sa(e.firstChild),vt=t,Ae=!0,Fa=null,na=!0,a=Zo(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Tl(),l===n){t=_a(e,t,a);break e}Mt(e,t,l,a)}t=t.child}return t;case 26:return hs(e,t),e===null?(a=fm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ae||(a=t.type,e=t.pendingProps,l=As(Se.current).createElement(a),l[bt]=t,l[At]=e,jt(l,a,e),yt(l),t.stateNode=l):t.memoizedState=fm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ut(t),e===null&&Ae&&(l=t.stateNode=um(t.type,t.pendingProps,Se.current),vt=t,na=!0,n=Fe,dl(t.type)?(su=n,Fe=sa(l.firstChild)):Fe=n),Mt(e,t,t.pendingProps.children,a),hs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((n=l=Fe)&&(l=o1(l,t.type,t.pendingProps,na),l!==null?(t.stateNode=l,vt=t,Fe=sa(l.firstChild),na=!1,n=!0):n=!1),n||Wa(t)),Ut(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,l=i.children,tu(n,i)?l=null:r!==null&&tu(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=er(e,t,C0,null,null,a),vi._currentValue=n),hs(e,t),Mt(e,t,l,a),t.child;case 6:return e===null&&Ae&&((e=a=Fe)&&(a=d1(a,t.pendingProps,na),a!==null?(t.stateNode=a,vt=t,Fe=null,e=!0):e=!1),e||Wa(t)),null;case 13:return Wd(e,t,a);case 4:return Ze(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ol(t,null,l,a):Mt(e,t,l,a),t.child;case 11:return Yd(e,t,t.type,t.pendingProps,a);case 7:return Mt(e,t,t.pendingProps,a),t.child;case 8:return Mt(e,t,t.pendingProps.children,a),t.child;case 12:return Mt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Ia(t,t.type,l.value),Mt(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,kl(t),n=St(n),l=l(n),t.flags|=1,Mt(e,t,l,a),t.child;case 14:return Vd(e,t,t.type,t.pendingProps,a);case 15:return Xd(e,t,t.type,t.pendingProps,a);case 19:return Pd(e,t,a);case 31:return D0(e,t,a);case 22:return Zd(e,t,a,t.pendingProps);case 24:return kl(t),l=St(st),e===null?(n=Xc(),n===null&&(n=Qe,i=Yc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:l,cache:n},Qc(t),Ia(t,st,n)):((e.lanes&a)!==0&&(Kc(e,t),ei(t,null,null,a),Pn()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Ia(t,st,l)):(l=i.cache,Ia(t,st,l),l!==n.cache&&Gc(t,[st],a,!0))),Mt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function qa(e){e.flags|=4}function Tr(e,t,a,l,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Tf())e.flags|=8192;else throw Dl=Pi,Zc}else e.flags&=-16777217}function tf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gm(t))if(Tf())e.flags|=8192;else throw Dl=Pi,Zc}function ps(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ke():536870912,e.lanes|=t,Sn|=t)}function si(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function _0(e,t,a){var l=t.pendingProps;switch(qc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return We(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ra(st),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(rn(t)?qa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Bc())),We(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(qa(t),i!==null?(We(t),tf(t,i)):(We(t),Tr(t,n,null,l,a))):i?i!==e.memoizedState?(qa(t),We(t),tf(t,i)):(We(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&qa(t),We(t),Tr(t,n,e,l,a)),null;case 27:if(Xa(t),a=Se.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&qa(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return We(t),null}e=te.current,rn(t)?Oo(t):(e=um(n,l,a),t.stateNode=e,qa(t))}return We(t),null;case 5:if(Xa(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&qa(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return We(t),null}if(i=te.current,rn(t))Oo(t);else{var r=As(Se.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?r.createElement("select",{is:l.is}):r.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?r.createElement(n,{is:l.is}):r.createElement(n)}}i[bt]=t,i[At]=l;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(jt(i,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qa(t)}}return We(t),Tr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&qa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(u(166));if(e=Se.current,rn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=vt,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[bt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||If(e.nodeValue,a)),e||Wa(t,!0)}else e=As(e).createTextNode(l),e[bt]=t,t.stateNode=e}return We(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=rn(t),a!==null){if(e===null){if(!l)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[bt]=t}else Tl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),e=!1}else a=Bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Vt(t),t):(Vt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return We(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=rn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(u(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(u(317));n[bt]=t}else Tl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),n=!1}else n=Bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Vt(t),t):(Vt(t),null)}return Vt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ps(t,t.updateQueue),We(t),null);case 4:return Ge(),e===null&&Fr(t.stateNode.containerInfo),We(t),null;case 10:return Ra(t.type),We(t),null;case 19:if(L(nt),l=t.memoizedState,l===null)return We(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)si(l,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=ls(e),i!==null){for(t.flags|=128,si(l,!1),e=i.updateQueue,t.updateQueue=e,ps(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)wo(a,e),a=a.sibling;return F(nt,nt.current&1|2),Ae&&ka(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ke()>Ss&&(t.flags|=128,n=!0,si(l,!1),t.lanes=4194304)}else{if(!n)if(e=ls(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,ps(t,e),si(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Ae)return We(t),null}else 2*Ke()-l.renderingStartTime>Ss&&a!==536870912&&(t.flags|=128,n=!0,si(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ke(),e.sibling=null,a=nt.current,F(nt,n?a&1|2:a&1),Ae&&ka(t,l.treeForkCount),e):(We(t),null);case 22:case 23:return Vt(t),Wc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),a=t.updateQueue,a!==null&&ps(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&L(Al),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ra(st),We(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function q0(e,t){switch(qc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ra(st),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xa(t),null;case 31:if(t.memoizedState!==null){if(Vt(t),t.alternate===null)throw Error(u(340));Tl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Vt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));Tl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(nt),null;case 4:return Ge(),null;case 10:return Ra(t.type),null;case 22:case 23:return Vt(t),Wc(),e!==null&&L(Al),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ra(st),null;case 25:return null;default:return null}}function af(e,t){switch(qc(t),t.tag){case 3:Ra(st),Ge();break;case 26:case 27:case 5:Xa(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&Vt(t);break;case 13:Vt(t);break;case 19:L(nt);break;case 10:Ra(t.type);break;case 22:case 23:Vt(t),Wc(),e!==null&&L(Al);break;case 24:Ra(st)}}function ci(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,r=a.inst;l=i(),r.destroy=l}a=a.next}while(a!==n)}}catch(f){Le(t,t.return,f)}}function nl(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var r=l.inst,f=r.destroy;if(f!==void 0){r.destroy=void 0,n=t;var x=a,R=f;try{R()}catch(U){Le(n,x,U)}}}l=l.next}while(l!==i)}}catch(U){Le(t,t.return,U)}}function lf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ko(t,a)}catch(l){Le(e,e.return,l)}}}function nf(e,t,a){a.props=ql(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Le(e,t,l)}}function ri(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){Le(e,t,n)}}function va(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){Le(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Le(e,t,n)}else a.current=null}function sf(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){Le(e,e.return,n)}}function wr(e,t,a){try{var l=e.stateNode;n1(l,e.type,a,t),l[At]=t}catch(n){Le(e,e.return,n)}}function cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&dl(e.type)||e.tag===4}function kr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&dl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ar(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=za));else if(l!==4&&(l===27&&dl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ar(e,t,a),e=e.sibling;e!==null;)Ar(e,t,a),e=e.sibling}function gs(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&dl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(gs(e,t,a),e=e.sibling;e!==null;)gs(e,t,a),e=e.sibling}function rf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);jt(t,l,a),t[bt]=e,t[At]=a}catch(i){Le(e,e.return,i)}}var Ha=!1,ut=!1,Rr=!1,uf=typeof WeakSet=="function"?WeakSet:Set,pt=null;function H0(e,t){if(e=e.containerInfo,Pr=Bs,e=vo(e),Cc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,f=-1,x=-1,R=0,U=0,X=e,O=null;t:for(;;){for(var q;X!==a||n!==0&&X.nodeType!==3||(f=r+n),X!==i||l!==0&&X.nodeType!==3||(x=r+l),X.nodeType===3&&(r+=X.nodeValue.length),(q=X.firstChild)!==null;)O=X,X=q;for(;;){if(X===e)break t;if(O===a&&++R===n&&(f=r),O===i&&++U===l&&(x=r),(q=X.nextSibling)!==null)break;X=O,O=X.parentNode}X=q}a=f===-1||x===-1?null:{start:f,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(eu={focusedElem:e,selectionRange:a},Bs=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var ne=ql(a.type,n);e=l.getSnapshotBeforeUpdate(ne,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Le(a,a.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)lu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function of(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ua(e,a),l&4&&ci(5,a);break;case 1:if(Ua(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){Le(a,a.return,r)}else{var n=ql(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Le(a,a.return,r)}}l&64&&lf(a),l&512&&ri(a,a.return);break;case 3:if(Ua(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ko(e,t)}catch(r){Le(a,a.return,r)}}break;case 27:t===null&&l&4&&rf(a);case 26:case 5:Ua(e,a),t===null&&l&4&&sf(a),l&512&&ri(a,a.return);break;case 12:Ua(e,a);break;case 31:Ua(e,a),l&4&&mf(e,a);break;case 13:Ua(e,a),l&4&&hf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Q0.bind(null,a),f1(e,a))));break;case 22:if(l=a.memoizedState!==null||Ha,!l){t=t!==null&&t.memoizedState!==null||ut,n=Ha;var i=ut;Ha=l,(ut=t)&&!i?La(e,a,(a.subtreeFlags&8772)!==0):Ua(e,a),Ha=n,ut=i}break;case 30:break;default:Ua(e,a)}}function df(e){var t=e.alternate;t!==null&&(e.alternate=null,df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&rc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,Dt=!1;function Ba(e,t,a){for(a=a.child;a!==null;)ff(e,t,a),a=a.sibling}function ff(e,t,a){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(da,a)}catch{}switch(a.tag){case 26:ut||va(a,t),Ba(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||va(a,t);var l=Ie,n=Dt;dl(a.type)&&(Ie=a.stateNode,Dt=!1),Ba(e,t,a),gi(a.stateNode),Ie=l,Dt=n;break;case 5:ut||va(a,t);case 6:if(l=Ie,n=Dt,Ie=null,Ba(e,t,a),Ie=l,Dt=n,Ie!==null)if(Dt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(a.stateNode)}catch(i){Le(a,t,i)}else try{Ie.removeChild(a.stateNode)}catch(i){Le(a,t,i)}break;case 18:Ie!==null&&(Dt?(e=Ie,nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),wn(e)):nm(Ie,a.stateNode));break;case 4:l=Ie,n=Dt,Ie=a.stateNode.containerInfo,Dt=!0,Ba(e,t,a),Ie=l,Dt=n;break;case 0:case 11:case 14:case 15:nl(2,a,t),ut||nl(4,a,t),Ba(e,t,a);break;case 1:ut||(va(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&nf(a,t,l)),Ba(e,t,a);break;case 21:Ba(e,t,a);break;case 22:ut=(l=ut)||a.memoizedState!==null,Ba(e,t,a),ut=l;break;default:Ba(e,t,a)}}function mf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wn(e)}catch(a){Le(t,t.return,a)}}}function hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wn(e)}catch(a){Le(t,t.return,a)}}function B0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new uf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new uf),t;default:throw Error(u(435,e.tag))}}function xs(e,t){var a=B0(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var n=K0.bind(null,e,l);l.then(n,n)}})}function Ot(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,r=t,f=r;e:for(;f!==null;){switch(f.tag){case 27:if(dl(f.type)){Ie=f.stateNode,Dt=!1;break e}break;case 5:Ie=f.stateNode,Dt=!1;break e;case 3:case 4:Ie=f.stateNode.containerInfo,Dt=!0;break e}f=f.return}if(Ie===null)throw Error(u(160));ff(i,r,n),Ie=null,Dt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yf(t,e),t=t.sibling}var ha=null;function yf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),_t(e),l&4&&(nl(3,e,e.return),ci(3,e),nl(5,e,e.return));break;case 1:Ot(t,e),_t(e),l&512&&(ut||a===null||va(a,a.return)),l&64&&Ha&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=ha;if(Ot(t,e),_t(e),l&512&&(ut||a===null||va(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[_n]||i[bt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),jt(i,l,a),i[bt]=e,yt(i),l=i;break e;case"link":var r=ym("link","href",n).get(l+(a.href||""));if(r){for(var f=0;f<r.length;f++)if(i=r[f],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(f,1);break t}}i=n.createElement(l),jt(i,l,a),n.head.appendChild(i);break;case"meta":if(r=ym("meta","content",n).get(l+(a.content||""))){for(f=0;f<r.length;f++)if(i=r[f],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(f,1);break t}}i=n.createElement(l),jt(i,l,a),n.head.appendChild(i);break;default:throw Error(u(468,l))}i[bt]=e,yt(i),l=i}e.stateNode=l}else pm(n,e.type,e.stateNode);else e.stateNode=hm(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?pm(n,e.type,e.stateNode):hm(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&wr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ot(t,e),_t(e),l&512&&(ut||a===null||va(a,a.return)),a!==null&&l&4&&wr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ot(t,e),_t(e),l&512&&(ut||a===null||va(a,a.return)),e.flags&32){n=e.stateNode;try{Wl(n,"")}catch(ne){Le(e,e.return,ne)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,wr(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Rr=!0);break;case 6:if(Ot(t,e),_t(e),l&4){if(e.stateNode===null)throw Error(u(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ne){Le(e,e.return,ne)}}break;case 3:if(Os=null,n=ha,ha=Rs(t.containerInfo),Ot(t,e),ha=n,_t(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wn(t.containerInfo)}catch(ne){Le(e,e.return,ne)}Rr&&(Rr=!1,pf(e));break;case 4:l=ha,ha=Rs(e.stateNode.containerInfo),Ot(t,e),_t(e),ha=l;break;case 12:Ot(t,e),_t(e);break;case 31:Ot(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xs(e,l)));break;case 13:Ot(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vs=Ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xs(e,l)));break;case 22:n=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,R=Ha,U=ut;if(Ha=R||n,ut=U||x,Ot(t,e),ut=U,Ha=R,_t(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||x||Ha||ut||Hl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){x=a=t;try{if(i=x.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{f=x.stateNode;var X=x.memoizedProps.style,O=X!=null&&X.hasOwnProperty("display")?X.display:null;f.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(ne){Le(x,x.return,ne)}}}else if(t.tag===6){if(a===null){x=t;try{x.stateNode.nodeValue=n?"":x.memoizedProps}catch(ne){Le(x,x.return,ne)}}}else if(t.tag===18){if(a===null){x=t;try{var q=x.stateNode;n?im(q,!0):im(x.stateNode,!1)}catch(ne){Le(x,x.return,ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xs(e,a))));break;case 19:Ot(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xs(e,l)));break;case 30:break;case 21:break;default:Ot(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(cf(l)){a=l;break}l=l.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var n=a.stateNode,i=kr(e);gs(e,i,n);break;case 5:var r=a.stateNode;a.flags&32&&(Wl(r,""),a.flags&=-33);var f=kr(e);gs(e,f,r);break;case 3:case 4:var x=a.stateNode.containerInfo,R=kr(e);Ar(e,R,x);break;default:throw Error(u(161))}}catch(U){Le(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)of(e,t.alternate,t),t=t.sibling}function Hl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:nl(4,t,t.return),Hl(t);break;case 1:va(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&nf(t,t.return,a),Hl(t);break;case 27:gi(t.stateNode);case 26:case 5:va(t,t.return),Hl(t);break;case 22:t.memoizedState===null&&Hl(t);break;case 30:Hl(t);break;default:Hl(t)}e=e.sibling}}function La(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:La(n,i,a),ci(4,i);break;case 1:if(La(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(R){Le(l,l.return,R)}if(l=i,n=l.updateQueue,n!==null){var f=l.stateNode;try{var x=n.shared.hiddenCallbacks;if(x!==null)for(n.shared.hiddenCallbacks=null,n=0;n<x.length;n++)Qo(x[n],f)}catch(R){Le(l,l.return,R)}}a&&r&64&&lf(i),ri(i,i.return);break;case 27:rf(i);case 26:case 5:La(n,i,a),a&&l===null&&r&4&&sf(i),ri(i,i.return);break;case 12:La(n,i,a);break;case 31:La(n,i,a),a&&r&4&&mf(n,i);break;case 13:La(n,i,a),a&&r&4&&hf(n,i);break;case 22:i.memoizedState===null&&La(n,i,a),ri(i,i.return);break;case 30:break;default:La(n,i,a)}t=t.sibling}}function Dr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Jn(a))}function Or(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jn(e))}function ya(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gf(e,t,a,l),t=t.sibling}function gf(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:ya(e,t,a,l),n&2048&&ci(9,t);break;case 1:ya(e,t,a,l);break;case 3:ya(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jn(e)));break;case 12:if(n&2048){ya(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,f=i.onPostCommit;typeof f=="function"&&f(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Le(t,t.return,x)}}else ya(e,t,a,l);break;case 31:ya(e,t,a,l);break;case 13:ya(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?ya(e,t,a,l):ui(e,t):i._visibility&2?ya(e,t,a,l):(i._visibility|=2,xn(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Dr(r,t);break;case 24:ya(e,t,a,l),n&2048&&Or(t.alternate,t);break;default:ya(e,t,a,l)}}function xn(e,t,a,l,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,f=a,x=l,R=r.flags;switch(r.tag){case 0:case 11:case 15:xn(i,r,f,x,n),ci(8,r);break;case 23:break;case 22:var U=r.stateNode;r.memoizedState!==null?U._visibility&2?xn(i,r,f,x,n):ui(i,r):(U._visibility|=2,xn(i,r,f,x,n)),n&&R&2048&&Dr(r.alternate,r);break;case 24:xn(i,r,f,x,n),n&&R&2048&&Or(r.alternate,r);break;default:xn(i,r,f,x,n)}t=t.sibling}}function ui(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:ui(a,l),n&2048&&Dr(l.alternate,l);break;case 24:ui(a,l),n&2048&&Or(l.alternate,l);break;default:ui(a,l)}t=t.sibling}}var oi=8192;function bn(e,t,a){if(e.subtreeFlags&oi)for(e=e.child;e!==null;)xf(e,t,a),e=e.sibling}function xf(e,t,a){switch(e.tag){case 26:bn(e,t,a),e.flags&oi&&e.memoizedState!==null&&N1(a,ha,e.memoizedState,e.memoizedProps);break;case 5:bn(e,t,a);break;case 3:case 4:var l=ha;ha=Rs(e.stateNode.containerInfo),bn(e,t,a),ha=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=oi,oi=16777216,bn(e,t,a),oi=l):bn(e,t,a));break;default:bn(e,t,a)}}function bf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function di(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];pt=l,Sf(l,e)}bf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vf(e),e=e.sibling}function vf(e){switch(e.tag){case 0:case 11:case 15:di(e),e.flags&2048&&nl(9,e,e.return);break;case 3:di(e);break;case 12:di(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bs(e)):di(e);break;default:di(e)}}function bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];pt=l,Sf(l,e)}bf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:nl(8,t,t.return),bs(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,bs(t));break;default:bs(t)}e=e.sibling}}function Sf(e,t){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:nl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,pt=l;else e:for(a=e;pt!==null;){l=pt;var n=l.sibling,i=l.return;if(df(l),l===a){pt=null;break e}if(n!==null){n.return=i,pt=n;break e}pt=i}}}var U0={getCacheForType:function(e){var t=St(st),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return St(st).controller.signal}},L0=typeof WeakMap=="function"?WeakMap:Map,He=0,Qe=null,Ce=null,Te=0,Ue=0,Xt=null,il=!1,vn=!1,_r=!1,Ga=0,tt=0,sl=0,Bl=0,qr=0,Zt=0,Sn=0,fi=null,qt=null,Hr=!1,vs=0,Mf=0,Ss=1/0,Ms=null,cl=null,ft=0,rl=null,Mn=null,Ya=0,Br=0,Ur=null,jf=null,mi=0,Lr=null;function Qt(){return(He&2)!==0&&Te!==0?Te&-Te:w.T!==null?Qr():Hu()}function Nf(){if(Zt===0)if((Te&536870912)===0||Ae){var e=Vl;Vl<<=1,(Vl&3932160)===0&&(Vl=262144),Zt=e}else Zt=536870912;return e=Yt.current,e!==null&&(e.flags|=32),Zt}function Ht(e,t,a){(e===Qe&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(jn(e,0),ul(e,Te,Zt,!1)),lt(e,a),((He&2)===0||e!==Qe)&&(e===Qe&&((He&2)===0&&(Bl|=a),tt===4&&ul(e,Te,Zt,!1)),Sa(e))}function Cf(e,t,a){if((He&6)!==0)throw Error(u(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ae(e,t),n=l?V0(e,t):Yr(e,t,!0),i=l;do{if(n===0){vn&&!l&&ul(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!G0(a)){n=Yr(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var f=e;n=fi;var x=f.current.memoizedState.isDehydrated;if(x&&(jn(f,r).flags|=256),r=Yr(f,r,!1),r!==2){if(_r&&!x){f.errorRecoveryDisabledLanes|=i,Bl|=i,n=4;break e}i=qt,qt=n,i!==null&&(qt===null?qt=i:qt.push.apply(qt,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){jn(e,0),ul(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:ul(l,t,Zt,!il);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(n=vs+300-Ke(),10<n)){if(ul(l,t,Zt,!il),W(l,0,!0)!==0)break e;Ya=t,l.timeoutHandle=am(Ef.bind(null,l,a,qt,Ms,Hr,t,Zt,Bl,Sn,il,i,"Throttled",-0,0),n);break e}Ef(l,a,qt,Ms,Hr,t,Zt,Bl,Sn,il,i,null,-0,0)}}break}while(!0);Sa(e)}function Ef(e,t,a,l,n,i,r,f,x,R,U,X,O,q){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:za},xf(t,i,X);var ne=(i&62914560)===i?vs-Ke():(i&4194048)===i?Mf-Ke():0;if(ne=C1(X,ne),ne!==null){Ya=i,e.cancelPendingCommit=ne(Of.bind(null,e,t,i,a,l,n,r,f,x,U,X,null,O,q)),ul(e,i,r,!R);return}}Of(e,t,i,a,l,n,r,f,x)}function G0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!Lt(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ul(e,t,a,l){t&=~qr,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-Et(n),r=1<<i;l[i]=-1,n&=~r}a!==0&&kt(e,a,t)}function js(){return(He&6)===0?(hi(0),!1):!0}function Gr(){if(Ce!==null){if(Ue===0)var e=Ce.return;else e=Ce,Aa=wl=null,lr(e),mn=null,Fn=0,e=Ce;for(;e!==null;)af(e.alternate,e),e=e.return;Ce=null}}function jn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,c1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ya=0,Gr(),Qe=e,Ce=a=wa(e.current,null),Te=t,Ue=0,Xt=null,il=!1,vn=ae(e,t),_r=!1,Sn=Zt=qr=Bl=sl=tt=0,qt=fi=null,Hr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-Et(l),i=1<<n;t|=e[n],l&=~i}return Ga=t,Xi(),a}function zf(e,t){Me=null,w.H=ni,t===fn||t===Ii?(t=Yo(),Ue=3):t===Zc?(t=Yo(),Ue=4):Ue=t===br?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Xt=t,Ce===null&&(tt=1,fs(e,ta(t,e.current)))}function Tf(){var e=Yt.current;return e===null?!0:(Te&4194048)===Te?ia===null:(Te&62914560)===Te||(Te&536870912)!==0?e===ia:!1}function wf(){var e=w.H;return w.H=ni,e===null?ni:e}function kf(){var e=w.A;return w.A=U0,e}function Ns(){tt=4,il||(Te&4194048)!==Te&&Yt.current!==null||(vn=!0),(sl&134217727)===0&&(Bl&134217727)===0||Qe===null||ul(Qe,Te,Zt,!1)}function Yr(e,t,a){var l=He;He|=2;var n=wf(),i=kf();(Qe!==e||Te!==t)&&(Ms=null,jn(e,t)),t=!1;var r=tt;e:do try{if(Ue!==0&&Ce!==null){var f=Ce,x=Xt;switch(Ue){case 8:Gr(),r=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(t=!0);var R=Ue;if(Ue=0,Xt=null,Nn(e,f,x,R),a&&vn){r=0;break e}break;default:R=Ue,Ue=0,Xt=null,Nn(e,f,x,R)}}Y0(),r=tt;break}catch(U){zf(e,U)}while(!0);return t&&e.shellSuspendCounter++,Aa=wl=null,He=l,w.H=n,w.A=i,Ce===null&&(Qe=null,Te=0,Xi()),r}function Y0(){for(;Ce!==null;)Af(Ce)}function V0(e,t){var a=He;He|=2;var l=wf(),n=kf();Qe!==e||Te!==t?(Ms=null,Ss=Ke()+500,jn(e,t)):vn=ae(e,t);e:do try{if(Ue!==0&&Ce!==null){t=Ce;var i=Xt;t:switch(Ue){case 1:Ue=0,Xt=null,Nn(e,t,i,1);break;case 2:case 9:if(Lo(i)){Ue=0,Xt=null,Rf(t);break}t=function(){Ue!==2&&Ue!==9||Qe!==e||(Ue=7),Sa(e)},i.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Lo(i)?(Ue=0,Xt=null,Rf(t)):(Ue=0,Xt=null,Nn(e,t,i,7));break;case 5:var r=null;switch(Ce.tag){case 26:r=Ce.memoizedState;case 5:case 27:var f=Ce;if(r?gm(r):f.stateNode.complete){Ue=0,Xt=null;var x=f.sibling;if(x!==null)Ce=x;else{var R=f.return;R!==null?(Ce=R,Cs(R)):Ce=null}break t}}Ue=0,Xt=null,Nn(e,t,i,5);break;case 6:Ue=0,Xt=null,Nn(e,t,i,6);break;case 8:Gr(),tt=6;break e;default:throw Error(u(462))}}X0();break}catch(U){zf(e,U)}while(!0);return Aa=wl=null,w.H=l,w.A=n,He=a,Ce!==null?0:(Qe=null,Te=0,Xi(),tt)}function X0(){for(;Ce!==null&&!xt();)Af(Ce)}function Af(e){var t=ef(e.alternate,e,Ga);e.memoizedProps=e.pendingProps,t===null?Cs(e):Ce=t}function Rf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Jd(a,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Jd(a,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:lr(t);default:af(a,t),t=Ce=wo(t,Ga),t=ef(a,t,Ga)}e.memoizedProps=e.pendingProps,t===null?Cs(e):Ce=t}function Nn(e,t,a,l){Aa=wl=null,lr(t),mn=null,Fn=0;var n=t.return;try{if(R0(e,n,t,a,Te)){tt=1,fs(e,ta(a,e.current)),Ce=null;return}}catch(i){if(n!==null)throw Ce=n,i;tt=1,fs(e,ta(a,e.current)),Ce=null;return}t.flags&32768?(Ae||l===1?e=!0:vn||(Te&536870912)!==0?e=!1:(il=e=!0,(l===2||l===9||l===3||l===6)&&(l=Yt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Df(t,e)):Cs(t)}function Cs(e){var t=e;do{if((t.flags&32768)!==0){Df(t,il);return}e=t.return;var a=_0(t.alternate,t,Ga);if(a!==null){Ce=a;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);tt===0&&(tt=5)}function Df(e,t){do{var a=q0(e.alternate,e);if(a!==null){a.flags&=32767,Ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=a}while(e!==null);tt=6,Ce=null}function Of(e,t,a,l,n,i,r,f,x){e.cancelPendingCommit=null;do Es();while(ft!==0);if((He&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=kc,fa(e,a,i,r,f,x),e===Qe&&(Ce=Qe=null,Te=0),Mn=t,rl=e,Ya=a,Br=i,Ur=n,jf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,J0(Ca,function(){return Uf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=w.T,w.T=null,n=K.p,K.p=2,r=He,He|=4;try{H0(e,t,a)}finally{He=r,K.p=n,w.T=l}}ft=1,_f(),qf(),Hf()}}function _f(){if(ft===1){ft=0;var e=rl,t=Mn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=w.T,w.T=null;var l=K.p;K.p=2;var n=He;He|=4;try{yf(t,e);var i=eu,r=vo(e.containerInfo),f=i.focusedElem,x=i.selectionRange;if(r!==f&&f&&f.ownerDocument&&bo(f.ownerDocument.documentElement,f)){if(x!==null&&Cc(f)){var R=x.start,U=x.end;if(U===void 0&&(U=R),"selectionStart"in f)f.selectionStart=R,f.selectionEnd=Math.min(U,f.value.length);else{var X=f.ownerDocument||document,O=X&&X.defaultView||window;if(O.getSelection){var q=O.getSelection(),ne=f.textContent.length,fe=Math.min(x.start,ne),Xe=x.end===void 0?fe:Math.min(x.end,ne);!q.extend&&fe>Xe&&(r=Xe,Xe=fe,fe=r);var C=xo(f,fe),M=xo(f,Xe);if(C&&M&&(q.rangeCount!==1||q.anchorNode!==C.node||q.anchorOffset!==C.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var k=X.createRange();k.setStart(C.node,C.offset),q.removeAllRanges(),fe>Xe?(q.addRange(k),q.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),q.addRange(k))}}}}for(X=[],q=f;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<X.length;f++){var Y=X[f];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Bs=!!Pr,eu=Pr=null}finally{He=n,K.p=l,w.T=a}}e.current=t,ft=2}}function qf(){if(ft===2){ft=0;var e=rl,t=Mn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=w.T,w.T=null;var l=K.p;K.p=2;var n=He;He|=4;try{of(e,t.alternate,t)}finally{He=n,K.p=l,w.T=a}}ft=3}}function Hf(){if(ft===4||ft===3){ft=0,oa();var e=rl,t=Mn,a=Ya,l=jf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ft=5:(ft=0,Mn=rl=null,Bf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(cl=null),sc(a),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(da,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=w.T,n=K.p,K.p=2,w.T=null;try{for(var i=e.onRecoverableError,r=0;r<l.length;r++){var f=l[r];i(f.value,{componentStack:f.stack})}}finally{w.T=t,K.p=n}}(Ya&3)!==0&&Es(),Sa(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===Lr?mi++:(mi=0,Lr=e):mi=0,hi(0)}}function Bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Jn(t)))}function Es(){return _f(),qf(),Hf(),Uf()}function Uf(){if(ft!==5)return!1;var e=rl,t=Br;Br=0;var a=sc(Ya),l=w.T,n=K.p;try{K.p=32>a?32:a,w.T=null,a=Ur,Ur=null;var i=rl,r=Ya;if(ft=0,Mn=rl=null,Ya=0,(He&6)!==0)throw Error(u(331));var f=He;if(He|=4,vf(i.current),gf(i,i.current,r,a),He=f,hi(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(da,i)}catch{}return!0}finally{K.p=n,w.T=l,Bf(e,t)}}function Lf(e,t,a){t=ta(a,t),t=xr(e.stateNode,t,2),e=tl(e,t,2),e!==null&&(lt(e,2),Sa(e))}function Le(e,t,a){if(e.tag===3)Lf(e,e,a);else for(;t!==null;){if(t.tag===3){Lf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(cl===null||!cl.has(l))){e=ta(a,e),a=Ld(2),l=tl(t,a,2),l!==null&&(Gd(a,l,t,e),lt(l,2),Sa(l));break}}t=t.return}}function Vr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new L0;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(_r=!0,n.add(a),e=Z0.bind(null,e,t,a),t.then(e,e))}function Z0(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Qe===e&&(Te&a)===a&&(tt===4||tt===3&&(Te&62914560)===Te&&300>Ke()-vs?(He&2)===0&&jn(e,0):qr|=a,Sn===Te&&(Sn=0)),Sa(e)}function Gf(e,t){t===0&&(t=ke()),e=El(e,t),e!==null&&(lt(e,t),Sa(e))}function Q0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Gf(e,a)}function K0(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(u(314))}l!==null&&l.delete(t),Gf(e,a)}function J0(e,t){return De(e,t)}var zs=null,Cn=null,Xr=!1,Ts=!1,Zr=!1,ol=0;function Sa(e){e!==Cn&&e.next===null&&(Cn===null?zs=Cn=e:Cn=Cn.next=e),Ts=!0,Xr||(Xr=!0,F0())}function hi(e,t){if(!Zr&&Ts){Zr=!0;do for(var a=!1,l=zs;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var r=l.suspendedLanes,f=l.pingedLanes;i=(1<<31-Et(42|e)+1)-1,i&=n&~(r&~f),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Zf(l,i))}else i=Te,i=W(l,l===Qe?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||ae(l,i)||(a=!0,Zf(l,i));l=l.next}while(a);Zr=!1}}function $0(){Yf()}function Yf(){Ts=Xr=!1;var e=0;ol!==0&&s1()&&(e=ol);for(var t=Ke(),a=null,l=zs;l!==null;){var n=l.next,i=Vf(l,t);i===0?(l.next=null,a===null?zs=n:a.next=n,n===null&&(Cn=a)):(a=l,(e!==0||(i&3)!==0)&&(Ts=!0)),l=n}ft!==0&&ft!==5||hi(e),ol!==0&&(ol=0)}function Vf(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-Et(i),f=1<<r,x=n[r];x===-1?((f&a)===0||(f&l)!==0)&&(n[r]=Be(f,t)):x<=t&&(e.expiredLanes|=f),i&=~f}if(t=Qe,a=Te,a=W(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Pe(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ae(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Pe(l),sc(a)){case 2:case 8:a=Ft;break;case 32:a=Ca;break;case 268435456:a=pa;break;default:a=Ca}return l=Xf.bind(null,e),a=De(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Pe(l),e.callbackPriority=2,e.callbackNode=null,2}function Xf(e,t){if(ft!==0&&ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Es()&&e.callbackNode!==a)return null;var l=Te;return l=W(e,e===Qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Cf(e,l,t),Vf(e,Ke()),e.callbackNode!=null&&e.callbackNode===a?Xf.bind(null,e):null)}function Zf(e,t){if(Es())return null;Cf(e,t,!0)}function F0(){r1(function(){(He&6)!==0?De(wt,$0):Yf()})}function Qr(){if(ol===0){var e=on;e===0&&(e=Sl,Sl<<=1,(Sl&261888)===0&&(Sl=256)),ol=e}return ol}function Qf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qi(""+e)}function Kf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function W0(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var i=Qf((n[At]||null).action),r=l.submitter;r&&(t=(t=r[At]||null)?Qf(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var f=new Li("action","action",null,l,n);e.push({event:f,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ol!==0){var x=r?Kf(n,r):new FormData(n);fr(a,{pending:!0,data:x,method:n.method,action:i},null,x)}}else typeof i=="function"&&(f.preventDefault(),x=r?Kf(n,r):new FormData(n),fr(a,{pending:!0,data:x,method:n.method,action:i},i,x))},currentTarget:n}]})}}for(var Kr=0;Kr<wc.length;Kr++){var Jr=wc[Kr],I0=Jr.toLowerCase(),P0=Jr[0].toUpperCase()+Jr.slice(1);ma(I0,"on"+P0)}ma(jo,"onAnimationEnd"),ma(No,"onAnimationIteration"),ma(Co,"onAnimationStart"),ma("dblclick","onDoubleClick"),ma("focusin","onFocus"),ma("focusout","onBlur"),ma(y0,"onTransitionRun"),ma(p0,"onTransitionStart"),ma(g0,"onTransitionCancel"),ma(Eo,"onTransitionEnd"),$l("onMouseEnter",["mouseout","mouseover"]),$l("onMouseLeave",["mouseout","mouseover"]),$l("onPointerEnter",["pointerout","pointerover"]),$l("onPointerLeave",["pointerout","pointerover"]),Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yi));function Jf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var r=l.length-1;0<=r;r--){var f=l[r],x=f.instance,R=f.currentTarget;if(f=f.listener,x!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=R;try{i(n)}catch(U){Vi(U)}n.currentTarget=null,i=x}else for(r=0;r<l.length;r++){if(f=l[r],x=f.instance,R=f.currentTarget,f=f.listener,x!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=R;try{i(n)}catch(U){Vi(U)}n.currentTarget=null,i=x}}}}function Ee(e,t){var a=t[cc];a===void 0&&(a=t[cc]=new Set);var l=e+"__bubble";a.has(l)||($f(t,e,2,!1),a.add(l))}function $r(e,t,a){var l=0;t&&(l|=4),$f(a,e,l,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[ws]){e[ws]=!0,Lu.forEach(function(a){a!=="selectionchange"&&(e1.has(a)||$r(a,!1,e),$r(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,$r("selectionchange",!1,t))}}function $f(e,t,a,l){switch(Nm(t)){case 2:var n=T1;break;case 8:n=w1;break;default:n=du}a=n.bind(null,t,a,e),n=void 0,!pc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Wr(e,t,a,l,n){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var r=l.tag;if(r===3||r===4){var f=l.stateNode.containerInfo;if(f===n)break;if(r===4)for(r=l.return;r!==null;){var x=r.tag;if((x===3||x===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;f!==null;){if(r=Ql(f),r===null)return;if(x=r.tag,x===5||x===6||x===26||x===27){l=i=r;continue e}f=f.parentNode}}l=l.return}Iu(function(){var R=i,U=hc(a),X=[];e:{var O=zo.get(e);if(O!==void 0){var q=Li,ne=e;switch(e){case"keypress":if(Bi(a)===0)break e;case"keydown":case"keyup":q=Kh;break;case"focusin":ne="focus",q=vc;break;case"focusout":ne="blur",q=vc;break;case"beforeblur":case"afterblur":q=vc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=to;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Fh;break;case jo:case No:case Co:q=Bh;break;case Eo:q=Ih;break;case"scroll":case"scrollend":q=Dh;break;case"wheel":q=e0;break;case"copy":case"cut":case"paste":q=Lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=lo;break;case"toggle":case"beforetoggle":q=a0}var fe=(t&4)!==0,Xe=!fe&&(e==="scroll"||e==="scrollend"),C=fe?O!==null?O+"Capture":null:O;fe=[];for(var M=R,k;M!==null;){var Y=M;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||C===null||(Y=Hn(M,C),Y!=null&&fe.push(pi(M,Y,k))),Xe)break;M=M.return}0<fe.length&&(O=new q(O,ne,null,a,U),X.push({event:O,listeners:fe}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",O&&a!==mc&&(ne=a.relatedTarget||a.fromElement)&&(Ql(ne)||ne[Zl]))break e;if((q||O)&&(O=U.window===U?U:(O=U.ownerDocument)?O.defaultView||O.parentWindow:window,q?(ne=a.relatedTarget||a.toElement,q=R,ne=ne?Ql(ne):null,ne!==null&&(Xe=h(ne),fe=ne.tag,ne!==Xe||fe!==5&&fe!==27&&fe!==6)&&(ne=null)):(q=null,ne=R),q!==ne)){if(fe=to,Y="onMouseLeave",C="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(fe=lo,Y="onPointerLeave",C="onPointerEnter",M="pointer"),Xe=q==null?O:qn(q),k=ne==null?O:qn(ne),O=new fe(Y,M+"leave",q,a,U),O.target=Xe,O.relatedTarget=k,Y=null,Ql(U)===R&&(fe=new fe(C,M+"enter",ne,a,U),fe.target=k,fe.relatedTarget=Xe,Y=fe),Xe=Y,q&&ne)t:{for(fe=t1,C=q,M=ne,k=0,Y=C;Y;Y=fe(Y))k++;Y=0;for(var oe=M;oe;oe=fe(oe))Y++;for(;0<k-Y;)C=fe(C),k--;for(;0<Y-k;)M=fe(M),Y--;for(;k--;){if(C===M||M!==null&&C===M.alternate){fe=C;break t}C=fe(C),M=fe(M)}fe=null}else fe=null;q!==null&&Ff(X,O,q,fe,!1),ne!==null&&Xe!==null&&Ff(X,Xe,ne,fe,!0)}}e:{if(O=R?qn(R):window,q=O.nodeName&&O.nodeName.toLowerCase(),q==="select"||q==="input"&&O.type==="file")var _e=fo;else if(uo(O))if(mo)_e=f0;else{_e=o0;var ce=u0}else q=O.nodeName,!q||q.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?R&&fc(R.elementType)&&(_e=fo):_e=d0;if(_e&&(_e=_e(e,R))){oo(X,_e,a,U);break e}ce&&ce(e,O,R),e==="focusout"&&R&&O.type==="number"&&R.memoizedProps.value!=null&&dc(O,"number",O.value)}switch(ce=R?qn(R):window,e){case"focusin":(uo(ce)||ce.contentEditable==="true")&&(tn=ce,Ec=R,Zn=null);break;case"focusout":Zn=Ec=tn=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,So(X,a,U);break;case"selectionchange":if(h0)break;case"keydown":case"keyup":So(X,a,U)}var je;if(Mc)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else en?co(e,a)&&(we="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(no&&a.locale!=="ko"&&(en||we!=="onCompositionStart"?we==="onCompositionEnd"&&en&&(je=Pu()):(Ja=U,gc="value"in Ja?Ja.value:Ja.textContent,en=!0)),ce=ks(R,we),0<ce.length&&(we=new ao(we,e,null,a,U),X.push({event:we,listeners:ce}),je?we.data=je:(je=ro(a),je!==null&&(we.data=je)))),(je=n0?i0(e,a):s0(e,a))&&(we=ks(R,"onBeforeInput"),0<we.length&&(ce=new ao("onBeforeInput","beforeinput",null,a,U),X.push({event:ce,listeners:we}),ce.data=je)),W0(X,e,R,a,U)}Jf(X,t)})}function pi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ks(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Hn(e,a),n!=null&&l.unshift(pi(e,n,i)),n=Hn(e,t),n!=null&&l.push(pi(e,n,i))),e.tag===3)return l;e=e.return}return[]}function t1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ff(e,t,a,l,n){for(var i=t._reactName,r=[];a!==null&&a!==l;){var f=a,x=f.alternate,R=f.stateNode;if(f=f.tag,x!==null&&x===l)break;f!==5&&f!==26&&f!==27||R===null||(x=R,n?(R=Hn(a,i),R!=null&&r.unshift(pi(a,R,x))):n||(R=Hn(a,i),R!=null&&r.push(pi(a,R,x)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var a1=/\r\n?/g,l1=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(a1,`
`).replace(l1,"")}function If(e,t){return t=Wf(t),Wf(e)===t}function Ve(e,t,a,l,n,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Wl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Wl(e,""+l);break;case"className":Oi(e,"class",l);break;case"tabIndex":Oi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Oi(e,a,l);break;case"style":Fu(e,l,i);break;case"data":if(t!=="object"){Oi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=qi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Ve(e,t,"name",n.name,n,null),Ve(e,t,"formEncType",n.formEncType,n,null),Ve(e,t,"formMethod",n.formMethod,n,null),Ve(e,t,"formTarget",n.formTarget,n,null)):(Ve(e,t,"encType",n.encType,n,null),Ve(e,t,"method",n.method,n,null),Ve(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=qi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=za);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=qi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),Di(e,"popover",l);break;case"xlinkActuate":Ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ea(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ea(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ea(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ea(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Di(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ah.get(a)||a,Di(e,a,l))}}function Ir(e,t,a,l,n,i){switch(a){case"style":Fu(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Wl(e,l):(typeof l=="number"||typeof l=="bigint")&&Wl(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[At]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Di(e,a,l)}}}function jt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Ve(e,t,i,r,a,null)}}n&&Ve(e,t,"srcSet",a.srcSet,a,null),l&&Ve(e,t,"src",a.src,a,null);return;case"input":Ee("invalid",e);var f=i=r=n=null,x=null,R=null;for(l in a)if(a.hasOwnProperty(l)){var U=a[l];if(U!=null)switch(l){case"name":n=U;break;case"type":r=U;break;case"checked":x=U;break;case"defaultChecked":R=U;break;case"value":i=U;break;case"defaultValue":f=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(u(137,t));break;default:Ve(e,t,l,U,a,null)}}Qu(e,i,f,x,R,r,n,!1);return;case"select":Ee("invalid",e),l=r=i=null;for(n in a)if(a.hasOwnProperty(n)&&(f=a[n],f!=null))switch(n){case"value":i=f;break;case"defaultValue":r=f;break;case"multiple":l=f;default:Ve(e,t,n,f,a,null)}t=i,a=r,e.multiple=!!l,t!=null?Fl(e,!!l,t,!1):a!=null&&Fl(e,!!l,a,!0);return;case"textarea":Ee("invalid",e),i=n=l=null;for(r in a)if(a.hasOwnProperty(r)&&(f=a[r],f!=null))switch(r){case"value":l=f;break;case"defaultValue":n=f;break;case"children":i=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(u(91));break;default:Ve(e,t,r,f,a,null)}Ju(e,l,n,i);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ve(e,t,x,l,a,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<yi.length;l++)Ee(yi[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Ve(e,t,R,l,a,null)}return;default:if(fc(t)){for(U in a)a.hasOwnProperty(U)&&(l=a[U],l!==void 0&&Ir(e,t,U,l,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(l=a[f],l!=null&&Ve(e,t,f,l,a,null))}function n1(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,f=null,x=null,R=null,U=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=X;default:l.hasOwnProperty(q)||Ve(e,t,q,null,l,X)}}for(var O in l){var q=l[O];if(X=a[O],l.hasOwnProperty(O)&&(q!=null||X!=null))switch(O){case"type":i=q;break;case"name":n=q;break;case"checked":R=q;break;case"defaultChecked":U=q;break;case"value":r=q;break;case"defaultValue":f=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(u(137,t));break;default:q!==X&&Ve(e,t,O,q,l,X)}}oc(e,r,f,x,R,U,i,n);return;case"select":q=r=f=O=null;for(i in a)if(x=a[i],a.hasOwnProperty(i)&&x!=null)switch(i){case"value":break;case"multiple":q=x;default:l.hasOwnProperty(i)||Ve(e,t,i,null,l,x)}for(n in l)if(i=l[n],x=a[n],l.hasOwnProperty(n)&&(i!=null||x!=null))switch(n){case"value":O=i;break;case"defaultValue":f=i;break;case"multiple":r=i;default:i!==x&&Ve(e,t,n,i,l,x)}t=f,a=r,l=q,O!=null?Fl(e,!!a,O,!1):!!l!=!!a&&(t!=null?Fl(e,!!a,t,!0):Fl(e,!!a,a?[]:"",!1));return;case"textarea":q=O=null;for(f in a)if(n=a[f],a.hasOwnProperty(f)&&n!=null&&!l.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Ve(e,t,f,null,l,n)}for(r in l)if(n=l[r],i=a[r],l.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":O=n;break;case"defaultValue":q=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(u(91));break;default:n!==i&&Ve(e,t,r,n,l,i)}Ku(e,O,q);return;case"option":for(var ne in a)if(O=a[ne],a.hasOwnProperty(ne)&&O!=null&&!l.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:Ve(e,t,ne,null,l,O)}for(x in l)if(O=l[x],q=a[x],l.hasOwnProperty(x)&&O!==q&&(O!=null||q!=null))switch(x){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ve(e,t,x,O,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)O=a[fe],a.hasOwnProperty(fe)&&O!=null&&!l.hasOwnProperty(fe)&&Ve(e,t,fe,null,l,O);for(R in l)if(O=l[R],q=a[R],l.hasOwnProperty(R)&&O!==q&&(O!=null||q!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(u(137,t));break;default:Ve(e,t,R,O,l,q)}return;default:if(fc(t)){for(var Xe in a)O=a[Xe],a.hasOwnProperty(Xe)&&O!==void 0&&!l.hasOwnProperty(Xe)&&Ir(e,t,Xe,void 0,l,O);for(U in l)O=l[U],q=a[U],!l.hasOwnProperty(U)||O===q||O===void 0&&q===void 0||Ir(e,t,U,O,l,q);return}}for(var C in a)O=a[C],a.hasOwnProperty(C)&&O!=null&&!l.hasOwnProperty(C)&&Ve(e,t,C,null,l,O);for(X in l)O=l[X],q=a[X],!l.hasOwnProperty(X)||O===q||O==null&&q==null||Ve(e,t,X,O,l,q)}function Pf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function i1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var n=a[l],i=n.transferSize,r=n.initiatorType,f=n.duration;if(i&&f&&Pf(r)){for(r=0,f=n.responseEnd,l+=1;l<a.length;l++){var x=a[l],R=x.startTime;if(R>f)break;var U=x.transferSize,X=x.initiatorType;U&&Pf(X)&&(x=x.responseEnd,r+=U*(x<f?1:(f-R)/(x-R)))}if(--l,t+=8*(i+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Pr=null,eu=null;function As(e){return e.nodeType===9?e:e.ownerDocument}function em(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=null;function s1(){var e=window.event;return e&&e.type==="popstate"?e===au?!1:(au=e,!0):(au=null,!1)}var am=typeof setTimeout=="function"?setTimeout:void 0,c1=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,r1=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(e){return lm.resolve(null).then(e).catch(u1)}:am;function u1(e){setTimeout(function(){throw e})}function dl(e){return e==="head"}function nm(e,t){var a=t,l=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(n),wn(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")gi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,gi(a);for(var i=a.firstChild;i;){var r=i.nextSibling,f=i.nodeName;i[_n]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&gi(e.ownerDocument.body);a=n}while(a);wn(t)}function im(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function lu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lu(a),rc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function o1(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[_n])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=sa(e.nextSibling),e===null)break}return null}function d1(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=sa(e.nextSibling),e===null))return null;return e}function sm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=sa(e.nextSibling),e===null))return null;return e}function nu(e){return e.data==="$?"||e.data==="$~"}function iu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function f1(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var su=null;function cm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return sa(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function um(e,t,a){switch(t=As(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function gi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);rc(e)}var ca=new Map,om=new Set;function Rs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Va=K.d;K.d={f:m1,r:h1,D:y1,C:p1,L:g1,m:x1,X:v1,S:b1,M:S1};function m1(){var e=Va.f(),t=js();return e||t}function h1(e){var t=Kl(e);t!==null&&t.tag===5&&t.type==="form"?Ed(t):Va.r(e)}var En=typeof document>"u"?null:document;function dm(e,t,a){var l=En;if(l&&typeof t=="string"&&t){var n=Pt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),om.has(n)||(om.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),jt(t,"link",e),yt(t),l.head.appendChild(t)))}}function y1(e){Va.D(e),dm("dns-prefetch",e,null)}function p1(e,t){Va.C(e,t),dm("preconnect",e,t)}function g1(e,t,a){Va.L(e,t,a);var l=En;if(l&&e&&t){var n='link[rel="preload"][as="'+Pt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Pt(a.imageSizes)+'"]')):n+='[href="'+Pt(e)+'"]';var i=n;switch(t){case"style":i=zn(e);break;case"script":i=Tn(e)}ca.has(i)||(e=N({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ca.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(xi(i))||t==="script"&&l.querySelector(bi(i))||(t=l.createElement("link"),jt(t,"link",e),yt(t),l.head.appendChild(t)))}}function x1(e,t){Va.m(e,t);var a=En;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Pt(l)+'"][href="'+Pt(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Tn(e)}if(!ca.has(i)&&(e=N({rel:"modulepreload",href:e},t),ca.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bi(i)))return}l=a.createElement("link"),jt(l,"link",e),yt(l),a.head.appendChild(l)}}}function b1(e,t,a){Va.S(e,t,a);var l=En;if(l&&e){var n=Jl(l).hoistableStyles,i=zn(e);t=t||"default";var r=n.get(i);if(!r){var f={loading:0,preload:null};if(r=l.querySelector(xi(i)))f.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ca.get(i))&&cu(e,a);var x=r=l.createElement("link");yt(x),jt(x,"link",e),x._p=new Promise(function(R,U){x.onload=R,x.onerror=U}),x.addEventListener("load",function(){f.loading|=1}),x.addEventListener("error",function(){f.loading|=2}),f.loading|=4,Ds(r,t,l)}r={type:"stylesheet",instance:r,count:1,state:f},n.set(i,r)}}}function v1(e,t){Va.X(e,t);var a=En;if(a&&e){var l=Jl(a).hoistableScripts,n=Tn(e),i=l.get(n);i||(i=a.querySelector(bi(n)),i||(e=N({src:e,async:!0},t),(t=ca.get(n))&&ru(e,t),i=a.createElement("script"),yt(i),jt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function S1(e,t){Va.M(e,t);var a=En;if(a&&e){var l=Jl(a).hoistableScripts,n=Tn(e),i=l.get(n);i||(i=a.querySelector(bi(n)),i||(e=N({src:e,async:!0,type:"module"},t),(t=ca.get(n))&&ru(e,t),i=a.createElement("script"),yt(i),jt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function fm(e,t,a,l){var n=(n=Se.current)?Rs(n):null;if(!n)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=zn(a.href),a=Jl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=zn(a.href);var i=Jl(n).hoistableStyles,r=i.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=n.querySelector(xi(e)))&&!i._p&&(r.instance=i,r.state.loading=5),ca.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ca.set(e,a),i||M1(n,e,a,r.state))),t&&l===null)throw Error(u(528,""));return r}if(t&&l!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Tn(a),a=Jl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function zn(e){return'href="'+Pt(e)+'"'}function xi(e){return'link[rel="stylesheet"]['+e+"]"}function mm(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function M1(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),jt(t,"link",a),yt(t),e.head.appendChild(t))}function Tn(e){return'[src="'+Pt(e)+'"]'}function bi(e){return"script[async]"+e}function hm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Pt(a.href)+'"]');if(l)return t.instance=l,yt(l),l;var n=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),yt(l),jt(l,"style",n),Ds(l,a.precedence,e),t.instance=l;case"stylesheet":n=zn(a.href);var i=e.querySelector(xi(n));if(i)return t.state.loading|=4,t.instance=i,yt(i),i;l=mm(a),(n=ca.get(n))&&cu(l,n),i=(e.ownerDocument||e).createElement("link"),yt(i);var r=i;return r._p=new Promise(function(f,x){r.onload=f,r.onerror=x}),jt(i,"link",l),t.state.loading|=4,Ds(i,a.precedence,e),t.instance=i;case"script":return i=Tn(a.src),(n=e.querySelector(bi(i)))?(t.instance=n,yt(n),n):(l=a,(n=ca.get(i))&&(l=N({},a),ru(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),yt(n),jt(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Ds(l,a.precedence,e));return t.instance}function Ds(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,r=0;r<l.length;r++){var f=l[r];if(f.dataset.precedence===t)i=f;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Os=null;function ym(e,t,a){if(Os===null){var l=new Map,n=Os=new Map;n.set(a,l)}else n=Os,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[_n]||i[bt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var f=l.get(r);f?f.push(i):l.set(r,[i])}}return l}function pm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function j1(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function N1(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=zn(l.href),i=t.querySelector(xi(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=_s.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,yt(i);return}i=t.ownerDocument||t,l=mm(l),(n=ca.get(n))&&cu(l,n),i=i.createElement("link"),yt(i);var r=i;r._p=new Promise(function(f,x){r.onload=f,r.onerror=x}),jt(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=_s.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var uu=0;function C1(e,t){return e.stylesheets&&e.count===0&&Hs(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Hs(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&uu===0&&(uu=62500*i1());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hs(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>uu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function _s(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qs=null;function Hs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qs=new Map,t.forEach(E1,e),qs=null,_s.call(e))}function E1(e,t){if(!(t.state.loading&4)){var a=qs.get(e);if(a)var l=a.get(null);else{a=new Map,qs.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),l=r)}l&&a.set(null,l)}n=t.instance,r=n.getAttribute("data-precedence"),i=a.get(r)||l,i===l&&a.set(null,n),a.set(r,n),this.count++,l=_s.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var vi={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function z1(e,t,a,l,n,i,r,f,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function xm(e,t,a,l,n,i,r,f,x,R,U,X){return e=new z1(e,t,a,r,x,R,U,X,f),t=1,i===!0&&(t|=24),i=Gt(3,null,null,t),e.current=i,i.stateNode=e,t=Yc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},Qc(i),e}function bm(e){return e?(e=nn,e):nn}function vm(e,t,a,l,n,i){n=bm(n),l.context===null?l.context=n:l.pendingContext=n,l=el(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=tl(e,l,t),a!==null&&(Ht(a,e,t),In(a,e,t))}function Sm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ou(e,t){Sm(e,t),(e=e.alternate)&&Sm(e,t)}function Mm(e){if(e.tag===13||e.tag===31){var t=El(e,67108864);t!==null&&Ht(t,e,67108864),ou(e,67108864)}}function jm(e){if(e.tag===13||e.tag===31){var t=Qt();t=On(t);var a=El(e,t);a!==null&&Ht(a,e,t),ou(e,t)}}var Bs=!0;function T1(e,t,a,l){var n=w.T;w.T=null;var i=K.p;try{K.p=2,du(e,t,a,l)}finally{K.p=i,w.T=n}}function w1(e,t,a,l){var n=w.T;w.T=null;var i=K.p;try{K.p=8,du(e,t,a,l)}finally{K.p=i,w.T=n}}function du(e,t,a,l){if(Bs){var n=fu(l);if(n===null)Wr(e,t,l,Us,a),Cm(e,l);else if(A1(n,e,t,a,l))l.stopPropagation();else if(Cm(e,l),t&4&&-1<k1.indexOf(e)){for(;n!==null;){var i=Kl(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=Q(i.pendingLanes);if(r!==0){var f=i;for(f.pendingLanes|=2,f.entangledLanes|=2;r;){var x=1<<31-Et(r);f.entanglements[1]|=x,r&=~x}Sa(i),(He&6)===0&&(Ss=Ke()+500,hi(0))}}break;case 31:case 13:f=El(i,2),f!==null&&Ht(f,i,2),js(),ou(i,2)}if(i=fu(l),i===null&&Wr(e,t,l,Us,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else Wr(e,t,l,null,a)}}function fu(e){return e=hc(e),mu(e)}var Us=null;function mu(e){if(Us=null,e=Ql(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=g(t),e!==null)return e;e=null}else if(a===31){if(e=b(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Us=e,null}function Nm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Za()){case wt:return 2;case Ft:return 8;case Ca:case Yl:return 32;case pa:return 268435456;default:return 32}default:return 32}}var hu=!1,fl=null,ml=null,hl=null,Si=new Map,Mi=new Map,yl=[],k1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cm(e,t){switch(e){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":Si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function ji(e,t,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Kl(t),t!==null&&Mm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function A1(e,t,a,l,n){switch(t){case"focusin":return fl=ji(fl,e,t,a,l,n),!0;case"dragenter":return ml=ji(ml,e,t,a,l,n),!0;case"mouseover":return hl=ji(hl,e,t,a,l,n),!0;case"pointerover":var i=n.pointerId;return Si.set(i,ji(Si.get(i)||null,e,t,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,Mi.set(i,ji(Mi.get(i)||null,e,t,a,l,n)),!0}return!1}function Em(e){var t=Ql(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=g(a),t!==null){e.blockedOn=t,Bu(e.priority,function(){jm(a)});return}}else if(t===31){if(t=b(a),t!==null){e.blockedOn=t,Bu(e.priority,function(){jm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=fu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);mc=l,a.target.dispatchEvent(l),mc=null}else return t=Kl(a),t!==null&&Mm(t),e.blockedOn=a,!1;t.shift()}return!0}function zm(e,t,a){Ls(e)&&a.delete(t)}function R1(){hu=!1,fl!==null&&Ls(fl)&&(fl=null),ml!==null&&Ls(ml)&&(ml=null),hl!==null&&Ls(hl)&&(hl=null),Si.forEach(zm),Mi.forEach(zm)}function Gs(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,R1)))}var Ys=null;function Tm(e){Ys!==e&&(Ys=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Ys===e&&(Ys=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(mu(l||a)===null)continue;break}var i=Kl(a);i!==null&&(e.splice(t,3),t-=3,fr(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function wn(e){function t(x){return Gs(x,e)}fl!==null&&Gs(fl,e),ml!==null&&Gs(ml,e),hl!==null&&Gs(hl,e),Si.forEach(t),Mi.forEach(t);for(var a=0;a<yl.length;a++){var l=yl[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<yl.length&&(a=yl[0],a.blockedOn===null);)Em(a),a.blockedOn===null&&yl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],r=n[At]||null;if(typeof i=="function")r||Tm(a);else if(r){var f=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[At]||null)f=r.formAction;else if(mu(n)!==null)continue}else f=r.action;typeof f=="function"?a[l+1]=f:(a.splice(l,3),l-=3),Tm(a)}}}function wm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function yu(e){this._internalRoot=e}Vs.prototype.render=yu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,l=Qt();vm(a,l,e,t,null,null)},Vs.prototype.unmount=yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vm(e.current,2,null,e,null,null),js(),t[Zl]=null}};function Vs(e){this._internalRoot=e}Vs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<yl.length&&t!==0&&t<yl[a].priority;a++);yl.splice(a,0,e),a===0&&Em(e)}};var km=o.version;if(km!=="19.2.0")throw Error(u(527,km,"19.2.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=y(t),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var D1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{da=Xs.inject(D1),dt=Xs}catch{}}return Ci.createRoot=function(e,t){if(!m(e))throw Error(u(299));var a=!1,l="",n=qd,i=Hd,r=Bd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=xm(e,1,!1,null,null,a,l,null,n,i,r,wm),e[Zl]=t.current,Fr(e),new yu(t)},Ci.hydrateRoot=function(e,t,a){if(!m(e))throw Error(u(299));var l=!1,n="",i=qd,r=Hd,f=Bd,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),t=xm(e,1,!0,t,a??null,l,n,x,i,r,f,wm),t.context=bm(null),a=t.current,l=Qt(),l=On(l),n=el(l),n.callback=null,tl(a,n,l),a=l,t.current.lanes=a,lt(t,a),Sa(t),e[Zl]=t.current,Fr(e),new Vs(t)},Ci.version="19.2.0",Ci}var Lm;function Y1(){if(Lm)return xu.exports;Lm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(o){console.error(o)}}return c(),xu.exports=G1(),xu.exports}var V1=Y1();const X1=Pm(V1);function Ul(c,o,d){let u,m;return o==="pointy"?(u=d.x*(Math.sqrt(3)*c.q+Math.sqrt(3)/2*c.r),m=d.y*(3/2*c.r)):(u=d.x*(3/2*c.q),m=d.y*(Math.sqrt(3)/2*c.q+Math.sqrt(3)*c.r)),{x:u,y:m}}function Ai(c,o,d=1){const u=[];for(let m=0;m<6;m++){const h=Math.PI/180*(60*m-(c==="pointy"?30:0));u.push({x:o.x*Math.cos(h)*d,y:o.y*Math.sin(h)*d})}return u}function wi(c,o){const d=o[c],u=o[(c+1)%6];return!d||!u?"":`M ${d.x} ${d.y} L ${u.x} ${u.y}`}function Mu(c,o){let d=1/0,u=-1;for(let m=0;m<6;m++){const h=o[m],g=o[(m+1)%6];if(!h||!g)continue;const b=g.x-h.x,p=g.y-h.y,y=((c.x-h.x)*b+(c.y-h.y)*p)/(b*b+p*p),E=y<0?h.x:y>1?g.x:h.x+y*b,N=y<0?h.y:y>1?g.y:h.y+y*p,j=Math.sqrt(Math.pow(c.x-E,2)+Math.pow(c.y-N,2));j<d&&(d=j,u=m)}return u}const Z1=[{q:1,r:0},{q:0,r:1},{q:-1,r:1},{q:-1,r:0},{q:0,r:-1},{q:1,r:-1}];function ec(c){return Z1.map(o=>({q:c.q+o.q,r:c.r+o.r}))}function Ll(c,o){const d=Math.abs(c.q-o.q),u=Math.abs(c.r-o.r),m=Math.abs(-c.q-c.r-(-o.q-o.r));return(d+u+m)/2}function Q1({initialWidth:c,initialHeight:o,minZoom:d=.1,maxZoom:u=10,enabled:m=!0}){const[h,g]=A.useState(`${-c/2} ${-o/2} ${c} ${o}`),[b,p]=A.useState(1),[y,E]=A.useState(!1),N=A.useRef(!1),j=A.useRef({x:0,y:0}),z=A.useRef(null),H=A.useCallback(S=>Math.max(d,Math.min(u,S)),[d,u]),_=A.useCallback(S=>{N.current=S,E(S)},[]),D=A.useCallback(S=>{m&&(S.preventDefault(),_(!0),j.current={x:S.clientX,y:S.clientY})},[m,_]),G=A.useCallback(S=>{if(!N.current)return;const V=S.clientX-j.current.x,$=S.clientY-j.current.y;j.current={x:S.clientX,y:S.clientY},g(T=>{const P=T.split(" ").map(parseFloat),ue=P[0],ie=P[1],se=P[2],J=P[3];return ue===void 0||ie===void 0||se===void 0||J===void 0?T:`${ue-V/b} ${ie-$/b} ${se} ${J}`})},[b]),B=A.useCallback(()=>{_(!1)},[_]),Z=A.useCallback(S=>{if(!m)return;S.preventDefault();const V=z.current;if(!V)return;const $=V.getBoundingClientRect(),T=S.clientX-$.left,P=S.clientY-$.top;p(ue=>{const ie=H(ue*(1-S.deltaY/500));if(ie===ue)return ue;const se=ie/ue,J=ue===0?Number.EPSILON:ue;return g(de=>{const[Re,pe,w,K]=de.split(" ").map(Number);if([Re,pe,w,K].some(L=>Number.isNaN(L)))return de;const ee=w/se,ge=K/se,xe=Re+T/J*(1-1/se),v=pe+P/J*(1-1/se);return`${xe} ${v} ${ee} ${ge}`}),ie})},[H,m]);return A.useEffect(()=>{if(!m)return;const S=$=>G($),V=()=>B();return window.addEventListener("mousemove",S),window.addEventListener("mouseup",V),()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",V)}},[m,G,B]),A.useEffect(()=>{if(!m)return;const S=z.current;if(S)return S.addEventListener("wheel",Z,{passive:!1}),()=>{S.removeEventListener("wheel",Z)}},[m,Z]),{viewbox:h,containerRef:z,onMouseDown:D,isPanning:m?y:!1}}const $e={obsidian950:"#191f29",obsidian900:"#18272e",obsidian800:"#324446",obsidian750:"#435360",pearl100:"#eaebec",granite600:"#41403f",ember500:"#813a28",tide500:"#3f6e66",linen200:"#a7a984",mist200:"#c5d2cb",ink900:"#221f21",gold600:"#736b23",gold600Opaque:"#736b23ff",gold500:"#9d8940",crimson600:"#60131b",crimson500:"#8a2a34",moss500:"#777741",amethyst500:"#55375d",sun500Translucent:"#eece22cc",sun500:"#eece22",fallback200:"#CCCCCC"},Bt={canvas:$e.obsidian950,map:$e.obsidian900,panel:$e.obsidian800,"panel-hover":$e.obsidian750,card:$e.pearl100},ra={primary:$e.pearl100,muted:$e.linen200,subtle:$e.mist200,inverse:$e.ink900,accent:$e.gold600},An={"panel-divider":$e.granite600,"holding-marker":$e.ember500,"landmark-marker":$e.tide500},Jt={primary:$e.gold600,"primary-strong":$e.gold600Opaque,"primary-hover":$e.gold500,danger:$e.crimson600,"danger-hover":$e.crimson500,success:$e.moss500,info:$e.obsidian750},th={"hex-hover":$e.sun500,"hex-selected":$e.sun500},ah={scrim:"rgba(0, 0, 0, 0.7)"},lh={"mystic-highlight":$e.amethyst500},K1={surface:Bt,text:ra,border:An,intent:Jt,interaction:th,overlay:ah,aura:lh},J1={marsh:{base:Bt.panel,deepwater:Bt.panel},heath:{base:Jt.success,brush:Jt.success},crags:{base:Bt.map,stone:Bt.map},peaks:{base:An["panel-divider"],ridge:An["panel-divider"]},forest:{base:Jt.success,canopy:Jt.success},valley:{base:ra.muted,meander:ra.muted},hills:{base:Jt["primary-hover"],rise:Jt["primary-hover"]},meadow:{base:Bt.card,bloom:Bt.card},bog:{base:Bt.map,hollows:Bt.map},lakes:{base:An["landmark-marker"],surface:An["landmark-marker"]},glades:{base:ra.subtle,light:ra.subtle},plain:{base:ra.muted,expanse:ra.muted}},$1={glow:$e.sun500Translucent,seatOfPower:$e.sun500},ju={terrain:J1,mythic:$1},nh={realm:{"canvas-backdrop":Bt.canvas,"map-viewport":Bt.map,"command-panel-surface":Bt.panel,"command-panel-hover":Bt["panel-hover"],"card-surface":Bt.card},border:An,text:{"high-contrast":ra.primary,muted:ra.muted,subtle:ra.subtle,inverse:ra.inverse,"accent-headline":ra.accent},actions:{"command-primary":Jt["primary-strong"],"command-primary-hover":Jt["primary-hover"],"danger-base":Jt.danger,"danger-hover":Jt["danger-hover"]},feedback:{"info-panel":Jt.info,"success-highlight":Jt.success,"mystic-highlight":lh["mystic-highlight"]},interaction:th,mythic:{"myth-glow":ju.mythic.glow,"seat-of-power":ju.mythic.seatOfPower},overlay:ah,terrain:ju.terrain},F1=$e.fallback200,_u=(c,o=[])=>Object.entries(c).reduce((d,[u,m])=>{const h=[...o,u].join("-");return typeof m=="string"?(d[h]=m,d):(Object.assign(d,_u(m,[...o,u])),d)},{}),ih=_u(K1),sh=_u(nh),W1={...sh,...ih},I1=nh,qu={...sh,...ih},Gm=/^#(?:[0-9a-f]{3}|[0-9a-f]{4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,bl=c=>{const o=c.trim(),d=W1[o]??qu[o];return d?Gm.test(d)?d.toUpperCase():d:Gm.test(o)?o.toUpperCase():o},P1=c=>`terrain-${c}-base`,ch=c=>{var o;return((o=qu[P1(c)])==null?void 0:o.toUpperCase())??F1},ua=qu,Kt=Object.fromEntries(Object.keys(I1.terrain).map(c=>[c,ua[`terrain-${c}-base`]])),ey=ua["mythic-myth-glow"],Ws=ua["actions-danger-base"],Is=ua["interaction-hex-selected"],ty=ua["interaction-hex-hover"],ay=ua["mythic-seat-of-power"],ly=ua["border-holding-marker"],ny=ua["border-landmark-marker"],iy=ua["text-inverse"],sy=ua["realm-card-surface"],cy=ua["border-panel-divider"],Js="rgba(234, 235, 236, 0.2)",rh=1,$s={holdings:{},seatOfPower:!0,landmarks:{},myths:{},showBarriers:!1},kn=12,xl=["marsh","heath","crags","peaks","forest","valley","hills","meadow","bog","lakes","glades","plain"],ry=["peaks","crags","hills","heath","forest","meadow","plain","glades","valley","marsh","bog","lakes"],uy=["castle","city","town","village"],oy=["dwelling","sanctum","monument","hazard","curse","ruins"],dy=1/6,fy=["tree-pine","leaf","feather","flower","grass","sprout","shrub","triangle","waves","droplet","sun","wind","star","sparkle","cloud","rock","flag","snowflake","branch","river","path","wave-sine","chevron-up","skull","fish","tree-deciduous","sparkles"],mt=5,tc=c=>{const o=[];for(let d=0;d<mt;d++)for(let u=0;u<mt;u++)o.push(c(u,d)?1:0);return o},Rn=Math.floor(mt/2),Zs=tc((c,o)=>Math.abs(c-Rn)<=1&&Math.abs(o-Rn)<=1),Nu=tc((c,o)=>Math.sqrt(Math.pow(c-Rn,2)+Math.pow(o-Rn,2))>Rn*.7),my=tc((c,o)=>Math.abs(o-Rn)<=1),Ti=tc(()=>!0),Je={marsh:{icons:["droplet","feather","waves"],settings:{mode:"random",density:5,sizeMin:10,sizeMax:14,opacityMin:.75,opacityMax:.95,color:"text-high-contrast",placementMask:Ti,centerBias:.1,minSeparation:5,scaleVariance:.5}},heath:{icons:["leaf","grass","wind"],settings:{density:3,sizeMin:10,sizeMax:12,opacityMin:.55,opacityMax:.85,color:"text-inverse",placementMask:Ti,centerBias:.05,minSeparation:8,scaleVariance:.35}},crags:{icons:["triangle","rock","flag"],settings:{mode:"grid",sizeMin:12,sizeMax:16,opacityMin:.8,opacityMax:.9,color:"text-high-contrast",placementMask:Nu,gridDensity:3,gridSize:.85,gridJitter:.15,gridBaseRotation:-20,gridRotationRange:8,iconBaseRotation:-5,scaleVariance:.25}},peaks:{icons:["triangle","flag","snowflake"],settings:{mode:"grid",sizeMin:14,sizeMax:18,opacityMin:.75,opacityMax:.95,color:"text-high-contrast",placementMask:Nu,gridDensity:2,gridSize:.9,gridJitter:.05,gridBaseRotation:12,gridRotationRange:12,iconBaseRotation:0,scaleVariance:.2}},forest:{icons:["tree-pine","leaf","branch"],settings:{density:6,sizeMin:11,sizeMax:13,opacityMin:.85,opacityMax:1,color:"text-inverse",placementMask:Ti,centerBias:.2,minSeparation:5,scaleVariance:.45}},valley:{icons:["river","path","sprout"],settings:{density:3,sizeMin:10,sizeMax:12,opacityMin:.65,opacityMax:.85,color:"text-inverse",placementMask:my,centerBias:.4,minSeparation:6,scaleVariance:.4}},hills:{icons:["wave-sine","chevron-up","rock"],settings:{density:3,sizeMin:11,sizeMax:14,opacityMin:.7,opacityMax:.9,color:"text-inverse",placementMask:Ti,centerBias:.15,minSeparation:7,scaleVariance:.35}},meadow:{icons:["flower","grass","sun"],settings:{density:2,sizeMin:12,sizeMax:14,opacityMin:.55,opacityMax:.75,color:"text-inverse",placementMask:Zs,centerBias:.3,minSeparation:10,scaleVariance:.4}},bog:{icons:["droplet","skull","feather"],settings:{density:4,sizeMin:10,sizeMax:13,opacityMin:.6,opacityMax:.85,color:"text-high-contrast",placementMask:Nu,centerBias:.05,minSeparation:6,scaleVariance:.45}},lakes:{icons:["waves","droplet","fish"],settings:{mode:"grid",density:3,sizeMin:12,sizeMax:16,opacityMin:.55,opacityMax:.75,color:"text-high-contrast",placementMask:Zs,gridDensity:3,gridSize:.8,gridJitter:.1,gridBaseRotation:0,gridRotationRange:6,iconBaseRotation:0,scaleVariance:.3}},glades:{icons:["tree-deciduous","sparkles","sun"],settings:{mode:"grid",density:3,sizeMin:11,sizeMax:13,opacityMin:.65,opacityMax:.85,color:"text-inverse",placementMask:Zs,gridDensity:3,gridSize:.7,gridJitter:.2,gridBaseRotation:0,gridRotationRange:10,iconBaseRotation:0,centerBias:.2,scaleVariance:.35}},plain:{icons:["wind","cloud","grass"],settings:{density:2,sizeMin:10,sizeMax:12,opacityMin:.5,opacityMax:.7,color:"text-inverse",placementMask:Zs,centerBias:.2,minSeparation:12,scaleVariance:.3}}},gt={mode:"random",density:3,sizeMin:10,sizeMax:10,opacityMin:1,opacityMax:1,color:ua["text-inverse"],placementMask:Ti,centerBias:0,minSeparation:0,gridDensity:3,gridSize:.75,gridJitter:.1,gridBaseRotation:0,scaleVariance:.4,gridRotationRange:20,iconBaseRotation:0,seedOffset:0},Ps={terrain:[{id:"marsh",label:"Marsh",icon:"droplet",color:Kt.marsh,description:"Sodden lowlands thick with reeds and standing water. Travel is slow, but the damp earth hides secrets and strange wildlife.",sprayIcons:[...Je.marsh.icons],spraySettings:{...gt,...Je.marsh.settings}},{id:"heath",label:"Heath",icon:"leaf",color:Kt.heath,description:"Open scrubland swept by relentless winds and hardy brush. A liminal place where travelers can see danger coming from afar.",sprayIcons:[...Je.heath.icons],spraySettings:{...gt,...Je.heath.settings}},{id:"crags",label:"Crags",icon:"triangle",color:Kt.crags,description:"Jagged highlands broken into cliffs of bare stone. Treacherous footing rewards climbers with stunning vantage points.",sprayIcons:[...Je.crags.icons],spraySettings:{...gt,...Je.crags.settings}},{id:"peaks",label:"Peaks",icon:"mountains",color:Kt.peaks,description:"Towering mountain summits often crowned with snow. Thin air and frigid winds shelter ancient shrines and nesting wyverns.",sprayIcons:[...Je.peaks.icons],spraySettings:{...gt,...Je.peaks.settings}},{id:"forest",label:"Forest",icon:"trees",color:Kt.forest,description:"Dense woodland of towering trunks and tangled undergrowth. Sunlight filters through the canopy, alive with birdsong and hidden paths.",sprayIcons:[...Je.forest.icons],spraySettings:{...gt,...Je.forest.settings}},{id:"valley",label:"Valley",icon:"curve",color:Kt.valley,description:"Sheltered lowlands carved by rivers and gentle slopes. Trade roads follow the water, drawing settlements and fertile farms.",sprayIcons:[...Je.valley.icons],spraySettings:{...gt,...Je.valley.settings}},{id:"hills",label:"Hills",icon:"hill",color:Kt.hills,description:"Rolling uplands of ridgelines and wind-swept rises. Shepherds and watchtowers cling to the heights to guard the realm.",sprayIcons:[...Je.hills.icons],spraySettings:{...gt,...Je.hills.settings}},{id:"meadow",label:"Meadow",icon:"flower",color:Kt.meadow,description:"Lush grasslands dotted with bright wildflowers. Ideal for foraging and grazing, these fields invite festivals in the warm months.",sprayIcons:[...Je.meadow.icons],spraySettings:{...gt,...Je.meadow.settings}},{id:"bog",label:"Bog",icon:"droplets",color:Kt.bog,description:"Peat-choked wetlands that cling to unwary travelers. Lantern lights drift across the mist, not all of them friendly.",sprayIcons:[...Je.bog.icons],spraySettings:{...gt,...Je.bog.settings}},{id:"lakes",label:"Lakes",icon:"waves",color:Kt.lakes,description:"Deep inland waters fed by streams and hidden springs. Fisherfolk ply their trade while legends speak of things beneath the surface.",sprayIcons:[...Je.lakes.icons],spraySettings:{...gt,...Je.lakes.settings}},{id:"glades",label:"Glades",icon:"sun",color:Kt.glades,description:"Sunlit clearings cradled within surrounding trees. Sacred stones and hidden gatherings are said to appear under moonlight.",sprayIcons:[...Je.glades.icons],spraySettings:{...gt,...Je.glades.settings}},{id:"plain",label:"Plain",icon:"wind",color:Kt.plain,description:"Wide, open flatlands stretching toward distant horizons. Armies march here, but so do caravans and migrating herds.",sprayIcons:[...Je.plain.icons],spraySettings:{...gt,...Je.plain.settings}}],holding:[{id:"castle",label:"Castle",icon:"castle"},{id:"city",label:"City",icon:"city"},{id:"town",label:"Town",icon:"town"},{id:"village",label:"Village",icon:"village"}],landmark:[{id:"dwelling",label:"Dwelling",icon:"dwelling"},{id:"sanctum",label:"Sanctum",icon:"sanctum"},{id:"monument",label:"Monument",icon:"monument"},{id:"hazard",label:"Hazard",icon:"hazard"},{id:"curse",label:"Curse",icon:"curse"},{id:"ruins",label:"Ruins",icon:"ruins"}]},hy=[{id:"myth",label:"Myth",icon:"sparkle"},{id:"seatOfPower",label:"Seat of Power",icon:"crown"}],at={self:.75,strong:.6,moderate:.4,weak:.2,none:0},Dn={};xl.forEach(c=>{Dn[c]={},xl.forEach(d=>{const u=Dn[c];u&&(u[d]=at.weak)});const o=Dn[c];o&&(o[c]=at.self)});const ot=(c,o,d)=>{const u=Dn[c],m=Dn[o];u&&m&&(u[o]=d,m[c]=d)};ot("peaks","crags",at.strong);ot("peaks","hills",at.moderate);ot("crags","hills",at.strong);ot("lakes","marsh",at.strong);ot("lakes","bog",at.moderate);ot("marsh","bog",at.strong);ot("plain","meadow",at.strong);ot("plain","heath",at.strong);ot("plain","valley",at.moderate);ot("meadow","glades",at.moderate);ot("valley","hills",at.moderate);ot("forest","hills",at.moderate);ot("forest","glades",at.strong);ot("forest","valley",at.moderate);ot("hills","plain",at.moderate);ot("hills","meadow",at.moderate);ot("peaks","marsh",at.none);ot("peaks","bog",at.none);ot("peaks","lakes",at.none);ot("crags","lakes",at.none);const Cu=Dn,uh={marsh:5,heath:10,crags:5,peaks:5,forest:15,valley:5,hills:15,meadow:10,bog:5,lakes:5,glades:5,plain:10},yy={balanced:{name:"Balanced Realm",options:{highlandFormation:"linear",highlandFormationStrength:.7,highlandFormationRotation:0,terrainRoughness:.5,terrainBiases:{...uh}}},jagged:{name:"Jagged Peaks",options:{highlandFormation:"circle",highlandFormationStrength:1,highlandFormationRotation:0,terrainRoughness:.8,terrainBiases:{marsh:1,heath:2,crags:20,peaks:25,forest:5,valley:3,hills:20,meadow:2,bog:1,lakes:1,glades:2,plain:5}}},lush:{name:"Lush Lowlands",options:{highlandFormation:"linear",highlandFormationStrength:.5,highlandFormationRotation:180,terrainRoughness:.25,terrainBiases:{marsh:15,heath:5,crags:1,peaks:1,forest:25,valley:10,hills:5,meadow:8,bog:10,lakes:10,glades:8,plain:12}}},sunkenCaldera:{name:"Sunken Caldera",options:{highlandFormation:"circle",highlandFormationStrength:1,highlandFormationInverse:!0,terrainRoughness:.75,terrainBiases:{marsh:5,heath:2,crags:20,peaks:25,forest:3,valley:5,hills:15,meadow:1,bog:10,lakes:15,glades:1,plain:2}}}};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oh=(...c)=>c.filter((o,d,u)=>!!o&&u.indexOf(o)===d).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=A.forwardRef(({color:c="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:u,className:m="",children:h,iconNode:g,...b},p)=>A.createElement("svg",{ref:p,...gy,width:o,height:o,stroke:c,strokeWidth:u?Number(d)*24/Number(o):d,className:oh("lucide",m),...b},[...g.map(([y,E])=>A.createElement(y,E)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(c,o)=>{const d=A.forwardRef(({className:u,...m},h)=>A.createElement(xy,{ref:h,iconNode:o,className:oh(`lucide-${py(c)}`,u),...m}));return d.displayName=`${c}`,d};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=le("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=le("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=le("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=le("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4",key:"1k4jtn"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=le("Church",[["path",{d:"M10 9h4",key:"u4k05v"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M14 22v-4a2 2 0 0 0-4 0v4",key:"1pdhuj"}],["path",{d:"M18 22V5.618a1 1 0 0 0-.553-.894l-4.553-2.277a2 2 0 0 0-1.788 0L6.553 4.724A1 1 0 0 0 6 5.618V22",key:"1rkokr"}],["path",{d:"m18 7 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.618a1 1 0 0 1 .553-.894L6 7",key:"1w6esw"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=le("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=le("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=le("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=le("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=le("DoorClosed",[["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}],["path",{d:"M14 12v.01",key:"xfcn54"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=le("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=le("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=le("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=le("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=le("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=le("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=le("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=le("Flower",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=le("Framer",[["path",{d:"M5 16V9h14V2H5l14 14h-7m-7 0 7 7v-7m-7 0h7",key:"1a2nng"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=le("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=le("GitBranchPlus",[["path",{d:"M6 3v12",key:"qpgusn"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"1d02ji"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"chk6ph"}],["path",{d:"M15 6a9 9 0 0 0-9 9",key:"or332x"}],["path",{d:"M18 15v6",key:"9wciyi"}],["path",{d:"M21 18h-6",key:"139f0c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=le("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=le("ImageDown",[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=le("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=le("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=le("MountainSnow",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}],["path",{d:"M4.14 15.08c2.62-1.57 5.24-1.43 7.86.42 2.74 1.94 5.49 2 8.23.19",key:"1pvmmp"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=le("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=le("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=le("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=le("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=le("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=le("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=le("Shrub",[["path",{d:"M12 22v-7l-2-2",key:"eqv9mc"}],["path",{d:"M17 8v.8A6 6 0 0 1 13.8 20H10A6.5 6.5 0 0 1 7 8a5 5 0 0 1 10 0Z",key:"ubcgy"}],["path",{d:"m14 14-2 2",key:"847xa2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=le("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=le("Slice",[["path",{d:"m8 14-6 6h9v-3",key:"zo3j9a"}],["path",{d:"M18.37 3.63 8 14l3 3L21.37 6.63a2.12 2.12 0 1 0-3-3Z",key:"1dzx0j"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=le("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=le("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=le("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=le("Spline",[["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=le("SprayCan",[["path",{d:"M3 3h.01",key:"159qn6"}],["path",{d:"M7 5h.01",key:"1hq22a"}],["path",{d:"M11 7h.01",key:"1osv80"}],["path",{d:"M3 7h.01",key:"1xzrh3"}],["path",{d:"M7 9h.01",key:"19b3jx"}],["path",{d:"M3 11h.01",key:"1eifu7"}],["rect",{width:"4",height:"4",x:"15",y:"5",key:"mri9e4"}],["path",{d:"m19 9 2 2v10c0 .6-.4 1-1 1h-6c-.6 0-1-.4-1-1V11l2-2",key:"aib6hk"}],["path",{d:"m13 14 8-2",key:"1d7bmk"}],["path",{d:"m13 19 8-2",key:"1y2vml"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=le("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=le("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=le("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=le("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=le("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=le("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=le("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=le("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=le("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dh={sparkles:hp,settings:cp,grid:Qy,undo:Np,redo:ip,eye:_y,upload:By,download:Hy,"image-down":Jy,sun:xp,moon:Py,"mouse-pointer-2":ep,brush:My,"barrier-painter":op,"map-pin-pen":Wy,sparkle:mp,close:Tp,crown:Ry,plus:np,minus:Iy,"chevron-up":Ey,"chevron-down":Cy,move:tp,"trash-2":vp,pipette:lp,reset:sp,star:gp,"help-circle":Ty,info:$y,network:ap,compass:Ay,"arrow-up":vy,circle:wy,"spray-can":yp,"grip-vertical":Zy,sliders:dp,trees:Qm,leaf:Vm,mountain:Zm,mountains:Xm,waves:Cp,water:Ym,"mountain-range":Xm,tree:Qm,droplet:Oy,triangle:jp,hill:Zm,flower:Gy,droplets:Ym,wind:zp,"tree-pine":Sp,curve:Eu,feather:qy,cloud:ky,grass:Ep,sprout:pp,shrub:rp,flag:Ly,snowflake:fp,branch:Xy,river:Eu,path:Eu,"wave-sine":by,skull:up,fish:Uy,rock:Vy,"tree-deciduous":Vm,castle:Ny,city:jy,town:Ky,village:bp,dwelling:Dy,sanctum:zy,monument:Fy,hazard:Mp,curse:Sy,ruins:Yy},ye=({name:c,...o})=>{const d=dh[c];return d?s.jsx(d,{strokeWidth:1.5,...o}):null},wp=({icon:c,label:o,isActive:d,onClick:u})=>s.jsx("button",{onClick:u,className:`p-3 rounded-lg transition-colors duration-150 ${d?"bg-actions-command-primary text-text-high-contrast":"bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover"}`,"aria-label":o,title:o,children:s.jsx(ye,{name:c,className:"w-6 h-6"})});function kp({activeTool:c,setActiveTool:o}){const d=[{id:"select",icon:"mouse-pointer-2",label:"Select Tool"},{id:"terrain",icon:"brush",label:"Terrain Painter"},{id:"barrier",icon:"barrier-painter",label:"Barrier Painter"},{id:"poi",icon:"map-pin-pen",label:"Points of Interest Painter"},{id:"myth",icon:"sparkle",label:"Myth Tool"}];return s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-2 p-2 bg-realm-canvas-backdrop/80 border border-border-panel-divider rounded-xl shadow-lg z-10",children:d.map(u=>s.jsx(wp,{icon:u.icon,label:u.label,isActive:c===u.id,onClick:()=>o(u.id)},u.id))})}const Qs=({keys:c,description:o})=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center",children:c.map((d,u)=>s.jsxs(Ri.Fragment,{children:[s.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-realm-command-panel-surface font-sans",children:d}),u<c.length-1&&s.jsx("span",{className:"mx-1",children:"+"})]},d))}),s.jsx("span",{children:o})]});function Ap(){return s.jsxs("div",{className:"absolute bottom-4 left-4 bg-realm-canvas-backdrop/80 border border-border-panel-divider p-3 rounded-lg shadow-lg text-xs text-text-muted z-10 pointer-events-none space-y-2",children:[s.jsx(Qs,{keys:["Space"],description:"Pan Map"}),s.jsx(Qs,{keys:["Ctrl","Z"],description:"Undo"}),s.jsx(Qs,{keys:["Ctrl","Y"],description:"Redo"}),s.jsx(Qs,{keys:["Ctrl","I"],description:"Pipette Tool"})]})}const Rp=({points:c,activeTool:o,isPickingTile:d})=>{const u=["select","poi","myth"].includes(o)&&!d;return s.jsx("polygon",{points:c.map(m=>`${m.x},${m.y}`).join(" "),fill:"none",stroke:ty,strokeOpacity:"0.8",strokeWidth:"2.5",strokeLinejoin:"round",className:`hex-hover-highlight opacity-0 ${u?"group-hover:opacity-100":""} transition-opacity duration-150`,style:{pointerEvents:"none"}})},Dp=({activeTile:c,hexCorners:o,viewOptions:d,isSeatOfPower:u,isHolding:m})=>{if(!(c!=null&&c.icon))return null;const h=u?ay:m?ly:ny;return s.jsxs("g",{style:{pointerEvents:"none"},children:[s.jsx("polygon",{points:o.map(g=>`${g.x},${g.y}`).join(" "),transform:"scale(0.75)",fill:sy,stroke:h,strokeWidth:u?6/.75:4/.75,strokeLinejoin:"round"}),s.jsx(ye,{name:c.icon,x:-d.hexSize.x*.4,y:-d.hexSize.y*.4,width:d.hexSize.x*.8,height:d.hexSize.y*.8,className:"text-text-inverse",strokeWidth:2})]})},Op=({points:c,isSelected:o,activeTool:d})=>!o||d==="barrier"?null:s.jsx("polygon",{points:c.map(u=>`${u.x},${u.y}`).join(" "),fill:"none",stroke:Is,strokeWidth:4,strokeLinejoin:"round",className:"hex-selection-highlight",style:{pointerEvents:"none"}}),_p=({mythId:c,showMyths:o,hexSize:d})=>!o||!c?null:s.jsxs("g",{style:{pointerEvents:"none"},children:[s.jsx("circle",{r:d.x*.3,fill:ey}),s.jsx("text",{textAnchor:"middle",dy:".3em",fill:iy,className:"font-myth-number text-[1.8em]",children:c})]}),qp=({barrierEdges:c,hexCorners:o,barrierColor:d,showBarriers:u})=>!u||c.length===0?null:s.jsx("g",{style:{pointerEvents:"none"},children:c.map(m=>s.jsx("path",{d:wi(m,o),stroke:d,strokeWidth:"6",strokeLinecap:"round"},m))}),Hp=({textureUrl:c,hexBoundingBox:o,hexCorners:d,showGrid:u,gridColor:m,gridWidth:h})=>s.jsxs(s.Fragment,{children:[c?s.jsx("image",{href:c,x:o.x,y:o.y,width:o.width,height:o.height,clipPath:"url(#hex-clip-path)",preserveAspectRatio:"xMidYMid slice"}):s.jsx("polygon",{points:d.map(g=>`${g.x},${g.y}`).join(" "),fill:"#FF00FF"}),u&&s.jsx("polygon",{points:d.map(g=>`${g.x},${g.y}`).join(" "),fill:"none",stroke:m,strokeWidth:h,style:{pointerEvents:"none"}})]}),fh=Ri.memo(({hex:c,viewOptions:o,tileSets:d,terrainTextures:u,barrierColor:m,isSelected:h,isSeatOfPower:g,isSpacePanActive:b,activeTool:p,isPickingTile:y,onMouseDown:E,onMouseMove:N,hexCorners:j,hexCornersInnerHighlight:z,hexBoundingBox:H,layer:_})=>{const D=Ul(c,o.orientation,o.hexSize),G=o.visibility.knight,B=o.isGmView,Z=A.useMemo(()=>c.holding?d.holding.find(w=>w.id===c.holding):null,[c.holding,d.holding]),S=A.useMemo(()=>c.landmark?d.landmark.find(w=>w.id===c.landmark):null,[c.landmark,d.landmark]),V=Z?G.holdings[Z.id]:void 0,$=Z&&(B||(V??!0))?Z:null,T=S?G.landmarks[S.id]:void 0,ue=$??(S&&(B||(T??!0))?S:null),ie=!!$,se=g&&(B||G.seatOfPower),J=B||!c.myth?!0:G.myths[c.myth]??!0,de=B||G.showBarriers,Re=u?u[c.terrain]:null;let pe="";if(Re){let w;o.showIconSpray?w=Re.withSpray:w=Re.withoutSpray,pe=w}return s.jsxs("g",{transform:`translate(${D.x}, ${D.y})`,onMouseDown:w=>E(c,w),onMouseMove:w=>N(c,w),className:"group",style:{pointerEvents:b?"none":"auto"},children:[_==="background"&&s.jsxs(s.Fragment,{children:[s.jsx(Hp,{textureUrl:pe,hexBoundingBox:H,hexCorners:j,showGrid:o.showGrid,gridColor:o.gridColor,gridWidth:o.gridWidth}),s.jsx(Dp,{activeTile:ue,hexCorners:j,viewOptions:o,isSeatOfPower:se,isHolding:ie}),s.jsx(_p,{mythId:c.myth,showMyths:J,hexSize:o.hexSize})]}),_==="foreground"&&s.jsxs(s.Fragment,{children:[s.jsx("polygon",{points:j.map(w=>`${w.x},${w.y}`).join(" "),fill:"transparent",stroke:"none"}),s.jsx(Rp,{points:z,activeTool:p,isPickingTile:y}),s.jsx(Op,{points:z,isSelected:h,activeTool:p}),s.jsx(qp,{barrierEdges:c.barrierEdges,hexCorners:j,barrierColor:m,showBarriers:de})]})]})});fh.displayName="Hexagon";function mh({realm:c,onUpdateHex:o,viewOptions:d,selectedHex:u,onHexClick:m,activeTool:h,setActiveTool:g,paintTerrain:b,paintPoi:p,onAddMyth:y,onRemoveMyth:E,relocatingMythId:N,onRelocateMyth:j,onSetSeatOfPower:z,tileSets:H,barrierColor:_,isSettingsOpen:D,isPickingTile:G,onTilePick:B,setConfirmation:Z,terrainTextures:S,isLoadingTextures:V,svgId:$="hex-grid-svg",isInteractive:T=!0,staticPadding:P}){const{viewbox:ue,containerRef:ie,onMouseDown:se,isPanning:J}=Q1({initialWidth:1e3,initialHeight:800,minZoom:.2,maxZoom:5,enabled:T}),de=A.useMemo(()=>Ai(d.orientation,d.hexSize),[d.orientation,d.hexSize]),Re=A.useMemo(()=>Ai(d.orientation,d.hexSize,.9),[d.orientation,d.hexSize]),pe=A.useMemo(()=>{const I=de.map(Pe=>Pe.x),re=de.map(Pe=>Pe.y),he=Math.min(...I),Oe=Math.min(...re),Ne=Math.max(...I),De=Math.max(...re);return{x:he,y:Oe,width:Ne-he,height:De-Oe}},[de]),[w,K]=A.useState(!1),[ee,ge]=A.useState(new Map),xe=A.useRef("add"),v=A.useMemo(()=>new Map(c.hexes.map(I=>[`${I.q},${I.r}`,I])),[c.hexes]),L=A.useMemo(()=>{if(T)return null;const I=P??Math.max(d.hexSize.x,d.hexSize.y);if(!c.hexes.length)return`${pe.x-I} ${pe.y-I} ${pe.width+I*2} ${pe.height+I*2}`;let re=Number.POSITIVE_INFINITY,he=Number.POSITIVE_INFINITY,Oe=Number.NEGATIVE_INFINITY,Ne=Number.NEGATIVE_INFINITY;if(c.hexes.forEach(xt=>{const oa=Ul(xt,d.orientation,d.hexSize),Ke=oa.x+pe.x,Za=Ke+pe.width,wt=oa.y+pe.y,Ft=wt+pe.height;Ke<re&&(re=Ke),wt<he&&(he=wt),Za>Oe&&(Oe=Za),Ft>Ne&&(Ne=Ft)}),!Number.isFinite(re)||!Number.isFinite(he)||!Number.isFinite(Oe)||!Number.isFinite(Ne))return`${pe.x-I} ${pe.y-I} ${pe.width+I*2} ${pe.height+I*2}`;const De=Oe-re,Pe=Ne-he;return`${re-I} ${he-I} ${De+I*2} ${Pe+I*2}`},[pe.height,pe.width,pe.x,pe.y,T,c.hexes,P,d.hexSize,d.orientation]),F=T?ue:L??ue,te=A.useRef(null),[me,Se]=A.useState(!1),[be,Ze]=A.useState(null);A.useEffect(()=>{if(!T){Se(!1);return}const I=he=>{he.target.tagName!=="INPUT"&&he.code==="Space"&&!he.repeat&&(he.preventDefault(),Se(!0))},re=he=>{he.code==="Space"&&(he.preventDefault(),Se(!1))};return window.addEventListener("keydown",I),window.addEventListener("keyup",re),()=>{window.removeEventListener("keydown",I),window.removeEventListener("keyup",re)}},[T]),A.useEffect(()=>{const I=ie.current;if(!I)return;const re=["cursor-pipette","cursor-terrain-hover"];if(I.classList.remove(...re),I.style.cursor="",!!T)if(G)I.classList.add("cursor-pipette");else if(me)I.style.cursor=J?"grabbing":"grab";else if(N!==null)I.style.cursor="move";else switch(h){case"select":I.style.cursor="pointer";break;case"terrain":I.classList.add("cursor-terrain-hover");break;case"myth":case"barrier":case"poi":I.style.cursor="crosshair";break;default:I.style.cursor="default"}},[T,G,me,J,N,h,ie]);const Ge=A.useMemo(()=>{if(ee.size===0)return c.hexes;const I=new Map(c.hexes.map(re=>[`${re.q},${re.r}`,re]));return ee.forEach((re,he)=>I.set(he,re)),Array.from(I.values())},[c.hexes,ee]),Ut=A.useCallback((I,re)=>{T&&(h!=="terrain"&&h!=="barrier"||ge(he=>{const Oe=(Pe,xt)=>he.get(`${Pe},${xt}`)||v.get(`${Pe},${xt}`),Ne=Oe(I.q,I.r);if(!Ne)return he;const De=new Map(he);if(h==="terrain"){if(Ne.terrain===b)return he;De.set(`${I.q},${I.r}`,{...Ne,terrain:b})}else if(h==="barrier"&&re&&te.current){const Pe=Ul(I,d.orientation,d.hexSize),xt=te.current.createSVGPoint();xt.x=re.clientX,xt.y=re.clientY;const oa=te.current.getScreenCTM();if(!oa)return he;const Ke=xt.matrixTransform(oa.inverse()),Za={x:Number(Ke.x)-Number(Pe.x),y:Number(Ke.y)-Number(Pe.y)},wt=Mu(Za,de),Ft=xe.current==="add",Ca=Ne.barrierEdges.includes(wt);if(Ft&&Ca||!Ft&&!Ca)return he;const Yl=Ft?[...Ne.barrierEdges,wt]:Ne.barrierEdges.filter(ga=>ga!==wt);De.set(`${I.q},${I.r}`,{...Ne,barrierEdges:[...new Set(Yl)].sort((ga,da)=>ga-da)});const pa=ec(I)[wt];if(!pa)return De;const Qa=Oe(pa.q,pa.r);if(Qa){const ga=(Number(wt)+3)%6,da=Ft?[...Qa.barrierEdges,ga]:Qa.barrierEdges.filter(dt=>dt!==ga);De.set(`${pa.q},${pa.r}`,{...Qa,barrierEdges:[...new Set(da)].sort((dt,Wt)=>dt-Wt)})}}return De}))},[T,h,b,v,d.orientation,d.hexSize,de]),Xa=A.useCallback((I,re)=>{if(!T||re.button!==0)return;if(G){re.stopPropagation(),re.preventDefault(),B(I);return}if(N!==null){re.stopPropagation(),re.preventDefault();const Oe=c.hexes.find(Ne=>Ne.q===I.q&&Ne.r===I.r);Oe&&j(N,Oe);return}if(h==="select"){m(I);return}re.stopPropagation(),re.preventDefault();const he=v.get(`${I.q},${I.r}`);if(he){if(h==="myth"){he.myth?m(he):y(he,!0);return}if(h==="poi"&&p){const[Oe,Ne]=p.split(":");if(typeof Ne>"u")return;if(Oe==="action")Ne==="myth"?he.myth?E(he):y(he):Ne==="seatOfPower"&&(he.holding?z(he):Z({isOpen:!0,title:"Invalid Action",message:"Seat of Power can only be set on a hex with a holding.",onConfirm:()=>Z(null),isInfo:!0}));else{const De={...he};Oe==="holding"?(De.holding===Ne?delete De.holding:De.holding=Ne,delete De.landmark):Oe==="landmark"&&(De.landmark===Ne?delete De.landmark:De.landmark=Ne,delete De.holding),o([De])}return}if(h==="terrain"||h==="barrier"){if(K(!0),h==="barrier"&&te.current){const Oe=Ul(I,d.orientation,d.hexSize),Ne=te.current.createSVGPoint();Ne.x=re.clientX,Ne.y=re.clientY;const De=te.current.getScreenCTM();if(!De)return;const Pe=Ne.matrixTransform(De.inverse()),xt={x:Pe.x-Oe.x,y:Pe.y-Oe.y},oa=Mu(xt,de),Ke=ee.get(`${I.q},${I.r}`)||he;xe.current=Ke!=null&&Ke.barrierEdges.includes(oa)?"remove":"add"}Ut(I,re)}}},[T,G,B,N,c.hexes,j,h,m,v,y,p,E,z,Z,o,d.orientation,d.hexSize,de,ee,Ut]),Na=A.useCallback(()=>{T&&w&&(K(!1),ee.size>0&&o(Array.from(ee.values())),ge(new Map))},[T,w,o,ee]),vl=A.useCallback((I,re)=>{if(!T)return;if(w&&Ut(I,re),h!=="barrier"||w){be&&Ze(null);return}if(!te.current)return;const he=Ul(I,d.orientation,d.hexSize),Oe=te.current.createSVGPoint();Oe.x=re.clientX,Oe.y=re.clientY;const Ne=te.current.getScreenCTM();if(!Ne)return;const De=Oe.matrixTransform(Ne.inverse()),Pe={x:De.x-he.x,y:De.y-he.y},xt=Mu(Pe,de);(!be||be.q!==I.q||be.r!==I.r||be.edge!==xt)&&Ze({q:I.q,r:I.r,edge:xt})},[h,T,w,d.orientation,d.hexSize,de,be,Ut]);if(V||!S)return s.jsx("div",{className:"flex items-center justify-center h-full text-text-muted",children:s.jsx("p",{children:"Loading terrain textures..."})});const $t=I=>Ge.map(re=>{const he=u?re.q===u.q&&re.r===u.r:!1,Oe=!!(re.holding&&re.q===c.seatOfPower.q&&re.r===c.seatOfPower.r);return s.jsx(fh,{hex:re,viewOptions:d,tileSets:H,terrainTextures:S,barrierColor:_,isSelected:he,isSeatOfPower:Oe,isSpacePanActive:me,activeTool:h,isPickingTile:G,onMouseDown:Xa,onMouseMove:vl,hexCorners:de,hexCornersInnerHighlight:Re,hexBoundingBox:pe,layer:I},`hex-${I}-${re.q}-${re.r}`)});return s.jsxs("div",{ref:ie,className:"w-full h-full overflow-hidden bg-realm-map-viewport relative",children:[s.jsxs("svg",{ref:te,id:$,className:"w-full h-full",viewBox:F,onMouseDown:!T||G?void 0:se,onMouseUp:T?Na:void 0,onMouseLeave:T?()=>{Na(),Ze(null)}:void 0,children:[s.jsx("defs",{children:s.jsx("clipPath",{id:"hex-clip-path",children:s.jsx("polygon",{points:de.map(I=>`${I.x},${I.y}`).join(" ")})})}),s.jsx("g",{children:$t("background")}),s.jsx("g",{children:$t("foreground")}),T&&be&&h==="barrier"&&!w&&s.jsx("g",{style:{pointerEvents:"none"},children:(()=>{const I=v.get(`${be.q},${be.r}`);return I?s.jsx("g",{transform:`translate(${Ul(I,d.orientation,d.hexSize).x}, ${Ul(I,d.orientation,d.hexSize).y})`,children:s.jsx("path",{d:wi(be.edge,de),stroke:Is,strokeOpacity:"0.8",strokeWidth:"8",strokeLinecap:"round"})}):null})()})]}),!D&&s.jsx(kp,{activeTool:h,setActiveTool:g}),!D&&s.jsx(Ap,{})]})}const Ma=Ri.forwardRef(({onClick:c,icon:o,children:d,disabled:u,isActive:m,title:h},g)=>s.jsxs("button",{ref:g,onClick:c,className:`flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-h-[2.34rem] ${m?"bg-actions-command-primary text-text-high-contrast":"bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover"}`,disabled:u,title:h,children:[s.jsx(ye,{name:o,className:"w-4 h-4"}),d]}));Ma.displayName="ToolbarButton";const Ks=({icon:c,label:o,isActive:d,onClick:u})=>s.jsxs("button",{onClick:u,className:`flex items-center gap-3 w-full text-left p-3 rounded-md transition-colors ${d?"bg-actions-command-primary text-text-high-contrast":"text-text-muted hover:bg-realm-command-panel-surface"}`,children:[s.jsx(ye,{name:c,className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:o})]}),ja=({title:c,children:o})=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-md font-semibold text-text-high-contrast mb-2",children:c}),s.jsx("div",{className:"space-y-4 p-4 bg-realm-map-viewport rounded-md border border-border-panel-divider",children:o})]}),Bp=({realmShape:c,setRealmShape:o,realmRadius:d,setRealmRadius:u,realmWidth:m,setRealmWidth:h,realmHeight:g,setRealmHeight:b,generationOptions:p,setGenerationOptions:y,tileSets:E})=>{const N=(j,z)=>{y(H=>({...H,landmarks:{...H.landmarks,[j]:Math.max(0,parseInt(z,10)||0)}}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ja,{title:"Map Shape & Size",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-shape",className:"block text-sm font-medium text-text-muted mb-1",children:"Shape"}),s.jsxs("select",{id:"realm-shape",value:c,onChange:j=>o(j.target.value),className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md",children:[s.jsx("option",{value:"hex",children:"Hexagon"}),s.jsx("option",{value:"square",children:"Square"})]})]}),c==="hex"?s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-radius",className:"block text-sm font-medium text-text-muted mb-1",children:"Radius"}),s.jsx("input",{id:"realm-radius",type:"number",value:d,onChange:j=>u(Math.max(3,parseInt(j.target.value,10)||1)),min:"3",max:"50",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Realm radius"})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-width",className:"block text-sm font-medium text-text-muted mb-1",children:"Width"}),s.jsx("input",{id:"realm-width",type:"number",value:m,onChange:j=>h(Math.max(3,parseInt(j.target.value,10)||1)),min:"3",max:"50",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Realm width"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-height",className:"block text-sm font-medium text-text-muted mb-1",children:"Height"}),s.jsx("input",{id:"realm-height",type:"number",value:g,onChange:j=>b(Math.max(3,parseInt(j.target.value,10)||1)),min:"3",max:"50",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Realm height"})]})]})]}),s.jsx(ja,{title:"Points of Interest",children:s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:E.landmark.map(j=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{htmlFor:`landmark-${j.id}`,className:"text-sm text-text-muted",children:j.label}),s.jsx("input",{id:`landmark-${j.id}`,type:"number",value:p.landmarks[j.id]||0,onChange:z=>N(j.id,z.target.value),min:"0",className:"w-20 bg-realm-command-panel-surface p-1 text-sm text-center font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":`Number of ${j.label}`})]},j.id))})}),s.jsxs(ja,{title:"Myth & Mystery",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"num-holdings",className:"block text-sm font-medium text-text-muted mb-1",children:"Holdings"}),s.jsx("input",{id:"num-holdings",type:"number",value:p.numHoldings,onChange:j=>y(z=>({...z,numHoldings:Math.max(0,parseInt(j.target.value,10)||0)})),min:"0",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Number of holdings"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"num-myths",className:"block text-sm font-medium text-text-muted mb-1",children:"Myths"}),s.jsx("input",{id:"num-myths",type:"number",value:p.numMyths,onChange:j=>y(z=>({...z,numMyths:Math.max(0,parseInt(j.target.value,10)||0)})),min:"0",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Number of myths"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"myth-min-distance",className:"block text-sm font-medium text-text-muted mb-1",children:"Myth Min Distance"}),s.jsx("input",{id:"myth-min-distance",type:"number",value:p.mythMinDistance,onChange:j=>y(z=>({...z,mythMinDistance:Math.max(0,parseInt(j.target.value,10)||0)})),min:"0",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Minimum distance between myths"})]}),s.jsxs("label",{htmlFor:"generate-barriers",className:"flex items-center justify-between pt-4 border-t border-border-panel-divider cursor-pointer",children:[s.jsx("span",{className:"text-sm font-medium text-text-muted",children:"Generate Barriers"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"generate-barriers",type:"checkbox",checked:p.generateBarriers,onChange:j=>y(z=>({...z,generateBarriers:j.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-realm-command-panel-surface rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-actions-command-primary"})]})]})]})]})},Ct=({label:c,tooltip:o,value:d,onChange:u,min:m=0,max:h=1,step:g=.01,displayMultiplier:b=100,displaySuffix:p="%"})=>{const y=`slider-${c.toLowerCase().replace(/\s+/g,"-")}`,E=h-m,N=E===0?1:E,j=A.useMemo(()=>{const S=(d-m)/N*100;return Math.min(100,Math.max(0,S))},[d,m,N]),z=bl("actions-command-primary"),H=bl("realm-command-panel-surface"),_=bl("realm-command-panel-surface"),D=bl("border-panel-divider"),G=Math.round(d*b),B=A.useMemo(()=>({background:`linear-gradient(90deg, ${z} 0%, ${z} ${j}%, ${H} ${j}%, ${H} 100%)`,"--slider-thumb-bg":_,"--slider-thumb-border":D}),[z,H,_,D,j]),Z=S=>{const V=parseFloat(S);Number.isNaN(V)||u(V)};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{htmlFor:y,className:"text-sm font-medium text-text-muted",children:c}),o&&s.jsxs("div",{className:"relative group",children:[s.jsx(ye,{name:"help-circle",className:"w-4 h-4 text-text-muted cursor-help"}),s.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-64 p-2 bg-realm-map-viewport text-xs text-text-high-contrast rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20 border border-border-panel-divider",children:o})]})]}),s.jsxs("span",{className:"px-2 py-0.5 bg-realm-command-panel-surface rounded-md text-xs",children:[G,p]})]}),s.jsx("input",{id:y,type:"range",min:m,max:h,step:g,value:d,onChange:S=>Z(S.target.value),onInput:S=>Z(S.target.value),className:"realm-slider",style:B})]})},Up=({generationOptions:c,onGenerationOptionChange:o,handleClusteringChange:d,handleTerrainBiasChange:u,onApplyTemplate:m,tileSets:h})=>{const[g,b]=A.useState(null),p=A.useMemo(()=>[{id:"random",name:"Random",icon:"sparkles",description:["Ignores formation shape.","Elevation is purely noise-based.","Generates a chaotic landscape."]},{id:"linear",name:"Linear",icon:"arrow-up",description:["Creates a linear slope.","Highlands form at arrow's tip.","Good for continents."]},{id:"circle",name:"Circle",icon:"circle",description:["Creates a circular formation.","Highlands form inside.","Good for central mountains."]},{id:"triangle",name:"Triangle",icon:"triangle",description:["Creates a triangular formation.","Highlands form inside.","Good for unique landmasses."]}],[]);A.useEffect(()=>{c.highlandFormation==="triangle"&&c.highlandFormationRotation>120&&o("highlandFormationRotation",120)},[c.highlandFormation,c.highlandFormationRotation,o]);const y=(_,D)=>{let G=parseInt(_.target.value,10);isNaN(G)&&(G=0),u(D,Math.max(0,G))},E=(_,D)=>{b(D),_.dataTransfer.effectAllowed="move"},N=_=>{_.preventDefault()},j=(_,D)=>{if(!g||g===D)return;const G=c.terrainHeightOrder,B=G.indexOf(g),Z=G.indexOf(D);if(B===-1||Z===-1)return;const S=[...G],[V]=S.splice(B,1);V&&(S.splice(Z,0,V),o("terrainHeightOrder",S))},z=()=>{b(null)},H=_=>h.terrain.find(D=>D.id===_);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(ja,{title:"Terrain Generation Templates",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.values(yy).map(_=>s.jsx("button",{onClick:()=>m(_.options),className:"p-3 bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors text-center text-sm font-medium text-text-muted",children:_.name},_.name))})}),s.jsxs(ja,{title:"Terrain Height",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Drag and drop to reorder terrain types from highest (top) to lowest (bottom). This order determines elevation during map generation."}),s.jsx("ol",{className:"space-y-1 bg-realm-canvas-backdrop p-2 rounded-md border border-border-panel-divider",children:c.terrainHeightOrder.map(_=>{const D=H(_);if(!D)return null;const G=g===_;return s.jsxs("li",{draggable:!0,onDragStart:B=>E(B,D.id),onDragOver:N,onDrop:B=>j(B,D.id),onDragEnd:z,className:`flex items-center gap-3 p-2 rounded-md transition-all duration-150 cursor-grab active:cursor-grabbing bg-realm-command-panel-surface border border-transparent ${G?"opacity-50 border-dashed border-actions-command-primary":"hover:bg-realm-command-panel-hover"}`,children:[s.jsx(ye,{name:"grip-vertical",className:"w-5 h-5 text-text-muted"}),s.jsx(ye,{name:D.icon,className:"w-5 h-5 text-text-high-contrast"}),s.jsx("span",{className:"font-medium text-sm text-text-high-contrast",children:D.label})]},D.id)})})]}),s.jsxs(ja,{title:"Highland Formation",children:[s.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(_=>s.jsxs("button",{onClick:()=>o("highlandFormation",_.id),className:`p-4 rounded-md text-left transition-all duration-150 border-2 h-full ${c.highlandFormation===_.id?"bg-actions-command-primary/20 border-actions-command-primary text-text-high-contrast":"bg-realm-canvas-backdrop border-border-panel-divider hover:border-text-muted text-text-muted"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ye,{name:_.icon,className:"w-6 h-6 flex-shrink-0"}),s.jsx("h4",{className:"font-bold text-lg",children:_.name})]}),s.jsx("ul",{className:"list-disc space-y-1 pl-5 text-xs",children:_.description.map((D,G)=>s.jsx("li",{children:D},G))})]},_.id))}),c.highlandFormation!=="random"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t border-border-panel-divider",children:[s.jsx(Ct,{label:"Formation Strength",value:c.highlandFormationStrength,onChange:_=>o("highlandFormationStrength",_),tooltip:"Controls the intensity of the highland formation shape."}),(c.highlandFormation==="linear"||c.highlandFormation==="triangle")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center pt-4 border-t border-border-panel-divider",children:[s.jsx("div",{children:s.jsx(Ct,{label:"Formation Rotation",value:c.highlandFormationRotation,onChange:_=>o("highlandFormationRotation",_),min:0,max:c.highlandFormation==="triangle"?120:360,step:1,displayMultiplier:1,displaySuffix:"",tooltip:"Sets the orientation of the selected formation."})}),s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx(ye,{name:c.highlandFormation==="triangle"?"triangle":"arrow-up",className:"w-8 h-8 mx-auto mb-2 text-text-muted",style:{transform:`rotate(${c.highlandFormationRotation}deg)`}}),s.jsx("p",{className:"text-xs text-text-muted",children:"Lowlands start at the base and highlands form towards the tip."})]})]}),(c.highlandFormation==="circle"||c.highlandFormation==="triangle")&&s.jsxs("label",{htmlFor:"invert-formation",className:"flex items-center justify-between pt-4 border-t border-border-panel-divider cursor-pointer",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-text-muted",children:"Invert Formation"}),s.jsx("span",{className:"text-xs text-text-muted",children:"Flips highlands and lowlands."})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"invert-formation",type:"checkbox",checked:c.highlandFormationInverse||!1,onChange:_=>o("highlandFormationInverse",_.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-realm-command-panel-surface rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-actions-command-primary"})]})]})]})]}),s.jsxs(ja,{title:"Terrain Biases",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Set relative weights. Higher numbers mean more of that terrain."}),s.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-2",children:h.terrain.map(_=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{htmlFor:`terrain-bias-${_.id}`,className:"text-sm text-text-muted flex items-center gap-2",children:[s.jsx(ye,{name:_.icon,className:"w-4 h-4"}),_.label]}),s.jsx("input",{id:`terrain-bias-${_.id}`,type:"number",value:Math.round(c.terrainBiases[_.id]||0),onChange:D=>y(D,_.id),min:"0",className:"w-20 bg-realm-command-panel-surface p-1 text-sm text-center font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":`Bias for ${_.label}`})]},_.id))})]}),s.jsxs(ja,{title:"Terrain Clustering",children:[s.jsx(Ct,{label:"Terrain Clusteredness",value:1-c.terrainRoughness,onChange:_=>o("terrainRoughness",1-_),tooltip:"Higher values create large, smooth regions. Lower values result in chaotic, mixed landscapes."}),s.jsxs("div",{className:"pt-4 border-t border-border-panel-divider",children:[s.jsx("p",{className:"text-sm text-text-muted",children:"This matrix controls how terrain types attract each other. It is adjusted by the slider above."}),s.jsx("div",{className:"overflow-auto max-h-[calc(80vh-150px)] bg-realm-canvas-backdrop rounded-md border border-border-panel-divider mt-2",children:s.jsxs("table",{className:"w-full border-collapse text-xs whitespace-nowrap",children:[s.jsx("thead",{className:"sticky top-0 bg-realm-canvas-backdrop z-20",children:s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 bg-realm-canvas-backdrop p-2 border-r border-b border-border-panel-divider w-28 z-30"}),h.terrain.map(_=>s.jsx("th",{className:"p-1 border-b border-border-panel-divider text-center font-medium",title:_.label,children:s.jsx("div",{className:"flex justify-center items-center h-full w-8 mx-auto",children:s.jsx(ye,{name:_.icon,className:"w-5 h-5"})})},_.id))]})}),s.jsx("tbody",{children:h.terrain.map((_,D)=>s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 bg-realm-map-viewport p-0 border-r border-b border-border-panel-divider text-left font-medium w-28 z-10",children:s.jsxs("div",{className:"flex items-center gap-2 p-2",children:[s.jsx(ye,{name:_.icon,className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:_.label})]})}),h.terrain.map((G,B)=>{var S;if(B>D)return s.jsx("td",{className:"p-1 border-b border-border-panel-divider bg-realm-canvas-backdrop/50"},G.id);const Z=((S=c.terrainClusteringMatrix[_.id])==null?void 0:S[G.id])??.5;return s.jsx("td",{className:"p-1 border-b border-border-panel-divider text-center",children:s.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:Math.round(Z*100),onChange:V=>{const $=parseInt(V.target.value,10)||0;d(_.id,G.id,Math.max(0,Math.min(100,$))/100)},className:"w-14 bg-realm-command-panel-surface p-1 text-sm text-center font-medium text-text-muted focus:outline-none focus:ring-1 focus:ring-actions-command-primary rounded-md",title:`${_.label} <> ${G.label}: ${Math.round(Z*100)}`})},G.id)})]},_.id))})]})})]})]})]})},Lp={autoOpenOnHover:!0,openDelay:250,closeDelay:200},hh=c=>{const o=A.useMemo(()=>({...Lp,...c}),[c]),[d,u]=A.useState(null),m=A.useRef(null),h=A.useRef(null),g=A.useCallback(()=>{m.current!==null&&(window.clearTimeout(m.current),m.current=null)},[]),b=A.useCallback(()=>{h.current!==null&&(window.clearTimeout(h.current),h.current=null)},[]),p=A.useCallback(()=>{g(),b(),u(null)},[b,g]);A.useEffect(()=>()=>{g(),b()},[b,g]);const y=A.useCallback((j,z)=>{u(H=>(H==null?void 0:H.id)===j?H.locked?{...H,anchor:z}:{id:j,anchor:z,locked:!0}:{id:j,anchor:z,locked:!0})},[]),E=A.useCallback((j,z)=>{o.autoOpenOnHover&&(b(),g(),m.current=window.setTimeout(()=>{u(H=>H!=null&&H.locked&&H.id!==j?H:(H==null?void 0:H.id)===j&&H.locked?{...H,anchor:z}:{id:j,anchor:z,locked:!1}),m.current=null},o.openDelay))},[b,g,o.autoOpenOnHover,o.openDelay]),N=A.useCallback(j=>{o.autoOpenOnHover&&(g(),b(),h.current=window.setTimeout(()=>{u(z=>z&&(z.locked||z.id!==j)?z:null),h.current=null},o.closeDelay))},[b,g,o.autoOpenOnHover,o.closeDelay]);return{activeInfo:d,handleInfoClick:y,scheduleHoverOpen:E,scheduleHoverClose:N,closeInfo:p}};var Gp=eh();const Yp=(c,o,d)=>Math.min(Math.max(c,o),d),yh=({anchor:c,onClose:o,children:d,onMouseEnter:u,onMouseLeave:m})=>{const h=A.useRef(null),[g,b]=A.useState({top:0,left:0}),p=A.useCallback(()=>{const y=c.getBoundingClientRect();if(!h.current){b({top:y.top+window.scrollY,left:y.left+window.scrollX});return}const E=h.current.getBoundingClientRect(),N=window.innerWidth,j=window.scrollY,z=window.scrollX;let H=y.top+j-E.height-12;H<j+12&&(H=y.bottom+j+12);let _=y.right+z-E.width;const D=z+12,G=z+N-E.width-12;_=Yp(_,D,Math.max(D,G)),b({top:H,left:_})},[c]);return A.useLayoutEffect(()=>{p()},[p]),A.useEffect(()=>{const y=j=>{j.key==="Escape"&&o()},E=()=>{p()},N=j=>{var H;const z=j.target;z&&((H=h.current)!=null&&H.contains(z)||c.contains(z)||o())};return window.addEventListener("keydown",y),window.addEventListener("scroll",E,!0),window.addEventListener("resize",E),document.addEventListener("mousedown",N,!0),()=>{window.removeEventListener("keydown",y),window.removeEventListener("scroll",E,!0),window.removeEventListener("resize",E),document.removeEventListener("mousedown",N,!0)}},[c,o,p]),Gp.createPortal(s.jsx("div",{ref:h,className:"fixed z-[999] w-64 rounded-md border border-border-panel-divider bg-realm-canvas-backdrop p-3 shadow-lg",style:{top:`${g.top}px`,left:`${g.left}px`},role:"dialog",onMouseEnter:u,onMouseLeave:m,children:d}),document.body)},Gl=(c,o,d)=>Math.min(d,Math.max(o,c)),ph=(c,o,d)=>{if(!d||d.length===0)return!0;const u=Gl(Math.floor((c+1)/2*mt),0,mt-1),h=Gl(Math.floor((o+1)/2*mt),0,mt-1)*mt+u;return d[h]===1};function Vp(c){return function(){let o=c+=1831565813;return o=Math.imul(o^o>>>15,o|1),o^=o+Math.imul(o^o>>>7,o|61),((o^o>>>14)>>>0)/4294967296}}function Xp(c){let o=0;for(let d=0;d<c.length;d++){const u=c.charCodeAt(d);o=(o<<5)-o+u,o|=0}return o}const Zp=c=>{const o=(c.sizeMin+c.sizeMax)/2,d=Math.abs(c.sizeMax-c.sizeMin)/2,u=Math.max(0,o)*Gl(c.scaleVariance??0,0,1)*.5,m=Math.max(d,u),h=Math.max(0,o-m),g=Math.max(h,o+m);return{base:o,min:h,max:g,range:g-h,half:m}},Qp=(c,o,d,u,m)=>{const h=[];if(o.length===0)return h;const g=Math.max(1,Math.round(c.gridDensity)),b=Gl(c.gridSize,.1,1),p=Gl(c.gridJitter,0,1),y=Math.max(0,c.gridRotationRange),E=c.iconBaseRotation??0,N=(c.gridBaseRotation??0)*Math.PI/180,j=Math.abs(N)>1e-4,z=j?Math.cos(N):1,H=j?Math.sin(N):0,_=u*2*b,D=g>1?_/(g-1):0,G=_/2,B=g>1?D:_,{base:Z,min:S,max:V,half:$,range:T}=m;for(let P=0;P<g;P++)for(let ue=0;ue<g;ue++){let ie=g>1?-G+ue*D:0,se=g>1?-G+P*D:0;if(B>0&&p>0){const v=()=>(d()*2-1)*B*.5*p;ie+=v(),se+=v()}let J=ie,de=se;if(j&&(J=ie*z-se*H,de=ie*H+se*z),Math.sqrt(J*J+de*de)>u)continue;const Re=J/u,pe=de/u;if(!ph(Re,pe,c.placementMask))continue;const w=o[Math.floor(d()*o.length)];if(!w)continue;const K=T>0?Gl(Z+(d()*2-1)*$,S,V):Z,ee=y>0?(d()*2-1)*y:0,ge=E+ee,xe=d()*(c.opacityMax-c.opacityMin)+c.opacityMin;h.push({name:w,x:J,y:de,size:K,rotation:ge,opacity:xe,color:c.color})}return h},Kp=(c,o,d,u,m)=>{var B;const h=[];if(o.length===0)return h;const g=[];if((B=c.placementMask)==null||B.forEach((Z,S)=>{Z===1&&g.push(S)}),g.length===0)return h;const b=Math.max(0,Math.floor(c.density)),p=Math.max(1,b*50),y=Math.max(0,c.minSeparation),E=Gl(c.centerBias,0,1),N=1+E*2,{min:j,range:z,base:H}=m,_=c.iconBaseRotation??0,D=Math.max(0,c.gridRotationRange);let G=0;for(;h.length<b&&G<p;){G++;const Z=g[Math.floor(d()*g.length)];if(Z===void 0)continue;const S=Math.floor(Z/mt),V=Z%mt,$=1/mt,T=V*$*2-1,P=S*$*2-1;let ue=T+d()*$*2,ie=P+d()*$*2;if(E>0){const ee=Math.sqrt(ue*ue+ie*ie);if(ee>0){const ge=Math.min(1,ee),v=Math.pow(ge,N)/ge;ue*=v,ie*=v}}if(!ph(ue,ie,c.placementMask))continue;const se=ue*u,J=ie*u;if(Math.sqrt(se*se+J*J)>u||y>0&&h.some(ee=>{const ge=ee.x-se,xe=ee.y-J;return Math.sqrt(ge*ge+xe*xe)<y}))continue;const de=o[Math.floor(d()*o.length)];if(!de)continue;const Re=z>0?j+d()*z:H,pe=d()*(c.opacityMax-c.opacityMin)+c.opacityMin,w=D>0?(d()*2-1)*D:0,K=_+w;h.push({name:de,x:se,y:J,size:Re,rotation:K,opacity:pe,color:c.color})}return h},gh=(c,o,d)=>{const u=Je[o.id],m=(u==null?void 0:u.settings)??{},h=o.spraySettings??{},g={...m,...h},b={...gt,...m,...h,placementMask:h.placementMask??m.placementMask??gt.placementMask,scaleVariance:g.scaleVariance??g.gridScaleVariance??gt.scaleVariance,seedOffset:g.seedOffset??gt.seedOffset};b.sizeMin=Math.max(10,b.sizeMin),b.sizeMax=Math.max(b.sizeMin,b.sizeMax),b.opacityMin=Math.max(0,Math.min(1,b.opacityMin)),b.opacityMax=Math.max(b.opacityMin,Math.min(1,b.opacityMax)),b.iconBaseRotation=b.iconBaseRotation??0,b.gridBaseRotation=b.gridBaseRotation??0;const p=o.sprayIcons&&o.sprayIcons.length>0?o.sprayIcons:(u==null?void 0:u.icons)??[];if(p.length===0)return[];const y=d.x;if(y<=0)return[];const E=c.q*1337+c.r*31337+Xp(o.id)+(b.seedOffset??0),N=Vp(E),j=Zp(b);return b.mode==="grid"?Qp(b,p,N,y,j):b.density<=0?[]:Kp(b,p,N,y,j)},Km={x:50,y:50},Jp=({terrain:c,onReroll:o})=>{const d=A.useMemo(()=>Ai("pointy",Km),[]),u=A.useMemo(()=>{const m={q:0,r:0,terrain:c.id};return gh(m,c,Km)},[c]);return s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:o,disabled:!o,"aria-label":o?`Reroll ${c.label} spray preview`:void 0,className:`group relative inline-flex items-center justify-center transition-transform ${o?"hover:scale-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-actions-command-primary focus-visible:ring-offset-2 focus-visible:ring-offset-realm-command-panel-surface":"cursor-default"}`,children:[s.jsx("svg",{width:"110",height:"110",viewBox:"-55 -55 110 110",children:s.jsxs("g",{children:[s.jsx("polygon",{points:d.map(m=>`${m.x},${m.y}`).join(" "),fill:c.color?bl(c.color):"#CCCCCC",stroke:cy,strokeWidth:"1"}),s.jsx("g",{children:u.map((m,h)=>s.jsx("g",{transform:`translate(${m.x}, ${m.y}) rotate(${m.rotation})`,children:s.jsx(ye,{name:m.name,style:{opacity:m.opacity,color:m.color},width:m.size,height:m.size,x:-m.size/2,y:-m.size/2,strokeWidth:2.5})},h))})]})}),o?s.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:s.jsx(ye,{name:"reset",className:"h-5 w-5 text-text-high-contrast drop-shadow opacity-0 transition-opacity group-hover:opacity-100"})}):null]}),s.jsxs("p",{className:"text-xs text-center text-text-muted",children:["This pattern is consistent for all '",c.label,"' hexes."]})]})},$p=({selectedIcons:c,onToggleIcon:o})=>{const d=A.useMemo(()=>[...fy].sort(),[]);return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Spray Icons"}),s.jsx("div",{className:"grid grid-cols-6 gap-1 p-2 bg-realm-map-viewport rounded-md max-h-48 overflow-y-auto",children:d.map(u=>{const m=c.includes(u);return s.jsxs("button",{onClick:()=>o(u),className:`flex flex-col items-center justify-center gap-1 p-1 rounded-md transition-all duration-150 border-2 text-center h-16 ${m?"bg-actions-command-primary/30 border-actions-command-primary text-text-high-contrast":"bg-realm-command-panel-surface border-transparent hover:border-text-muted text-text-muted"}`,title:u,type:"button",children:[s.jsx(ye,{name:u,className:"w-6 h-6"}),s.jsx("span",{className:"text-[10px] truncate w-full",children:u})]},u)})})]})},Jm=mt*mt,Fp=({mask:c,onUpdateMask:o})=>{const[d,u]=A.useState(!1),m=A.useRef(1),h=A.useRef(null),g=A.useCallback(j=>{const z=c[j];if(z!==void 0&&z!==m.current){const H=[...c];H[j]=m.current,o(H)}},[c,o]),b=j=>{const z=h.current;if(!z)return null;const H=z.getBoundingClientRect(),_=j.clientX-H.left,D=j.clientY-H.top,G=H.width/mt,B=H.height/mt,Z=Math.floor(_/G),S=Math.floor(D/B);return Z>=0&&Z<mt&&S>=0&&S<mt?S*mt+Z:null},p=j=>{j.preventDefault();const z=b(j);if(z!==null){u(!0);const H=c[z];m.current=H===1?0:1,g(z)}},y=j=>{if(!d)return;const z=b(j);z!==null&&g(z)},E=()=>o(new Array(Jm).fill(1)),N=()=>o(new Array(Jm).fill(0));return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted",children:"Placement Mask"}),s.jsx("p",{className:"text-xs text-text-muted mt-1 mb-2",children:"Click and drag to paint the green area where icons are allowed to appear. This defines the placement area within the hex."}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{ref:h,className:"relative w-full max-w-[140px] md:max-w-[180px] bg-realm-command-panel-surface rounded-md overflow-hidden select-none aspect-square",onMouseDown:p,onMouseMove:y,onMouseUp:()=>u(!1),onMouseLeave:()=>u(!1),children:[s.jsx("div",{className:"grid h-full",style:{gridTemplateColumns:`repeat(${mt}, minmax(0, 1fr))`},children:c.map((j,z)=>s.jsx("div",{className:`border border-border-panel-divider/40 transition-colors ${j?"bg-feedback-success-highlight/60":"bg-transparent"}`},z))}),s.jsx("div",{className:"absolute inset-0 pointer-events-none border border-border-panel-divider rounded-md"})]})}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx("button",{onClick:N,type:"button",className:"text-xs px-2 py-1 rounded-md bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover transition-colors",children:"Clear"}),s.jsx("button",{onClick:E,type:"button",className:"text-xs px-2 py-1 rounded-md bg-feedback-success-highlight text-text-high-contrast hover:bg-actions-command-primary-hover transition-colors",children:"Fill"})]})]})},$m=/^#(?:[0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,xh=({color:c,ariaLabel:o,tooltip:d,onChange:u,onReset:m,canReset:h=!1,className:g="",overlayClassName:b="bg-black/30",iconClassName:p="w-5 h-5 text-white",overlayIcon:y="pipette",resetIcon:E="reset"})=>{const N=A.useRef(null),j=$m.test(c)?c:"#CCCCCC",z=h&&m,H=z?E:y,_=S=>{var V;if(S.stopPropagation(),z){m==null||m();return}(V=N.current)==null||V.click()},D=S=>$m.test(S)?S.toUpperCase():S,G=S=>{u(D(S))},B=S=>{const V=S.target.value;G(V)},Z=S=>{const V=S.currentTarget.value;G(V)};return s.jsxs("button",{type:"button",className:`relative group transition-colors duration-150 ${g}`.trim(),style:{backgroundColor:c},title:d,"aria-label":o,onClick:_,children:[s.jsx("input",{ref:N,type:"color",value:j,onChange:B,onInput:Z,className:"opacity-0 w-0 h-0 absolute pointer-events-none","aria-hidden":!0}),s.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center ${b}`.trim(),children:s.jsx(ye,{name:H,className:p})})]})},Wp=c=>{var o;return(o=c.sprayIcons)!=null&&o.length?`Signature icons: ${c.sprayIcons.map(d=>d.replace(/-/g," ")).join(", ")}`:"No spray icons configured yet."},Ip=({terrain:c,settings:o,resolvedTerrainColor:d,resolvedSprayColor:u,hasUnsavedChanges:m,onSave:h,activeInfo:g,registerDetailsRef:b,onInfoClick:p,onInfoHoverStart:y,onInfoHoverEnd:E,onCloseInfo:N,onToggleIcon:j,onSettingChange:z})=>{const H=(g==null?void 0:g.id)===c.id,_=H?(g==null?void 0:g.anchor)??null:null,D=H?(g==null?void 0:g.locked)??!1:!1,G=Wp(c),B=c.description??"Custom terrain created by the user. Add details in settings.",Z=o.mode==="grid",S=J=>`flex-1 rounded-md border px-3 py-2 text-sm font-medium transition-colors ${o.mode===J?"border-transparent bg-actions-command-primary text-text-high-contrast shadow-sm":"border-border-panel-divider text-text-muted hover:text-text-high-contrast hover:border-actions-command-primary/40"}`,V=J=>{o.mode!==J&&z("mode",J)},$=()=>{let J=Math.floor(Math.random()*4294967295);if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"){const de=new Uint32Array(1);crypto.getRandomValues(de),J=de[0]??J}z("seedOffset",J)},T=Math.round((o.opacityMin+o.opacityMax)/2*100),P=Math.round((o.opacityMax-o.opacityMin)/2*100),ue=(J,de)=>{const Re=Math.max(0,Math.min(100,J)),pe=Math.min(Re,100-Re),w=Math.max(0,Math.min(pe,de)),K=Re/100,ee=w/100,ge=Math.max(0,K-ee),xe=Math.min(1,K+ee);z("opacityMin",parseFloat(ge.toFixed(4))),z("opacityMax",parseFloat(xe.toFixed(4)))},ie=J=>{ue(J,P)},se=J=>{ue(T,J)};return s.jsxs("details",{ref:b,className:"p-3 bg-realm-canvas-backdrop rounded-md border border-border-panel-divider/50 open:border-actions-command-primary/50 transition-colors group/details",children:[s.jsxs("summary",{className:"font-semibold text-md text-text-muted list-none cursor-pointer flex items-center gap-2 hover:text-text-high-contrast",children:[s.jsx(ye,{name:c.icon,className:"w-5 h-5"}),s.jsxs("span",{className:"flex items-center gap-2",children:[c.label,m?s.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-actions-command-primary/20 text-actions-command-primary border border-actions-command-primary/40 rounded-sm px-2 py-0.5",children:"Unsaved"}):null,s.jsx("button",{onClick:J=>{J.preventDefault(),J.stopPropagation(),p(J.currentTarget)},onMouseEnter:J=>{y(J.currentTarget)},onMouseLeave:J=>{const de=J.relatedTarget;de&&J.currentTarget.contains(de)||E()},className:`w-6 h-6 flex items-center justify-center rounded-full transition-colors ${H?"bg-realm-map-viewport text-text-high-contrast":"text-text-subtle hover:text-text-muted hover:bg-realm-map-viewport"}`,title:`Learn more about ${c.label}`,"aria-label":`Terrain information for ${c.label}`,"aria-expanded":H,"aria-haspopup":"dialog",type:"button",children:s.jsx(ye,{name:"info",className:"w-3.5 h-3.5"})})]}),s.jsx(ye,{name:"chevron-down",className:"w-4 h-4 ml-auto transition-transform duration-200 group-open/details:rotate-180"})]}),H&&_&&s.jsxs(yh,{anchor:_,onClose:N,onMouseEnter:()=>y(_),onMouseLeave:()=>{D||E()},children:[s.jsx("p",{className:"text-xs leading-relaxed text-text-muted",children:B}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-text-subtle text-[11px] uppercase tracking-wide",children:[s.jsx("span",{children:"Palette Swatch"}),s.jsx("span",{children:d})]}),s.jsx("div",{className:"mt-1 h-2 rounded-full",style:{backgroundColor:c.color||d}}),s.jsx("p",{className:"mt-2 text-[11px] text-text-muted leading-relaxed",children:G})]}),s.jsxs("div",{className:"pl-7 mt-3 pt-3 border-t border-border-panel-divider/50",children:[s.jsx("div",{className:"flex justify-end mb-3",children:s.jsx("button",{type:"button",onClick:h,disabled:!m,className:`inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-xs font-semibold transition-colors ${m?"bg-actions-command-primary text-text-high-contrast hover:bg-actions-command-primary/90":"bg-realm-command-panel-hover text-text-subtle cursor-not-allowed"}`,children:"Save Changes"})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 auto-rows-min",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(Jp,{terrain:c,onReroll:$})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx($p,{selectedIcons:c.sprayIcons||[],onToggleIcon:j})}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"block text-sm font-medium text-text-muted mb-2",children:"Deployment Mode"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",className:S("random"),onClick:()=>V("random"),"aria-pressed":o.mode==="random",children:"Random"}),s.jsx("button",{type:"button",className:S("grid"),onClick:()=>V("grid"),"aria-pressed":o.mode==="grid",children:"Grid"})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[Z?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Grid Density",tooltip:"Controls how many grid points per side receive an icon.",value:o.gridDensity,onChange:J=>z("gridDensity",Math.round(J)),min:1,max:12,step:1,displayMultiplier:1,displaySuffix:" cells"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Grid Size",tooltip:"Scales the grid span relative to the hex radius.",value:o.gridSize,onChange:J=>z("gridSize",J),min:.2,max:1,step:.05})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Grid Jitter",tooltip:"Adds a small random offset inside each grid cell to keep placements organic.",value:o.gridJitter,onChange:J=>z("gridJitter",J),min:0,max:1,step:.05})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Grid Rotation",tooltip:"Rotates the entire grid layout around the hex center.",value:o.gridBaseRotation??0,onChange:J=>z("gridBaseRotation",J),min:-180,max:180,step:1,displayMultiplier:1,displaySuffix:""})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Rotation Variance",tooltip:"Defines how much each grid icon can randomly rotate around its base orientation.",value:o.gridRotationRange,onChange:J=>z("gridRotationRange",J),min:0,max:180,step:1,displayMultiplier:1,displaySuffix:""})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Density",value:o.density,onChange:J=>z("density",J),min:0,max:128,step:1,displayMultiplier:1,displaySuffix:" icons"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Center Bias",tooltip:"Higher values pull random placements toward the center of the hex.",value:o.centerBias,onChange:J=>z("centerBias",J),min:0,max:1,step:.05})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Min Separation",tooltip:"Prevents new icons from spawning within this many pixels of another icon.",value:o.minSeparation,onChange:J=>z("minSeparation",J),min:0,max:60,step:1,displayMultiplier:1,displaySuffix:"px"})})]}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Base Size",tooltip:"Sets the central size for sprayed icons.",value:Math.max(10,o.sizeMin),onChange:J=>{const de=Math.max(10,J);z("sizeMin",de),z("sizeMax",de)},min:10,max:64,step:1,displayMultiplier:1,displaySuffix:" px"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Scale Variance",tooltip:"Controls how much icon sizes vary around the base size.",value:o.scaleVariance,onChange:J=>z("scaleVariance",J),min:0,max:1,step:.05,displayMultiplier:100,displaySuffix:"%"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Icon Rotation",tooltip:"Applies a consistent rotation to every sprayed icon.",value:o.iconBaseRotation??0,onChange:J=>z("iconBaseRotation",J),min:-180,max:180,step:1,displayMultiplier:1,displaySuffix:""})}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Icon Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xh,{color:u,ariaLabel:`Select icon color for ${c.label}`,tooltip:"Edit color",onChange:J=>z("color",J),className:"w-10 h-10 rounded-md flex-shrink-0 border border-black/20",iconClassName:"w-5 h-5 text-white"}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center h-10 flex items-center justify-center",children:u})]})]}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Base Opacity",tooltip:"Sets the core opacity for sprayed icons.",value:T,onChange:ie,min:0,max:100,step:1,displayMultiplier:1,displaySuffix:"%"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ct,{label:"Opacity Variance",tooltip:"Adds variation by increasing and decreasing opacity around the base value.",value:P,onChange:se,min:0,max:100,step:1,displayMultiplier:1,displaySuffix:"%"})}),s.jsx("div",{className:"col-span-1 md:col-span-1",children:s.jsx(Fp,{mask:o.placementMask,onUpdateMask:J=>z("placementMask",J)})})]})})]})]})]})},ki=c=>({...c,placementMask:Array.isArray(c.placementMask)?[...c.placementMask]:[]}),Pp=c=>({spraySettings:ki(c.spraySettings),sprayIcons:[...c.sprayIcons]}),eg=c=>{const o={...c};return o.sizeMin=Math.max(10,o.sizeMin),o.sizeMax=Math.max(o.sizeMin,o.sizeMax),o.opacityMin=Math.max(0,Math.min(1,o.opacityMin)),o.opacityMax=Math.max(o.opacityMin,Math.min(1,o.opacityMax)),o.iconBaseRotation=o.iconBaseRotation??0,o.gridBaseRotation=o.gridBaseRotation??0,o},bh=c=>Je[c],tg=c=>{const o=bh(c.id);return eg({...gt,...(o==null?void 0:o.settings)??{},...c.spraySettings??{}})},ag=c=>{var d;return c.sprayIcons&&c.sprayIcons.length>0?[...c.sprayIcons]:[...((d=bh(c.id))==null?void 0:d.icons)??[]]},Fs=c=>({spraySettings:ki(tg(c)),sprayIcons:ag(c)}),zu=c=>c.reduce((o,d)=>(o[d.id]=Fs(d),o),{}),lg=(c=[],o=[])=>{if(c.length!==o.length)return!1;for(let d=0;d<c.length;d++)if(c[d]!==o[d])return!1;return!0},Tu=(c,o)=>{const d=new Set(["mode","density","sizeMin","sizeMax","opacityMin","opacityMax","color","placementMask","centerBias","minSeparation","gridDensity","gridSize","gridJitter","gridBaseRotation","scaleVariance","gridRotationRange","iconBaseRotation","seedOffset"]);for(const u of d){const m=c[u],h=o[u];if(Array.isArray(m)&&Array.isArray(h)){if(!lg(m,h))return!1}else if(m!==h)return!1}return!0},wu=(c=[],o=[])=>{if(c.length!==o.length)return!1;for(let d=0;d<c.length;d++)if(c[d]!==o[d])return!1;return!0},ng=({tileSets:c,setTileSets:o,focusId:d})=>{const u=A.useRef(new Map),{activeInfo:m,handleInfoClick:h,scheduleHoverOpen:g,scheduleHoverClose:b,closeInfo:p}=hh(),[y,E]=A.useState(()=>zu(c.terrain)),N=A.useCallback(S=>S?bl(S):"#CCCCCC",[]);A.useEffect(()=>{if(d){const S=u.current.get(d);S&&setTimeout(()=>{S.open=!0,S.scrollIntoView({behavior:"smooth",block:"center"})},100)}},[d]),A.useEffect(()=>{if(!m)return;c.terrain.some(V=>V.id===m.id)||p()},[m,p,c.terrain]),A.useEffect(()=>{E(S=>{const V={};return c.terrain.forEach($=>{const T=Fs($),P=S[$.id];if(!P){V[$.id]=T;return}const ue=Tu(P.spraySettings,T.spraySettings)&&wu(P.sprayIcons,T.sprayIcons);V[$.id]=ue?T:P}),V})},[c.terrain]);const j=A.useCallback((S,V)=>{E($=>{const T=$[S];if(!T)return $;const P=V(Pp(T));return Tu(T.spraySettings,P.spraySettings)&&wu(T.sprayIcons,P.sprayIcons)?$:{...$,[S]:P}})},[]),z=(S,V,$)=>{j(S,T=>{const P=V==="placementMask"&&Array.isArray($)?[...$]:$;return{...T,spraySettings:{...T.spraySettings,[V]:P}}})},H=(S,V)=>{j(S,$=>{const T=$.sprayIcons.includes(V)?$.sprayIcons.filter(P=>P!==V):[...$.sprayIcons,V];return{...$,sprayIcons:T}})},_=A.useMemo(()=>{const S=new Set;for(const V of c.terrain){const $=y[V.id];if(!$)continue;const T=Fs(V);(!Tu($.spraySettings,T.spraySettings)||!wu($.sprayIcons,T.sprayIcons))&&S.add(V.id)}return S},[y,c.terrain]),D=_.size>0,G=A.useCallback(S=>{const V=y[S];V&&(o($=>{const T=$.terrain.map(P=>P.id===S?{...P,spraySettings:ki(V.spraySettings),sprayIcons:[...V.sprayIcons]}:P);return{...$,terrain:T}}),E($=>({...$,[S]:{spraySettings:ki(V.spraySettings),sprayIcons:[...V.sprayIcons]}})))},[y,o]),B=A.useCallback(()=>{o(S=>{const V=S.terrain.map(T=>{const P=y[T.id];return P?{...T,spraySettings:ki(P.spraySettings),sprayIcons:[...P.sprayIcons]}:T}),$={...S,terrain:V};return E(zu($.terrain)),$})},[y,o]),Z=A.useCallback(()=>{E(zu(c.terrain))},[c.terrain]);return s.jsx("div",{className:"space-y-6",children:s.jsxs(ja,{title:"Terrain Icon Spray",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Configure the small, semi-transparent icons that are procedurally scattered on each terrain type to add visual texture."}),s.jsx("div",{className:"space-y-4",children:c.terrain.map(S=>{const V=y[S.id]??Fs(S),$={...S,spraySettings:V.spraySettings,sprayIcons:V.sprayIcons},T=V.spraySettings||gt,P=N(S.color),ue=N(T.color);return s.jsx(Ip,{terrain:$,settings:T,resolvedTerrainColor:P,resolvedSprayColor:ue,activeInfo:m,hasUnsavedChanges:_.has(S.id),onSave:()=>G(S.id),registerDetailsRef:ie=>{u.current.set(S.id,ie)},onInfoClick:ie=>h(S.id,ie),onInfoHoverStart:ie=>g(S.id,ie),onInfoHoverEnd:()=>b(S.id),onCloseInfo:p,onToggleIcon:ie=>H(S.id,ie),onSettingChange:(ie,se)=>z(S.id,ie,se)},S.id)})}),s.jsxs("div",{className:"flex flex-col md:flex-row md:justify-end gap-2 pt-2 border-t border-border-panel-divider/40 mt-6",children:[s.jsx("button",{type:"button",onClick:Z,disabled:!D,className:`inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors ${D?"border border-border-panel-divider text-text-muted hover:text-text-high-contrast hover:border-actions-command-primary/40":"border border-border-panel-divider/60 text-text-subtle cursor-not-allowed"}`,children:"Discard Changes"}),s.jsx("button",{type:"button",onClick:B,disabled:!D,className:`inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold transition-colors ${D?"bg-actions-command-primary text-text-high-contrast hover:bg-actions-command-primary/90":"bg-realm-command-panel-hover text-text-subtle cursor-not-allowed"}`,children:"Save Changes"})]})]})})},ku=(c,o)=>({holdings:c.holding.reduce((d,u)=>(d[u.id]=!0,d),{}),seatOfPower:!0,landmarks:c.landmark.reduce((d,u)=>(d[u.id]=!1,d),{}),myths:o.reduce((d,u)=>(d[u.id]=!1,d),{}),showBarriers:$s.showBarriers}),Ei=({id:c,checked:o,onChange:d})=>s.jsxs("div",{className:"relative pt-1",children:[s.jsx("input",{id:c,type:"checkbox",checked:o,onChange:u=>d(u.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"relative w-11 h-6 bg-realm-command-panel-hover rounded-full peer peer-checked:bg-actions-command-primary transition-colors after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full peer-checked:after:border-white"})]}),Au=({title:c,summary:o,helper:d,children:u})=>s.jsxs("details",{className:"group rounded-md border border-border-panel-divider bg-realm-command-panel-surface",children:[s.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-text-high-contrast",children:c}),s.jsx("p",{className:"text-xs text-text-muted",children:o}),d?s.jsx("p",{className:"mt-1 text-[11px] text-text-muted",children:d}):null]}),s.jsx(ye,{name:"chevron-down",className:"h-4 w-4 text-text-muted transition-transform group-open:rotate-180"})]}),s.jsx("div",{className:"border-t border-border-panel-divider px-4 py-3 space-y-3",children:u})]}),ig=({viewOptions:c,setViewOptions:o,tileSets:d,myths:u})=>{const m=A.useMemo(()=>c.visibility.knight??ku(d,u),[c.visibility.knight,d,u]),h=A.useMemo(()=>{const B=d.holding.filter(V=>!(m.holdings[V.id]??!0)).length,Z=m.seatOfPower?"visible":"hidden";if(d.holding.length===0)return"No holdings configured";if(B===0&&Z==="visible")return"All holding markers visible";const S=[];return B>0&&S.push(`${B} type${B>1?"s":""} hidden`),Z==="hidden"&&S.push("Seat of Power hidden"),S.join("; ")},[d.holding,m.holdings,m.seatOfPower]),g=A.useMemo(()=>{const B=d.landmark.filter(Z=>!(m.landmarks[Z.id]??!0)).length;return d.landmark.length===0?"No landmarks configured":B===0?"All landmark markers visible":`${B} landmark type${B>1?"s":""} hidden`},[d.landmark,m.landmarks]),b=A.useMemo(()=>{if(u.length===0)return"No myths placed on the map";const B=u.filter(Z=>!(m.myths[Z.id]??!0)).length;return B===0?"All myths visible":`${B} myth${B>1?"s":""} hidden`},[u,m.myths]),p=B=>{o(Z=>{const S=Z.visibility.knight??ku(d,u);return{...Z,visibility:{...Z.visibility,knight:B(S)}}})},y=(B,Z)=>{p(S=>({...S,holdings:{...S.holdings,[B]:Z}}))},E=B=>{p(Z=>({...Z,holdings:d.holding.reduce((S,V)=>(S[V.id]=B,S),{})}))},N=B=>{p(Z=>({...Z,seatOfPower:B}))},j=(B,Z)=>{p(S=>({...S,landmarks:{...S.landmarks,[B]:Z}}))},z=B=>{p(Z=>({...Z,landmarks:d.landmark.reduce((S,V)=>(S[V.id]=B,S),{})}))},H=(B,Z)=>{p(S=>({...S,myths:{...S.myths,[B]:Z}}))},_=B=>{p(Z=>({...Z,myths:u.reduce((S,V)=>(S[V.id]=B,S),{})}))},D=B=>{p(Z=>({...Z,showBarriers:B}))},G=()=>{const B=ku(d,u);p(()=>B)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ja,{title:"Knight View Visibility",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Choose which elements stay visible when you switch to the Knight (player-facing) view. Referee view will always show everything."}),s.jsxs(Au,{title:"Holdings & Seat of Power",summary:h,helper:"Toggle individual holding types or hide the Seat of Power highlight.",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",onClick:()=>E(!0),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Show All"}),s.jsx("button",{type:"button",onClick:()=>E(!1),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Hide All"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"seat-of-power-visibility",className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block text-sm font-medium text-text-high-contrast",children:"Seat of Power Highlight"}),s.jsx("span",{className:"block text-xs text-text-muted",children:"Controls the golden frame that marks the Seat of Power hex."})]}),s.jsx(Ei,{id:"seat-of-power-visibility",checked:m.seatOfPower,onChange:N})]}),d.holding.map(B=>{const Z=`holding-${B.id}`,S=m.holdings[B.id]??!0;return s.jsxs("label",{htmlFor:Z,className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsx("span",{className:"text-sm text-text-high-contrast",children:B.label}),s.jsx(Ei,{id:Z,checked:S,onChange:V=>y(B.id,V)})]},B.id)}),d.holding.length===0?s.jsx("p",{className:"text-xs text-text-muted",children:"No holding types are currently configured."}):null]})]}),s.jsxs(Au,{title:"Landmarks",summary:g,helper:"Choose which landmark categories remain visible to players.",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",onClick:()=>z(!0),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Show All"}),s.jsx("button",{type:"button",onClick:()=>z(!1),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Hide All"})]}),s.jsxs("div",{className:"space-y-2",children:[d.landmark.map(B=>{const Z=`landmark-${B.id}`,S=m.landmarks[B.id]??!0;return s.jsxs("label",{htmlFor:Z,className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsx("span",{className:"text-sm text-text-high-contrast",children:B.label}),s.jsx(Ei,{id:Z,checked:S,onChange:V=>j(B.id,V)})]},B.id)}),d.landmark.length===0?s.jsx("p",{className:"text-xs text-text-muted",children:"No landmark types are currently configured."}):null]})]}),s.jsx(Au,{title:"Myths",summary:b,helper:"Hide individual myths when players should not see them yet.",children:u.length===0?s.jsx("p",{className:"text-xs text-text-muted",children:"No myths have been placed on this map."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",onClick:()=>_(!0),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Show All"}),s.jsx("button",{type:"button",onClick:()=>_(!1),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Hide All"})]}),s.jsx("div",{className:"space-y-2",children:u.map(B=>{const Z=`myth-${B.id}`,S=m.myths[B.id]??!0;return s.jsxs("label",{htmlFor:Z,className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsxs("span",{className:"text-sm text-text-high-contrast",children:["Myth #",B.id]}),s.jsx(Ei,{id:Z,checked:S,onChange:V=>H(B.id,V)})]},B.id)})})]})}),s.jsx("div",{className:"rounded-md border border-border-panel-divider bg-realm-command-panel-surface px-4 py-3",children:s.jsxs("label",{htmlFor:"show-barriers-toggle",className:"flex items-center justify-between gap-3 cursor-pointer",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block text-sm font-semibold text-text-high-contrast",children:"Barriers"}),s.jsx("span",{className:"block text-xs text-text-muted",children:"Toggle whether barrier lines are visible in Knight view."})]}),s.jsx(Ei,{id:"show-barriers-toggle",checked:m.showBarriers,onChange:D})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"button",onClick:G,className:"inline-flex items-center gap-2 rounded-md border border-border-panel-divider bg-realm-command-panel-surface px-3 py-2 text-sm font-medium text-text-muted hover:bg-realm-command-panel-hover transition-colors",children:[s.jsx(ye,{name:"reset",className:"h-4 w-4"}),"Reset to Defaults"]})})]})},sg=({isOpen:c,onClose:o,settingsView:d,...u})=>{const[m,h]=A.useState(d.tab);return A.useEffect(()=>{c&&h(d.tab)},[c,d.tab]),c?s.jsxs("div",{onClick:g=>g.target===g.currentTarget&&o(),className:"fixed inset-0 bg-overlay-scrim z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"settings-dialog-title",children:[s.jsxs("div",{className:"bg-realm-canvas-backdrop w-full max-w-6xl h-[90vh] rounded-lg shadow-xl flex overflow-hidden border border-border-panel-divider animate-fade-in",children:[s.jsxs("aside",{className:"w-64 bg-realm-map-viewport p-6 border-r border-border-panel-divider flex flex-col",children:[s.jsx("h2",{id:"settings-dialog-title",className:"text-2xl font-bold mb-8",children:"Settings"}),s.jsxs("nav",{className:"flex flex-col gap-2",children:[s.jsx(Ks,{icon:"settings",label:"General",isActive:m==="general",onClick:()=>h("general")}),s.jsx(Ks,{icon:"eye",label:"View",isActive:m==="view",onClick:()=>h("view")}),s.jsx(Ks,{icon:"network",label:"Generation",isActive:m==="generation",onClick:()=>h("generation")}),s.jsx(Ks,{icon:"brush",label:"Terrain",isActive:m==="terrain",onClick:()=>h("terrain")})]})]}),s.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[s.jsx("div",{className:"text-right p-4 flex-shrink-0",children:s.jsx("button",{onClick:o,className:"p-1 text-text-muted hover:text-text-high-contrast transition-colors","aria-label":"Close settings",children:s.jsx(ye,{name:"close",className:"w-6 h-6"})})}),s.jsxs("div",{className:"flex-1 overflow-y-scroll px-8 pb-8",children:[m==="general"&&s.jsx(Bp,{realmShape:u.realmShape,setRealmShape:u.setRealmShape,realmRadius:u.realmRadius,setRealmRadius:u.setRealmRadius,realmWidth:u.realmWidth,setRealmWidth:u.setRealmWidth,realmHeight:u.realmHeight,setRealmHeight:u.setRealmHeight,generationOptions:u.generationOptions,setGenerationOptions:u.setGenerationOptions,tileSets:u.tileSets}),m==="view"&&s.jsx(ig,{viewOptions:u.viewOptions,setViewOptions:u.setViewOptions,tileSets:u.tileSets,myths:u.myths}),m==="generation"&&s.jsx(Up,{generationOptions:u.generationOptions,onGenerationOptionChange:u.onGenerationOptionChange,handleClusteringChange:u.handleClusteringChange,handleTerrainBiasChange:u.handleTerrainBiasChange,onApplyTemplate:u.onApplyTemplate,tileSets:u.tileSets}),m==="terrain"&&s.jsx(ng,{tileSets:u.tileSets,setTileSets:u.setTileSets,focusId:d.focusId})]})]})]}),s.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in { animation: fade-in 0.2s ease-out forwards; }
      `})]}):null},cg=c=>{if(c.startsWith("#"))return{hex:c,opacity:1};const o=/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/.exec(c);if(!o)return{hex:"#eaebec",opacity:.2};const d=b=>("0"+b.toString(16)).slice(-2),[,u,m,h,g]=o;return u===void 0||m===void 0||h===void 0?{hex:"#eaebec",opacity:.2}:{hex:`#${d(parseInt(u,10))}${d(parseInt(m,10))}${d(parseInt(h,10))}`,opacity:g!==void 0?parseFloat(g):1}},Fm=c=>{const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(!o)return null;const[,d,u,m]=o;return d===void 0||u===void 0||m===void 0?null:{r:parseInt(d,16),g:parseInt(u,16),b:parseInt(m,16)}},vh=Ri.forwardRef(({viewOptions:c,setViewOptions:o},d)=>{const u=A.useRef(null),{hex:m,opacity:h}=A.useMemo(()=>cg(c.gridColor),[c.gridColor]),g=c.gridColor!==Js,b=E=>{const N=Fm(E.target.value);N&&o(j=>({...j,gridColor:`rgba(${N.r}, ${N.g}, ${N.b}, ${h})`}))},p=E=>{const N=Fm(m);N&&o(j=>({...j,gridColor:`rgba(${N.r}, ${N.g}, ${N.b}, ${parseFloat(E.target.value)})`}))},y=()=>{o(E=>({...E,showGrid:!0,gridColor:Js,gridWidth:rh}))};return s.jsxs("div",{ref:d,className:"absolute top-full mt-2 left-0 bg-realm-map-viewport border border-border-panel-divider rounded-lg shadow-xl p-4 z-20 w-64",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{htmlFor:"show-grid-toggle",className:"flex items-center justify-between gap-2 text-sm font-medium text-text-muted cursor-pointer",children:[s.jsx("span",{children:"Show Grid"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",id:"show-grid-toggle",checked:c.showGrid,onChange:()=>o(E=>({...E,showGrid:!E.showGrid})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-realm-command-panel-surface rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-actions-command-primary"})]})]}),s.jsx("hr",{className:"border-border-panel-divider"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"grid-color-btn",className:"block text-sm font-medium text-text-muted mb-1",children:"Grid Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{id:"grid-color-btn",onClick:()=>{var E;return g?o(N=>({...N,gridColor:Js})):(E=u.current)==null?void 0:E.click()},className:"w-10 h-10 rounded-md flex-shrink-0 border border-black/20 relative group",style:{backgroundColor:m},title:g?"Reset color to default":"Edit color","aria-label":g?"Reset grid color to default":"Select custom grid color",children:[s.jsx("input",{ref:u,type:"color",value:m,onChange:b,className:"opacity-0 w-0 h-0 absolute pointer-events-none","aria-label":"Grid color picker"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(ye,{name:g?"reset":"pipette",className:"w-5 h-5 text-white"})})]}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center",children:m.toUpperCase()})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"grid-opacity",className:"block text-sm font-medium text-text-muted mb-1",children:"Opacity"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"grid-opacity",type:"range",min:"0",max:"1",step:"0.01",value:h,onChange:p,className:"w-full h-2 bg-realm-command-panel-surface rounded-lg appearance-none cursor-pointer","aria-label":"Grid opacity"}),s.jsxs("span",{className:"p-1 bg-realm-command-panel-surface rounded-md text-xs w-16 text-center",children:[Math.round(h*100),"%"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"grid-width",className:"block text-sm font-medium text-text-muted mb-1",children:"Border Width"}),s.jsx("input",{id:"grid-width",type:"number",value:c.gridWidth,onChange:E=>o(N=>({...N,gridWidth:Math.max(.1,parseFloat(E.target.value))||1})),min:"0.1",step:"0.1",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Grid border width"})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-border-panel-divider",children:s.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors",children:[s.jsx(ye,{name:"reset",className:"w-4 h-4"}),"Reset All Grid Settings"]})})]})});vh.displayName="GridSettingsPopover";function Ru(){return s.jsx("div",{className:"border-l border-border-panel-divider h-6","aria-hidden":"true"})}function rg({onGenerate:c,onExportJson:o,onExportPng:d,onImportJson:u,viewOptions:m,setViewOptions:h,isSettingsOpen:g,setIsSettingsOpen:b,settingsView:p,setSettingsView:y,setConfirmation:E,...N}){const j=A.useRef(null),[z,H]=A.useState(!1),_=A.useRef(null),D=A.useRef(null);A.useEffect(()=>{const S=V=>{var $;V instanceof KeyboardEvent&&V.key==="Escape"&&(b(!1),H(!1)),V instanceof MouseEvent&&_.current&&!_.current.contains(V.target)&&!(($=D.current)!=null&&$.contains(V.target))&&H(!1)};return(g||z)&&(document.addEventListener("mousedown",S),document.addEventListener("keydown",S)),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",S)}},[g,z,b]);const G=S=>{var $;const V=($=S.target.files)==null?void 0:$[0];if(V){const T=new FileReader;T.onload=P=>{var ue;try{const ie=(ue=P.target)==null?void 0:ue.result;if(typeof ie!="string")throw new Error("File could not be read.");const se=JSON.parse(ie);if(!se.hexes||!se.seatOfPower)throw new Error("Invalid realm file.");se.myths||(se.myths=[],se.hexes.forEach(J=>{J.myth&&se.myths.push({id:J.myth,name:`Myth #${J.myth}`,q:J.q,r:J.r})})),u(se)}catch(ie){const se=ie instanceof Error?ie.message:"Unknown error.";E({isOpen:!0,title:"Import Failed",message:`Failed to import realm. The file might be corrupted or in the wrong format. 
Error: ${se}`,onConfirm:()=>E(null),isInfo:!0})}},T.readAsText(V)}j.current&&(j.current.value="")},B=()=>{y({tab:"general",focusId:null}),b(!0)},Z=()=>{y({tab:"view",focusId:null}),b(!0)};return s.jsxs("header",{className:"flex items-center justify-between p-2 bg-realm-canvas-backdrop border-b border-border-panel-divider shadow-md z-10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sg,{isOpen:g,onClose:()=>b(!1),settingsView:p,viewOptions:m,setViewOptions:h,...N}),s.jsx("h1",{className:"text-xl font-bold text-text-high-contrast mr-4",children:"Hex Realm Generator"}),s.jsx(Ma,{onClick:c,icon:"sparkles",title:"Generate New Realm",children:"Generate"}),s.jsx(Ma,{onClick:B,icon:"settings",title:"Open generation settings"}),s.jsx(Ru,{}),s.jsxs("div",{className:"relative",children:[s.jsx(Ma,{ref:D,onClick:()=>H(S=>!S),icon:"grid",title:"Grid Settings",children:"Grid"}),z&&s.jsx(vh,{ref:_,viewOptions:m,setViewOptions:h})]}),s.jsx(Ru,{}),s.jsx(Ma,{onClick:()=>h(S=>({...S,showIconSpray:!S.showIconSpray})),icon:"spray-can",isActive:m.showIconSpray,title:"Toggle Icon Spray",children:"Icon Spray"}),s.jsx(Ru,{}),s.jsx(Ma,{onClick:()=>h(S=>({...S,isGmView:!S.isGmView})),icon:"eye",isActive:m.isGmView,title:m.isGmView?"Referee View":"Knight View",children:m.isGmView?"Referee View":"Knight View"}),s.jsx(Ma,{onClick:Z,icon:"settings",title:"Open view visibility settings"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",ref:j,onChange:G,accept:".json",style:{display:"none"},"aria-hidden":"true"}),s.jsx(Ma,{onClick:()=>{var S;return(S=j.current)==null?void 0:S.click()},icon:"upload",title:"Import from JSON file",children:"Import JSON"}),s.jsx(Ma,{onClick:o,icon:"download",title:"Export as JSON file",children:"Export JSON"}),s.jsx(Ma,{onClick:d,icon:"image-down",title:"Export as PNG image",children:"Export PNG"})]})]})}const ug=(c,o=1)=>{if(!c.startsWith("#"))return c;let d=c.slice(1);if((d.length===3||d.length===4)&&(d=d.split("").map(E=>E+E).join("")),d.length!==6&&d.length!==8)return c;const u=parseInt(d.slice(0,2),16),m=parseInt(d.slice(2,4),16),h=parseInt(d.slice(4,6),16),b=(d.length===8?parseInt(d.slice(6,8),16):255)/255,p=Math.max(0,Math.min(1,b*o));return`rgba(${u}, ${m}, ${h}, ${(E=>Number(E.toFixed(3)))(p)})`},og=(c,o,d,u)=>s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:c}),s.jsxs("select",{value:o,onChange:u,className:"w-full p-2 bg-realm-command-panel-surface border border-border-panel-divider rounded-md focus:outline-none focus:ring-2 focus:ring-actions-command-primary",children:[s.jsx("option",{value:"",children:"None"}),d.map(m=>s.jsx("option",{value:m.id,children:m.label},m.id))]})]});function dg({selectedHex:c,realm:o,onUpdateHex:d,onDeselect:u,onSetSeatOfPower:m,onAddMyth:h,onRemoveMyth:g,tileSets:b}){if(!c)return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col items-center justify-center text-center",children:[s.jsx(ye,{name:"mouse-pointer-2",className:"w-16 h-16 text-realm-command-panel-hover mb-4"}),s.jsx("h2",{className:"text-xl font-bold",children:"Select a Hex"}),s.jsx("p",{className:"text-text-muted",children:"Click on any hex on the map to view and edit its details."})]});const p=Is,y=ug(Is,.6),E=(D,G)=>{d({...c,[D]:G})},N=D=>{if(!c||!o)return;const G=!c.barrierEdges.includes(D),B=G?[...c.barrierEdges,D]:c.barrierEdges.filter(T=>T!==D),S=[{...c,barrierEdges:B.sort((T,P)=>T-P)}],V=ec(c)[D];if(!V){d(S);return}const $=o.hexes.find(T=>T.q===V.q&&T.r===V.r);if($){const T=(D+3)%6,P=G?[...$.barrierEdges,T]:$.barrierEdges.filter(ie=>ie!==T),ue={...$,barrierEdges:[...new Set(P)].sort((ie,se)=>ie-se)};S.push(ue)}d(S)},j=()=>{c&&(c.myth?g(c):h(c))},H=Ai("pointy",{x:45,y:45}),_=o&&c.q===o.seatOfPower.q&&c.r===o.seatOfPower.r;return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Hex (",s.jsx("span",{className:"font-decorative text-[1.1em]",children:c.q}),","," ",s.jsx("span",{className:"font-decorative text-[1.1em]",children:c.r}),")"]}),s.jsx("button",{onClick:u,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Deselect Hex",children:s.jsx(ye,{name:"close",className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto",children:[og("Terrain",c.terrain,b.terrain,D=>E("terrain",D.target.value)),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Holding"}),s.jsxs("select",{value:c.holding||"",onChange:D=>E("holding",D.target.value),className:"w-full p-2 bg-realm-command-panel-surface border border-border-panel-divider rounded-md focus:outline-none focus:ring-2 focus:ring-actions-command-primary",children:[s.jsx("option",{value:"",children:"None"}),b.holding.map(D=>s.jsx("option",{value:D.id,children:D.label},D.id))]})]}),c.holding&&s.jsx("div",{className:"mb-4",children:_?s.jsxs("div",{className:"flex items-center justify-center gap-2 p-2 bg-actions-command-primary/30 border border-actions-command-primary rounded-md text-actions-command-primary-hover text-sm",children:[s.jsx(ye,{name:"crown",className:"w-4 h-4 text-actions-command-primary"}),s.jsx("span",{children:"This is the Seat of Power."})]}):s.jsxs("button",{onClick:()=>m(c),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-realm-command-panel-surface rounded-md hover:bg-actions-command-primary transition-colors",children:[s.jsx(ye,{name:"crown",className:"w-4 h-4"}),"Make Seat of Power"]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Landmark"}),s.jsxs("select",{value:c.landmark||"",onChange:D=>E("landmark",D.target.value),className:"w-full p-2 bg-realm-command-panel-surface border border-border-panel-divider rounded-md focus:outline-none focus:ring-2 focus:ring-actions-command-primary",children:[s.jsx("option",{value:"",children:"None"}),b.landmark.map(D=>s.jsx("option",{value:D.id,children:D.label},D.id))]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Myth"}),s.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors",children:[s.jsx(ye,{name:"sparkle",className:"w-4 h-4"}),c.myth?`Remove Myth #${c.myth}`:"Add Myth"]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-2",children:"Barriers (Click edge to toggle)"}),s.jsx("div",{className:"flex justify-center items-center p-2 bg-realm-map-viewport rounded-md",children:s.jsxs("svg",{width:"100",height:"115",viewBox:"-55 -55 110 110",role:"group","aria-label":"Interactive hex for toggling barriers",children:[s.jsx("polygon",{points:H.map(D=>`${D.x},${D.y}`).join(" "),fill:"transparent",stroke:"rgba(234, 235, 236, 0.3)",strokeWidth:"2"}),c.barrierEdges.map(D=>s.jsx("path",{d:wi(D,H),stroke:Ws,strokeWidth:"6",strokeLinecap:"round",style:{pointerEvents:"none"}},`barrier-visible-${D}`)),[...Array(6).keys()].map(D=>s.jsxs("g",{onClick:()=>N(D),onKeyDown:G=>(G.key==="Enter"||G.key===" ")&&N(D),className:"cursor-pointer group",role:"button",tabIndex:0,"aria-label":`Toggle barrier on edge ${D+1}`,children:[s.jsx("title",{children:`Toggle barrier on edge ${D+1}`}),s.jsx("path",{d:wi(D,H),stroke:"transparent",strokeWidth:"15",strokeLinecap:"round"}),s.jsx("path",{d:wi(D,H),stroke:c.barrierEdges.includes(D)?p:y,strokeWidth:"5",strokeLinecap:"round",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-150"})]},`barrier-interactive-${D}`))]})})]})]})]})}const fg=({name:c,color:o,onNameChange:d,onColorChange:u,onSubmit:m})=>{const h=c.trim().length===0;return s.jsxs("div",{className:"mt-6 pt-4 border-t border-border-panel-divider",children:[s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Add New Terrain"}),s.jsxs("form",{onSubmit:m,children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{htmlFor:"terrain-name",className:"block text-sm font-medium text-text-muted mb-1",children:"Name"}),s.jsx("input",{id:"terrain-name",type:"text",value:c,onChange:g=>d(g.target.value),className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md",placeholder:"e.g. Cursed Wastes",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"terrain-color",className:"block text-sm font-medium text-text-muted mb-1",children:"Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"terrain-color",type:"color",value:o,onChange:g=>u(g.target.value),className:"h-10 p-1 bg-realm-command-panel-surface border border-border-panel-divider rounded-md cursor-pointer",title:"Select color","aria-label":"New terrain color picker"}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center",children:o})]})]}),s.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-high-contrast bg-feedback-success-highlight rounded-md hover:bg-actions-command-primary-hover transition-colors disabled:opacity-50",disabled:h,children:[s.jsx(ye,{name:"plus",className:"w-4 h-4"}),"Add Terrain"]})]})]})},mg=c=>c.description??"Custom terrain created by the user. Add details in settings.",hg=c=>{var o;return(o=c.sprayIcons)!=null&&o.length?`Signature icons: ${c.sprayIcons.map(d=>d.replace(/-/g," ")).join(", ")}`:"No spray icons configured yet."};function yg({paintTerrain:c,setPaintTerrain:o,onClose:d,tileSets:u,terrainColors:m,onAddTerrain:h,onRemoveTerrain:g,onUpdateTerrainColor:b,onResetTerrainColor:p,onStartPicking:y,isPickingTile:E,onOpenSpraySettings:N}){const[j,z]=A.useState(""),[H,_]=A.useState("#CCCCCC"),{activeInfo:D,handleInfoClick:G,scheduleHoverOpen:B,scheduleHoverClose:Z,closeInfo:S}=hh(),V=A.useCallback(T=>T?bl(T):"#CCCCCC",[]);A.useEffect(()=>{const T=P=>{(P.ctrlKey||P.metaKey)&&P.key.toLowerCase()==="i"&&(P.preventDefault(),y())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[y]),A.useEffect(()=>{D&&(u.terrain.some(T=>T.id===D.id)||S())},[D,S,u.terrain]);const $=T=>{T.preventDefault();const P=j.trim();P&&(h(P,H.toUpperCase()),z(""),_("#CCCCCC"))};return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Terrain Painter"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:y,className:`p-2 rounded-md transition-colors ${E?"bg-actions-command-primary text-text-high-contrast":"text-text-muted hover:bg-realm-command-panel-hover"}`,title:"Pick Terrain from Map (Ctrl+I)","aria-label":"Pick Terrain from Map",children:s.jsx(ye,{name:"pipette",className:"w-5 h-5"})}),s.jsx("button",{onClick:d,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close Terrain Painter",children:s.jsx(ye,{name:"close",className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto pr-2",children:[E&&s.jsx("div",{className:"bg-feedback-info-panel/50 text-center text-sm text-text-subtle p-2 rounded-md mb-4 animate-pulse",children:"Click on the map to pick a terrain."}),s.jsx("p",{className:"text-sm text-text-muted mb-4",children:"Select a terrain to paint. Click a color swatch to customize."}),s.jsx("div",{className:"space-y-2",children:u.terrain.map(T=>{const P=m[T.id]||"#CCCCCC",ue=V(P),ie=c===T.id,se=xl.includes(T.id),J=se?ch(T.id):void 0,de=se&&J?J!==ue:!1,Re=(D==null?void 0:D.id)===T.id,pe=mg(T),w=hg(T);return s.jsxs("div",{onClick:()=>{o(T.id),D&&S()},role:"button",tabIndex:0,onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&(o(T.id),D&&S())},className:`relative group/item p-2 rounded-md transition-all duration-150 border-2 flex items-center gap-2 cursor-pointer ${ie?"bg-actions-command-primary/20 border-actions-command-primary":"bg-realm-map-viewport border-border-panel-divider hover:border-text-muted"}`,title:`Paint ${T.label}`,children:[s.jsxs("div",{className:"flex items-center gap-2 flex-grow min-w-0",children:[s.jsx(xh,{color:ue,ariaLabel:de?`Reset ${T.label} color to default`:`Select color for ${T.label}`,tooltip:de?"Reset color to default":"Edit color",onChange:K=>b(T.id,K),onReset:de?()=>p(T.id):void 0,canReset:de,className:"w-7 h-7 rounded-md flex-shrink-0 border border-white/80",iconClassName:"w-4 h-4 text-white"}),s.jsx("span",{className:`font-medium text-sm truncate ${ie?"text-text-high-contrast":"text-text-muted"}`,children:T.label}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("button",{type:"button",onClick:K=>{K.stopPropagation(),G(T.id,K.currentTarget)},onMouseEnter:K=>B(T.id,K.currentTarget),onMouseLeave:K=>{const ee=K.relatedTarget;ee&&K.currentTarget.contains(ee)||Z(T.id)},className:`w-6 h-6 flex items-center justify-center rounded-full transition-colors ${Re?"bg-realm-map-viewport text-text-high-contrast":"text-text-subtle hover:text-text-muted hover:bg-realm-map-viewport"}`,title:`Learn more about ${T.label}`,"aria-label":`Terrain information for ${T.label}`,"aria-expanded":Re,"aria-haspopup":"dialog",children:s.jsx(ye,{name:"info",className:"w-3.5 h-3.5"})}),Re&&(D==null?void 0:D.anchor)&&s.jsxs(yh,{anchor:D.anchor,onClose:S,onMouseEnter:()=>{B(T.id,D.anchor)},onMouseLeave:()=>{D.locked||Z(T.id)},children:[s.jsx("p",{className:"text-xs leading-relaxed text-text-muted",children:pe}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-text-subtle text-[11px] uppercase tracking-wide",children:[s.jsx("span",{children:"Palette Swatch"}),s.jsx("span",{children:ue})]}),s.jsx("div",{className:"mt-1 h-2 rounded-full",style:{backgroundColor:ue}}),s.jsx("p",{className:"mt-2 text-[11px] text-text-muted leading-relaxed",children:w})]})]})]}),s.jsx("div",{className:"flex items-center flex-shrink-0",children:s.jsx("button",{type:"button",onClick:K=>{K.stopPropagation(),N(T.id),(D==null?void 0:D.id)===T.id&&S()},title:`Edit ${T.label} spray settings`,"aria-label":`Edit ${T.label} spray settings`,children:s.jsx(ye,{name:"settings",className:"w-5 h-5 text-white"})})}),!se&&s.jsx("button",{type:"button",onClick:K=>{K.stopPropagation(),g(T.id),(D==null?void 0:D.id)===T.id&&S()},className:"absolute -top-1.5 -right-1.5 p-1 text-text-high-contrast bg-actions-danger-base rounded-full hover:bg-actions-danger-hover opacity-0 group-hover/item:opacity-100 transition-opacity z-10",title:`Remove ${T.label}`,"aria-label":`Remove ${T.label}`,children:s.jsx(ye,{name:"close",className:"w-3.5 h-3.5"})})]},T.id)})}),s.jsx(fg,{name:j,color:H,onNameChange:z,onColorChange:T=>_(T.toUpperCase()),onSubmit:$})]})]})}const pg=({item:c,isSelected:o,onClick:d})=>s.jsxs("button",{onClick:d,className:`flex flex-col items-center justify-center gap-2 p-2 rounded-lg transition-all duration-150 border-2 text-center
              ${o?"bg-actions-command-primary/20 border-actions-command-primary text-text-high-contrast":"bg-realm-map-viewport border-border-panel-divider hover:border-text-muted text-text-muted"}`,title:`Place ${c.label}`,"aria-label":`Select ${c.label} for placement`,children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center bg-realm-command-panel-surface",children:s.jsx(ye,{name:c.icon,className:"w-8 h-8 text-text-high-contrast",strokeWidth:2})}),s.jsx("span",{className:"text-xs font-medium",children:c.label})]}),Du=({title:c,items:o,type:d,paintPoi:u,setPaintPoi:m})=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-text-muted",children:c}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.map(h=>{const g=`${d}:${h.id}`;return s.jsx(pg,{item:h,isSelected:u===g,onClick:()=>m(g)},g)})})]});function gg({paintPoi:c,setPaintPoi:o,onClose:d,onStartPicking:u,isPickingTile:m}){return A.useEffect(()=>{const h=g=>{(g.ctrlKey||g.metaKey)&&g.key.toLowerCase()==="i"&&(g.preventDefault(),u())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[u]),s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Points of Interest"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:u,className:`p-2 rounded-md transition-colors ${m?"bg-actions-command-primary text-text-high-contrast":"text-text-muted hover:bg-realm-command-panel-hover"}`,title:"Pick POI from Map (Ctrl+I)","aria-label":"Pick POI from Map",children:s.jsx(ye,{name:"pipette",className:"w-5 h-5"})}),s.jsx("button",{onClick:d,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close POI Painter",children:s.jsx(ye,{name:"close",className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-6",children:[m&&s.jsx("div",{className:"bg-feedback-info-panel/50 text-center text-sm text-text-subtle p-2 rounded-md mb-4 animate-pulse",children:"Click on the map to pick a POI."}),s.jsx("p",{className:"text-sm text-text-muted",children:"Select an item, then click a hex to place it."}),s.jsx(Du,{title:"Actions",items:hy,type:"action",paintPoi:c,setPaintPoi:o}),s.jsx(Du,{title:"Holdings",items:Ps.holding,type:"holding",paintPoi:c,setPaintPoi:o}),s.jsx(Du,{title:"Landmarks",items:Ps.landmark,type:"landmark",paintPoi:c,setPaintPoi:o})]})]})}function xg({realm:c,selectedHex:o,onSelectHex:d,onUpdateMyth:u,onRemoveMyth:m,relocatingMythId:h,onToggleRelocateMyth:g,onClose:b}){const p=N=>c.hexes.find(j=>j.q===N.q&&j.r===N.r),y=N=>{if(h)return;const j=p(N);j&&d((o==null?void 0:o.myth)===N.id?null:j)},E=N=>{const j=p(N);j&&m(j)};return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Myth Tool"}),s.jsx("button",{onClick:b,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close Myth Tool",children:s.jsx(ye,{name:"close",className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"All Myths"}),c.myths.length>0?s.jsx("ul",{className:"space-y-2",children:c.myths.sort((N,j)=>N.id-j.id).map(N=>{const j=(o==null?void 0:o.myth)===N.id,z=h===N.id;return s.jsxs("li",{className:"bg-realm-map-viewport rounded-md overflow-hidden transition-all duration-300",children:[s.jsxs("button",{onClick:()=>y(N),className:"w-full text-left p-3 hover:bg-realm-command-panel-hover transition-colors flex justify-between items-center disabled:cursor-not-allowed","aria-expanded":j||z,disabled:!!h,children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-text-accent-headline",children:["Myth #",N.id,":"," ",s.jsx("span",{className:"text-text-high-contrast",children:N.name})]}),s.jsxs("p",{className:"text-xs text-text-muted",children:["Location: (",N.q,", ",N.r,")"]})]}),s.jsx(ye,{name:j||z?"chevron-up":"chevron-down",className:"w-5 h-5 text-text-muted flex-shrink-0"})]}),(j||z)&&s.jsxs("div",{className:"p-3 border-t border-border-panel-divider/50 bg-realm-map-viewport/50 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:`myth-name-${N.id}`,className:"block text-sm font-medium text-text-muted mb-1",children:"Edit Name"}),s.jsx("input",{id:`myth-name-${N.id}`,type:"text",value:N.name,onChange:H=>u({...N,name:H.target.value}),className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>g(N.id),className:`w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors ${z?"bg-realm-command-panel-hover/80 text-text-high-contrast hover:bg-realm-command-panel-hover":"bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover"}`,children:[s.jsx(ye,{name:"move",className:"w-4 h-4"}),z?"Cancel Relocate":"Relocate"]}),s.jsxs("button",{onClick:()=>E(N),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-actions-danger-base/50 rounded-md hover:bg-actions-danger-base/80 border border-actions-danger-base transition-colors",children:[s.jsx(ye,{name:"trash-2",className:"w-4 h-4"}),"Remove"]})]})]}),z&&s.jsx("div",{className:"p-3 bg-realm-command-panel-hover/50 text-center text-sm text-text-subtle",children:"Select a new hex on the map."})]},N.id)})}):s.jsx("p",{className:"text-text-muted text-center py-4",children:"No myths have been placed on the map."})]})})]})}class bg{constructor(o=1){this.p=[];const d=()=>{const m=Math.sin(o++)*1e4;return m-Math.floor(m)},u=Array.from({length:256},(m,h)=>h);for(let m=u.length-1;m>0;m--){const h=Math.floor(d()*(m+1)),g=u[m],b=u[h];g!==void 0&&b!==void 0&&(u[m]=b,u[h]=g)}this.p=u.concat(u)}fade(o){return o*o*o*(o*(o*6-15)+10)}lerp(o,d,u){return d+o*(u-d)}grad(o,d,u){const m=o&15,h=m<8?d:u,g=m<4?u:m===12||m===14?d:0;return((m&1)===0?h:-h)+((m&2)===0?g:-g)}noise(o,d){const u=Math.floor(o)&255,m=Math.floor(d)&255;o-=Math.floor(o),d-=Math.floor(d);const h=this.fade(o),g=this.fade(d),b=this.p,p=(b[u]??0)+m,y=(b[u+1]??0)+m;return this.lerp(g,this.lerp(h,this.grad(b[p]??0,o,d),this.grad(b[y]??0,o-1,d)),this.lerp(h,this.grad(b[p+1]??0,o,d-1),this.grad(b[y+1]??0,o-1,d-1)))}}function vg(c){const o=[];for(let d=-c;d<=c;d++)for(let u=-c;u<=c;u++){const m=-d-u;Math.abs(d)+Math.abs(u)+Math.abs(m)<=c*2&&Ll({q:0,r:0},{q:d,r:u})<=c&&o.push({q:d,r:u,s:m,terrain:"",barrierEdges:[]})}return o}function Sg(c,o){const d=[],u=[];for(let p=0;p<o;p++)for(let y=0;y<c;y++){const E=y-Math.floor(p/2);u.push({q:E,r:p})}if(u.length===0)return[];const m=u.reduce((p,y)=>p+y.q,0)/u.length,h=u.reduce((p,y)=>p+y.r,0)/u.length,g=Math.round(m),b=Math.round(h);for(const p of u){const y=p.q-g,E=p.r-b;d.push({q:y,r:E,s:-y-E,terrain:"",barrierEdges:[]})}return d}function Sh(c){if(c.length!==0)return c[Math.floor(Math.random()*c.length)]}function Mg(c,o){var D;const d=new bg(Math.random());if(c.length===0)return new Map;let u=1/0,m=-1/0,h=1/0,g=-1/0;c.forEach(G=>{u=Math.min(u,G.q),m=Math.max(m,G.q),h=Math.min(h,G.r),g=Math.max(g,G.r)});const b=Math.max(m-u,g-h,1),p=c.map(G=>{let B=0,Z=1,S=1;for(let $=0;$<5;$++)B+=d.noise(G.q*.1*Z,G.r*.1*Z)*S,Z*=2,S*=.5;let V=0;if(o.highlandFormation!=="random"){const $=(u+m)/2,T=(h+g)/2,P=(G.q-$)/(b/2),ue=(G.r-T)/(b/2),ie=o.highlandFormationRotation*Math.PI/180,se=P*Math.cos(ie)-ue*Math.sin(ie),J=P*Math.sin(ie)+ue*Math.cos(ie);o.highlandFormation==="linear"?V=-J:o.highlandFormation==="circle"&&(V=1-Math.min(1,Math.sqrt(se*se+J*J)/Math.sqrt(2)))}return o.highlandFormationInverse===!0&&(o.highlandFormation==="circle"||o.highlandFormation==="triangle")&&(V=-V),B+=V*1.5*o.highlandFormationStrength,{hex:G,elevation:B}});p.sort((G,B)=>B.elevation-G.elevation);const y=new Map,E=c.length;let N=0;const{terrainBiases:j,terrainHeightOrder:z}=o,H=Object.values(j).reduce((G,B)=>(G||0)+(B||0),0)||1,_=Object.entries(j).filter(([,G])=>(G||0)>0).sort(([G],[B])=>(z.indexOf(G)??-1)-(z.indexOf(B)??-1));for(const[G,B]of _){const Z=Math.round((B||0)/H*E),S=Math.min(N+Z,E);for(let V=N;V<S;V++){const $=p[V];$&&y.set(`${$.hex.q},${$.hex.r}`,G)}N=S}if(N<E&&_.length>0){const G=(D=_[_.length-1])==null?void 0:D[0];if(G)for(let B=N;B<E;B++){const Z=p[B];Z&&y.set(`${Z.hex.q},${Z.hex.r}`,G)}}return y}function jg(c,o){var b;const d=Mg(c,o);c.forEach(p=>p.terrain=d.get(`${p.q},${p.r}`)||"plain");const u=4,m=Object.keys(o.terrainClusteringMatrix);let h=c.map(p=>({...p}));for(let p=0;p<u;p++){const y=h.map(N=>({...N})),E=new Map(h.map(N=>[`${N.q},${N.r}`,N]));for(const N of y){let j=N.terrain,z=-1/0;for(const H of m){let _=0;const D=ec(N).map(G=>E.get(`${G.q},${G.r}`)).filter(G=>!!G);for(const G of D)_+=((b=o.terrainClusteringMatrix[H])==null?void 0:b[G.terrain])||0;H===d.get(`${N.q},${N.r}`)&&(_+=1.5),_>z&&(z=_,j=H)}N.terrain=j}h=y}const g=new Map(h.map(p=>[`${p.q},${p.r}`,p]));c.forEach(p=>{var y;p.terrain=((y=g.get(`${p.q},${p.r}`))==null?void 0:y.terrain)||p.terrain})}function Ng(c){const o=Math.floor(c.length*6*dy/2);for(let d=0;d<o;d++){const u=Sh(c);if(!u)continue;const m=Math.floor(Math.random()*6);if(!u.barrierEdges.includes(m)){u.barrierEdges.push(m);const h=ec(u)[m];if(!h)continue;const g=c.find(b=>b.q===h.q&&b.r===h.r);if(g){const b=(m+3)%6;g.barrierEdges.includes(b)||g.barrierEdges.push(b)}}}}function Cg(c,o,d){const u=c.filter(b=>!["peaks","crags","bog","lakes","marsh"].includes(b.terrain)),m=[];for(;m.length<d&&u.length>0;){const b=Math.floor(Math.random()*u.length),p=u.splice(b,1)[0];if(p&&!p.holding&&!m.some(y=>Ll(y,p)<o/4)){const y=Sh(uy);y!==void 0&&(p.holding=y,m.push(p))}}const h=m[0];if(h)return{q:h.q,r:h.r};const g=c.find(b=>b.q===0&&b.r===0)||c[0];return g?(g.holding="castle",{q:g.q,r:g.r}):{q:0,r:0}}function Eg(c,o,d){const u=c.filter(b=>b.holding||b.landmark),m=c.filter(b=>!b.holding&&!b.landmark);u.length>0?m.sort((b,p)=>Math.min(...u.map(y=>Ll(p,y)))-Math.min(...u.map(y=>Ll(b,y)))):m.sort((b,p)=>Ll({q:0,r:0},p)-Ll({q:0,r:0},b));const h=[];for(const b of m){if(h.length>=o)break;h.every(p=>Ll(b,p)>=d)&&h.push(b)}const g=[];return h.forEach((b,p)=>{const y=p+1;b.myth=y,g.push({id:y,name:`Myth #${y}`,q:b.q,r:b.r})}),g}function zg(c,o){const d=c.filter(u=>!u.holding&&!u.landmark);Object.entries(o).forEach(([u,m])=>{const h=m||0;for(let g=0;g<h&&d.length>0;g++){const b=Math.floor(Math.random()*d.length),p=d.splice(b,1)[0];p&&(p.landmark=u)}})}function Tg(c,o){let d,u;const m={shape:c.shape};c.shape==="hex"?(d=vg(c.radius),u=c.radius,m.radius=c.radius):(d=Sg(c.width,c.height),u=Math.max(c.width,c.height),m.width=c.width,m.height=c.height),jg(d,o),o.generateBarriers&&Ng(d);const h=Cg(d,u,o.numHoldings);zg(d,o.landmarks),d.forEach(b=>b.myth=void 0);const g=Eg(d,o.numMyths,o.mythMinDistance);if(o.numMyths>0&&g.length<o.numMyths)throw new Error(`Could not place all myths. Only placed ${g.length} of ${o.numMyths}. Try reducing 'Myth Min Distance' or the number of myths.`);return{...m,hexes:d,myths:g,seatOfPower:h}}function wg(c){const o=JSON.stringify(c,null,2),d=new Blob([o],{type:"application/json"}),u=URL.createObjectURL(d),m=document.createElement("a");m.href=u,m.download="realm-data.json",document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(u)}async function kg(c,o,d={}){const u=document.getElementById(c);if(!u)return;const m=await Ag(u,d),h=document.createElement("a");h.href=m,h.download=o,document.body.appendChild(h),h.click(),document.body.removeChild(h)}function Ag(c,o={}){const{scale:d=2,hideSelectionHighlights:u=!1}=o,m=c.cloneNode(!0);u&&m.querySelectorAll(".hex-selection-highlight, .hex-hover-highlight").forEach(_=>{_.remove()});const g=new XMLSerializer().serializeToString(m),b=c.getBoundingClientRect(),p=document.createElement("canvas"),y=m.getAttribute("viewBox");let E=b.width,N=b.height;if(y){const[,,_,D]=y.split(" ").map(Number);Number.isFinite(_)&&Number.isFinite(D)&&_>0&&D>0&&(E=_,N=D)}m.getAttribute("width")||m.setAttribute("width",`${E}`),m.getAttribute("height")||m.setAttribute("height",`${N}`),p.width=Math.max(Math.round(E*d),1),p.height=Math.max(Math.round(N*d),1);const j=p.getContext("2d");if(!j)return Promise.reject(new Error("Canvas context is unavailable."));const z=new Image,H="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(g)));return new Promise((_,D)=>{z.onload=()=>{j.drawImage(z,0,0,p.width,p.height),_(p.toDataURL("image/png"))},z.onerror=()=>D(new Error("Failed to rasterize SVG element.")),z.src=H})}const gl=()=>{},Rg=c=>{};function Dg({isOpen:c,onClose:o,onExport:d,settings:u,onSettingsChange:m,realm:h,tileSets:g,baseViewOptions:b,terrainTextures:p,isLoadingTextures:y,barrierColor:E,previewSvgId:N,isExporting:j,previewPadding:z=40,terrainColors:H}){const _=A.useMemo(()=>({...b,showGrid:u.includeGrid,showIconSpray:u.includeIconSpray,isGmView:u.viewMode==="referee"}),[b,u.includeGrid,u.includeIconSpray,u.viewMode]);return c?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-overlay-scrim p-4",role:"dialog","aria-modal":"true","aria-labelledby":"export-modal-title",children:s.jsxs("div",{className:"relative w-full max-w-5xl rounded-lg border border-border-panel-divider bg-realm-map-viewport shadow-xl",children:[s.jsxs("div",{className:"flex items-start justify-between border-b border-border-panel-divider px-6 py-4",children:[s.jsxs("div",{children:[s.jsx("h2",{id:"export-modal-title",className:"text-xl font-semibold text-text-high-contrast",children:"Export Map"}),s.jsx("p",{className:"text-sm text-text-muted",children:"Choose how the map should appear in the exported image and review it before saving."})]}),s.jsx("button",{type:"button",onClick:o,className:"text-text-muted hover:text-text-high-contrast transition-colors","aria-label":"Close export modal",children:s.jsx(ye,{name:"x",className:"h-5 w-5"})})]}),s.jsxs("div",{className:"grid gap-6 px-6 py-6 lg:grid-cols-[260px,1fr]",children:[s.jsxs("section",{"aria-label":"Export settings",className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-text-muted",children:"View"}),s.jsx("div",{className:"mt-2 flex gap-2",children:["referee","knight"].map(D=>{const G=u.viewMode===D;return s.jsx("button",{type:"button",onClick:()=>m({...u,viewMode:D}),className:`flex-1 rounded-md border px-3 py-2 text-sm font-medium transition-colors ${G?"border-actions-command-primary bg-actions-command-primary/20 text-text-high-contrast":"border-border-panel-divider bg-realm-command-panel-surface text-text-muted hover:text-text-high-contrast"}`,children:D==="referee"?"Referee View":"Knight View"},D)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-text-muted",children:"Appearance"}),s.jsxs("div",{className:"mt-2 flex flex-col gap-2 text-sm text-text-high-contrast",children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:u.includeGrid,onChange:D=>m({...u,includeGrid:D.target.checked}),className:"h-4 w-4 rounded border-border-panel-divider bg-realm-command-panel-surface text-actions-command-primary focus:ring-actions-command-primary"}),s.jsx("span",{children:"Include grid lines"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:u.includeIconSpray,onChange:D=>m({...u,includeIconSpray:D.target.checked}),className:"h-4 w-4 rounded border-border-panel-divider bg-realm-command-panel-surface text-actions-command-primary focus:ring-actions-command-primary"}),s.jsx("span",{children:"Include icon spray"})]})]})]})]}),s.jsxs("section",{"aria-label":"Export preview",className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-text-muted",children:"Preview"}),s.jsx("span",{className:"text-xs text-text-subtle",children:"Export uses the preview exactly as shown."})]}),s.jsx("div",{className:"relative h-80 overflow-hidden rounded-md border border-border-panel-divider bg-realm-map-viewport",children:h?s.jsx("div",{className:"pointer-events-none absolute inset-0",children:s.jsx(mh,{realm:h,onUpdateHex:gl,viewOptions:_,selectedHex:null,onHexClick:gl,activeTool:"select",setActiveTool:gl,paintTerrain:"plain",paintPoi:null,onAddMyth:gl,onRemoveMyth:gl,relocatingMythId:null,onRelocateMyth:gl,onSetSeatOfPower:gl,tileSets:g,terrainColors:H,barrierColor:E,isSettingsOpen:!0,isPickingTile:!1,onTilePick:gl,setConfirmation:Rg,terrainTextures:p,isLoadingTextures:y,svgId:N,isInteractive:!1,staticPadding:z})}):s.jsx("div",{className:"flex h-full items-center justify-center px-4 text-center text-sm text-text-muted",children:"Generate a realm to preview the export."})})]})]}),s.jsx("div",{className:"flex flex-col gap-3 border-t border-border-panel-divider px-6 py-4 sm:flex-row sm:items-center sm:justify-between",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:o,className:"rounded-md border border-border-panel-divider px-4 py-2 text-sm font-medium text-text-muted hover:text-text-high-contrast",children:"Cancel"}),s.jsx("button",{type:"button",onClick:()=>d(u),disabled:!h||j,className:"rounded-md bg-actions-command-primary px-4 py-2 text-sm font-semibold text-text-high-contrast transition-colors hover:bg-actions-command-primary/80 disabled:cursor-not-allowed disabled:bg-border-panel-divider disabled:text-text-muted",children:j?"Exporting...":"Export PNG"})]})})]})}):null}const Og=c=>{const[o,d]=A.useState({past:[],present:c,future:[]}),u=o.past.length>0,m=o.future.length>0,h=A.useCallback(p=>{d(y=>{const{present:E}=y;return p===E?y:{past:[...y.past,E],present:p,future:[]}})},[]),g=A.useCallback(()=>{u&&d(p=>{const{past:y,present:E,future:N}=p,j=y[y.length-1],z=y.slice(0,y.length-1);return j===void 0?p:{past:z,present:j,future:[E,...N]}})},[u]),b=A.useCallback(()=>{m&&d(p=>{const{past:y,present:E,future:N}=p,j=N[0],z=N.slice(1);return j===void 0?p:{past:[...y,E],present:j,future:z}})},[m]);return{state:o.present,set:h,undo:g,redo:b,canUndo:u,canRedo:m}};function _g({onRemoveAllBarriers:c,onClose:o,barrierColor:d,onColorChange:u}){const m=A.useRef(null),h=d!==Ws;return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Barrier Painter"}),s.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close Barrier Painter",children:s.jsx(ye,{name:"close",className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-6",children:[s.jsx("p",{className:"text-sm text-text-muted",children:"Click and drag on hex edges to add or remove barriers."}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-border-panel-divider",children:[s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Barrier Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>{var g;return h?u(Ws):(g=m.current)==null?void 0:g.click()},className:"w-10 h-10 rounded-md flex-shrink-0 border border-black/20 relative group",style:{backgroundColor:d},title:h?"Reset to default color":"Edit color","aria-label":h?"Reset barrier color to default":"Select custom barrier color",children:[s.jsx("input",{ref:m,type:"color",value:d,onChange:g=>u(g.target.value),className:"opacity-0 w-0 h-0 absolute pointer-events-none","aria-label":"Barrier color picker"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(ye,{name:h?"reset":"pipette",className:"w-5 h-5 text-white"})})]}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center",children:d.toUpperCase()})]})]}),s.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-actions-danger-base/50 rounded-md hover:bg-actions-danger-base/80 border border-actions-danger-base transition-colors",children:[s.jsx(ye,{name:"trash-2",className:"w-4 h-4"}),"Remove All Barriers"]})]})]})}function qg({isOpen:c,title:o,message:d,onConfirm:u,onCancel:m,confirmText:h="Confirm",cancelText:g="Cancel",isInfo:b=!1}){return c?s.jsxs("div",{className:"fixed inset-0 bg-overlay-scrim z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"confirmation-dialog-title",children:[s.jsxs("div",{className:"bg-realm-map-viewport border border-border-panel-divider rounded-lg shadow-xl w-full max-w-md p-6 animate-fade-in",children:[s.jsx("h2",{id:"confirmation-dialog-title",className:"text-xl font-bold text-text-high-contrast text-center mb-4",children:o}),s.jsx("p",{className:"text-text-muted mb-6 text-center",children:d}),s.jsxs("div",{className:"flex justify-center gap-4",children:[!b&&s.jsx("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-text-high-contrast bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors",children:g}),s.jsx("button",{onClick:u,className:`px-4 py-2 text-sm font-medium text-text-high-contrast rounded-md transition-colors ${b?"bg-feedback-info-panel hover:bg-feedback-mystic-highlight":"bg-actions-danger-base hover:bg-actions-danger-hover"}`,children:b?"OK":h})]})]}),s.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in { animation: fade-in 0.2s ease-out forwards; }
      `})]}):null}function Hg({onUndo:c,onRedo:o,canUndo:d,canRedo:u}){return s.jsxs("div",{className:"absolute bottom-4 right-[21rem] bg-realm-canvas-backdrop/80 border border-border-panel-divider p-2 rounded-lg shadow-lg flex items-center gap-2 z-10",children:[s.jsx("button",{onClick:c,disabled:!d,className:"p-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-text-muted hover:bg-realm-command-panel-hover enabled:hover:text-text-high-contrast",title:"Undo (Ctrl+Z)",children:s.jsx(ye,{name:"undo",className:"w-5 h-5"})}),s.jsx("button",{onClick:o,disabled:!u,className:"p-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-text-muted hover:bg-realm-command-panel-hover enabled:hover:text-text-high-contrast",title:"Redo (Ctrl+Y)",children:s.jsx(ye,{name:"redo",className:"w-5 h-5"})})]})}const zi=new Map,Bg=c=>{var d;if(zi.has(c))return zi.get(c)??null;const o=dh[c];if(!o||typeof o.render!="function")return zi.set(c,null),null;try{const u=o.render({},null),m=((d=u==null?void 0:u.props)==null?void 0:d.iconNode)??null;return zi.set(c,m),m}catch(u){console.warn(`Failed to extract Lucide icon node for '${c}'`,u)}return zi.set(c,null),null},Ug={x:50,y:50},Lg=4,Tt=c=>{if(typeof c=="number")return Number.isFinite(c)?c:null;if(typeof c=="string"){const o=Number(c);return Number.isFinite(o)?o:null}return null},Gg=c=>{if(!c)return[];const o=c.trim().split(/[\s,]+/),d=[];for(let u=0;u+1<o.length;u+=2){const m=Number(o[u]),h=Number(o[u+1]);Number.isFinite(m)&&Number.isFinite(h)&&d.push({x:m,y:h})}return d},Yg=(c,o)=>{var d,u,m,h;switch(c){case"path":{const g=o.d;return g?new Path2D(g):null}case"line":{const g=Tt(o.x1),b=Tt(o.y1),p=Tt(o.x2),y=Tt(o.y2);if(g===null||b===null||p===null||y===null)return null;const E=new Path2D;return E.moveTo(g,b),E.lineTo(p,y),E}case"polyline":case"polygon":{const g=Gg(o.points);if(g.length<2)return null;const b=new Path2D;b.moveTo(((d=g[0])==null?void 0:d.x)??0,((u=g[0])==null?void 0:u.y)??0);for(let p=1;p<g.length;p++)b.lineTo(((m=g[p])==null?void 0:m.x)??0,((h=g[p])==null?void 0:h.y)??0);return c==="polygon"&&b.closePath(),b}case"rect":{const g=Tt(o.x)??0,b=Tt(o.y)??0,p=Tt(o.width),y=Tt(o.height);if(p===null||y===null)return null;const E=new Path2D;return E.rect(g,b,p,y),E}case"circle":{const g=Tt(o.cx)??0,b=Tt(o.cy)??0,p=Tt(o.r);if(p===null)return null;const y=new Path2D;return y.arc(g,b,p,0,Math.PI*2),y}case"ellipse":{const g=Tt(o.cx)??0,b=Tt(o.cy)??0,p=Tt(o.rx),y=Tt(o.ry);if(p===null||y===null)return null;const E=new Path2D;return E.ellipse(g,b,p,y,0,0,Math.PI*2),E}default:return null}},Vg=(c,o)=>{for(const[d,u]of o){const m=Yg(d,u);if(!m)continue;const h=u.fill;if(h&&h!=="none"){const g=c.fillStyle,b=h==="currentColor"?c.strokeStyle:h;c.fillStyle=b,c.fill(m),c.fillStyle=g}c.stroke(m)}};function Xg(c,o,d){const u={q:0,r:0,terrain:o.id},m=gh(u,o,d);for(const h of m){const g=Bg(h.name);if(!g||g.length===0)continue;c.save(),c.translate(h.x,h.y),c.rotate(h.rotation*Math.PI/180);const b="#FF00FF",p=bl(h.color??b)||b;c.strokeStyle=p,c.fillStyle=p,c.lineWidth=2.5,c.lineJoin="round",c.lineCap="round",c.globalAlpha=h.opacity;const y=h.size/24;c.scale(y,y),c.translate(-12,-12),Vg(c,g),c.restore()}}async function Zg(c,o,d=Ug){var E,N,j,z;const u={},m=document.createElement("canvas"),h={width:d.x*Math.sqrt(3),height:d.y*2},g=typeof window<"u"?window.devicePixelRatio??1:1,b=Lg*g;m.width=Math.round(h.width*b),m.height=Math.round(h.height*b),m.style.width=`${h.width}px`,m.style.height=`${h.height}px`;const p=m.getContext("2d");if(!p)throw new Error("Could not get 2D rendering context");p.scale(b,b);const y=Ai("pointy",d);for(const H of c.terrain){const _=o[H.id]||"#cccccc";p.clearRect(0,0,h.width,h.height),p.save(),p.translate(h.width/2,h.height/2),p.beginPath(),p.moveTo(((E=y[0])==null?void 0:E.x)??0,((N=y[0])==null?void 0:N.y)??0);for(let B=1;B<6;B++)p.lineTo(((j=y[B])==null?void 0:j.x)??0,((z=y[B])==null?void 0:z.y)??0);p.closePath(),p.fillStyle=_,p.fill();const D=m.toDataURL("image/png");Xg(p,H,d);const G=m.toDataURL("image/png");u[H.id]={withSpray:G,withoutSpray:D},p.restore()}return u}const Wm=(c,o)=>c===void 0?[o,!0]:[c,!1],Mh=(c,o,d)=>{const u=c??$s;let m=c===void 0;const h=o.holding.reduce((j,z)=>{var _;const H=(_=u.holdings)==null?void 0:_[z.id];return H===void 0?(m=!0,j[z.id]=!0):j[z.id]=H,j},{});if(u.holdings){for(const j of Object.keys(u.holdings))if(!(j in h)){m=!0;break}}const g=o.landmark.reduce((j,z)=>{var _;const H=(_=u.landmarks)==null?void 0:_[z.id];return H===void 0?(m=!0,j[z.id]=!1):j[z.id]=H,j},{});if(u.landmarks){for(const j of Object.keys(u.landmarks))if(!(j in g)){m=!0;break}}const b=d.reduce((j,z)=>{var _;const H=(_=u.myths)==null?void 0:_[z.id];return H===void 0?(m=!0,j[z.id]=!1):j[z.id]=H,j},{});if(u.myths){for(const j of Object.keys(u.myths))if(!(Number(j)in b)){m=!0;break}}const[p,y]=Wm(u.seatOfPower,$s.seatOfPower),[E,N]=Wm(u.showBarriers,$s.showBarriers);return m=m||y||N,{visibility:{holdings:h,seatOfPower:p,landmarks:g,myths:b,showBarriers:E},changed:m}},Qg=Mh(void 0,Ps,[]).visibility,Im="hex-grid-export-preview",Kg=6;function Jg(){const{state:c,set:o,undo:d,redo:u,canUndo:m,canRedo:h}=Og(null),[g,b]=A.useState(null),[p,y]=A.useState(null),[E,N]=A.useState({showGrid:!0,isGmView:!0,orientation:"pointy",hexSize:{x:50,y:50},gridColor:Js,gridWidth:rh,showIconSpray:!0,visibility:{knight:Qg}}),[j,z]=A.useState(()=>({viewMode:"referee",includeGrid:!0,includeIconSpray:!0})),[H,_]=A.useState("select"),[D,G]=A.useState(xl[0]??"plain"),[B,Z]=A.useState("holding:castle"),[S,V]=A.useState(Ps),[$,T]=A.useState(()=>({...Kt})),[P,ue]=A.useState(Ws),[ie,se]=A.useState(!1),[J,de]=A.useState(!1);A.useEffect(()=>{document.documentElement.setAttribute("data-theme","dark")},[]),A.useEffect(()=>{const Q=(c==null?void 0:c.myths)??[];N(W=>{const{visibility:ae,changed:Be}=Mh(W.visibility.knight,S,Q);return Be?{...W,visibility:{...W.visibility,knight:ae}}:W})},[c==null?void 0:c.myths,S,N]);const[Re,pe]=A.useState("square"),[w,K]=A.useState(kn),[ee,ge]=A.useState(kn),[xe,v]=A.useState(kn),[L,F]=A.useState(null),[te,me]=A.useState(!1),[Se,be]=A.useState({tab:"general",focusId:null}),[Ze,Ge]=A.useState(!1),[Ut,Xa]=A.useState(null),[Na,vl]=A.useState(!0),$t=oy.reduce((Q,W)=>(Q[W]=3,Q),{}),[I,re]=A.useState({numHoldings:4,numMyths:6,mythMinDistance:3,landmarks:$t,generateBarriers:!1,highlandFormation:"linear",highlandFormationStrength:.7,highlandFormationRotation:0,highlandFormationInverse:!1,terrainRoughness:.5,terrainClusteringMatrix:Cu,terrainBiases:uh,terrainHeightOrder:ry}),he=A.useCallback(()=>{try{const W=Tg(Re==="hex"?{shape:"hex",radius:w}:{shape:"square",width:ee,height:xe},I);o(W),b(null)}catch(Q){const W=Q instanceof Error?Q.message:"An unknown error occurred during realm generation.";F({isOpen:!0,title:"Generation Failed",message:W,onConfirm:()=>F(null),confirmText:"OK",isInfo:!0})}},[Re,w,ee,xe,I,o]);A.useEffect(()=>{c||he()},[c,he]),A.useEffect(()=>{if(Object.keys($).length===0)return;(async()=>{vl(!0);try{const W=await Zg(S,$,E.hexSize);Xa(W)}catch(W){console.error("Failed to generate terrain textures:",W),F({isOpen:!0,title:"Texture Generation Failed",message:"Could not generate map textures. The map may not display correctly.",onConfirm:()=>F(null),isInfo:!0})}finally{vl(!1)}})()},[S,$,E.hexSize]),A.useEffect(()=>{(H==="terrain"||H==="barrier"||H==="poi"||H==="myth")&&b(null),H!=="myth"&&y(null),H!=="terrain"&&H!=="poi"&&Ge(!1)},[H]),A.useEffect(()=>{const Q=W=>{const ae=W.ctrlKey||W.metaKey;W.key==="Escape"&&Ze?(W.preventDefault(),Ge(!1)):ae&&W.key.toLowerCase()==="z"?(W.preventDefault(),W.shiftKey?h&&(u(),b(null)):m&&(d(),b(null))):ae&&W.key.toLowerCase()==="y"&&(W.preventDefault(),h&&(u(),b(null)))};return window.addEventListener("keydown",Q),()=>{window.removeEventListener("keydown",Q)}},[m,h,d,u,Ze]);const Oe=A.useCallback(Q=>{if(!c)return;const W=Array.isArray(Q)?Q:[Q];if(W.length===0)return;const ae=new Map;W.forEach(ke=>ae.set(`${ke.q},${ke.r}`,ke));const Be=c.hexes.map(ke=>{const ze=`${ke.q},${ke.r}`;return ae.get(ze)||ke});if(o({...c,hexes:Be}),g){const ke=W.find(ze=>ze.q===g.q&&ze.r===g.r);ke&&b(ke||null)}},[c,g,o]),Ne=A.useCallback((Q,W=!1)=>{if(!c)return;const ae=c.hexes.find(kt=>kt.q===Q.q&&kt.r===Q.r);if(!ae||ae.myth||ae.holding||ae.landmark){(ae!=null&&ae.holding||ae!=null&&ae.landmark)&&F({isOpen:!0,title:"Action Blocked",message:"Cannot add a myth to a hex with a holding or landmark.",onConfirm:()=>F(null),isInfo:!0});return}const Be=(c.myths.length>0?Math.max(...c.myths.map(kt=>kt.id)):0)+1,ke={id:Be,name:`Myth #${Be}`,q:Q.q,r:Q.r},ze=[...c.myths,ke];let lt;const fa=c.hexes.map(kt=>kt.q===Q.q&&kt.r===Q.r?(lt={...kt,myth:Be},lt):kt);o({...c,hexes:fa,myths:ze}),lt&&(g&&g.q===Q.q&&g.r===Q.r||W)&&b(lt)},[c,o,g]),De=A.useCallback(Q=>{if(!c||!Q.myth)return;const W=Q.myth,ae=c.myths.filter(ze=>ze.id!==W).map(ze=>ze.id>W?{...ze,id:ze.id-1}:ze).sort((ze,lt)=>ze.id-lt.id);let Be;const ke=c.hexes.map(ze=>{if(ze.q===Q.q&&ze.r===Q.r){const{myth:lt,...fa}=ze;return Be=fa,fa}return ze.myth&&ze.myth>W?{...ze,myth:ze.myth-1}:ze});o({...c,hexes:ke,myths:ae}),g&&g.q===Q.q&&g.r===Q.r&&b(Be||null)},[c,o,g]),Pe=A.useCallback(Q=>{if(!c)return;const W=c.myths.map(ae=>ae.id===Q.id?Q:ae);o({...c,myths:W})},[c,o]),xt=A.useCallback(Q=>{y(W=>W===Q?null:Q),p!==Q&&b(null)},[p]),oa=A.useCallback((Q,W)=>{if(!c)return;const ae=c.hexes.find(ht=>ht.q===W.q&&ht.r===W.r);if(!ae||ae.myth||ae.holding||ae.landmark){ae!=null&&ae.myth&&F({isOpen:!0,title:"Relocation Blocked",message:"Cannot relocate to a hex that already has a myth.",onConfirm:()=>F(null),isInfo:!0}),(ae!=null&&ae.holding||ae!=null&&ae.landmark)&&F({isOpen:!0,title:"Relocation Blocked",message:"Cannot relocate a myth to a hex that has a holding or a landmark.",onConfirm:()=>F(null),isInfo:!0});return}const Be=c.myths.find(ht=>ht.id===Q);if(!Be)return;const ke={q:Be.q,r:Be.r},ze={...Be,q:W.q,r:W.r},lt=c.myths.map(ht=>ht.id===Q?ze:ht);let fa;const kt=c.hexes.map(ht=>{if(ht.q===ke.q&&ht.r===ke.r){const{myth:ic,...On}=ht;return On}return ht.q===W.q&&ht.r===W.r?(fa={...ht,myth:Q},fa):ht});o({...c,hexes:kt,myths:lt}),y(null),fa&&b(fa)},[c,o]),Ke=Q=>{Q.myths||(Q.myths=[],Q.hexes.forEach(W=>{W.myth&&Q.myths.push({id:W.myth,name:`Myth #${W.myth}`,q:W.q,r:W.r})})),o(Q),b(null),pe(Q.shape),Q.shape==="hex"?K(Q.radius??kn):(ge(Q.width??kn),v(Q.height??kn))},Za=A.useCallback(()=>{c&&wg(c)},[c]),wt=A.useCallback(()=>{z(Q=>({...Q,includeGrid:E.showGrid,includeIconSpray:E.showIconSpray,viewMode:E.isGmView?"referee":"knight"})),se(!0)},[z,se,E.isGmView,E.showGrid,E.showIconSpray]),Ft=A.useCallback(Q=>{if(!c||J)return;de(!0),(async()=>{try{const ae=Q.viewMode==="referee"?"realm-map-referee.png":"realm-map-knight.png";await kg(Im,ae,{scale:Kg,hideSelectionHighlights:!0}),se(!1)}catch(ae){console.error("Failed to export PNG",ae),F({isOpen:!0,title:"Export Failed",message:"Something went wrong while exporting the PNG. Please try again or report the issue if it persists.",onConfirm:()=>F(null),isInfo:!0})}finally{de(!1)}})()},[c,J,F,se]),Ca=A.useCallback(Q=>{z(Q)},[]),Yl=A.useCallback(Q=>{!c||!Q.holding||o({...c,seatOfPower:{q:Q.q,r:Q.r}})},[c,o]),pa=A.useCallback((Q,W)=>{const ae=Q.toLowerCase().replace(/\s+/g,"-");if(S.terrain.some(ke=>ke.id===ae||ke.label.toLowerCase()===Q.toLowerCase())){F({isOpen:!0,title:"Duplicate Terrain",message:"A terrain with this name already exists.",onConfirm:()=>F(null),isInfo:!0});return}const Be={id:ae,label:Q,icon:"leaf",color:W,description:"Custom terrain created by the user.",sprayIcons:[]};V(ke=>({...ke,terrain:[...ke.terrain,Be]})),T(ke=>({...ke,[ae]:W}))},[S.terrain]),Qa=A.useCallback(Q=>{if(xl.includes(Q)){F({isOpen:!0,title:"Action Blocked",message:"Cannot remove default terrain types.",onConfirm:()=>F(null),isInfo:!0});return}V(W=>({...W,terrain:W.terrain.filter(ae=>ae.id!==Q)})),T(W=>{const ae={...W};return delete ae[Q],ae}),c&&o({...c,hexes:c.hexes.map(W=>W.terrain===Q?{...W,terrain:"plain"}:W)}),D===Q&&G(xl[0]??"plain")},[c,o,D]),ga=A.useCallback((Q,W)=>T(ae=>({...ae,[Q]:W})),[]),da=A.useCallback(Q=>{const W=ch(Q);T(ae=>({...ae,[Q]:W}))},[]),dt=A.useCallback(()=>{F({isOpen:!0,title:"Remove All Barriers",message:"Are you sure you want to remove all barriers? This action cannot be undone.",onConfirm:()=>{c&&(o({...c,hexes:c.hexes.map(Q=>({...Q,barrierEdges:[]}))}),F(null))}})},[c,o]),Wt=()=>F(null),Et=A.useCallback((Q,W,ae)=>{re(Be=>{const ke=JSON.parse(JSON.stringify(Be.terrainClusteringMatrix)),ze=ke[Q],lt=ke[W];return ze&&lt&&(ze[W]=ae,lt[Q]=ae),{...Be,terrainClusteringMatrix:ke}})},[]),ac=A.useCallback((Q,W)=>re(ae=>({...ae,[Q]:W})),[]),lc=A.useCallback((Q,W)=>re(ae=>({...ae,terrainBiases:{...ae.terrainBiases,[Q]:W}})),[]),nc=A.useCallback(Q=>re(W=>({...W,...Q})),[]),Sl=A.useCallback(()=>{(H==="terrain"||H==="poi")&&Ge(!0)},[H]),Vl=A.useCallback(Q=>{Ze&&(H==="terrain"?G(Q.terrain):H==="poi"&&(Q.holding?Z(`holding:${Q.holding}`):Q.landmark?Z(`landmark:${Q.landmark}`):Q.myth&&Z("action:myth")),Ge(!1))},[Ze,H]);A.useEffect(()=>{var ae;const Q=JSON.parse(JSON.stringify(Cu)),W=2*(1-I.terrainRoughness);for(const Be of xl){const ke=Q[Be];if(ke)for(const ze of xl){const lt=((ae=Cu[Be])==null?void 0:ae[ze])??0;ke[ze]=lt===0?0:Math.max(.01,Math.min(1,lt*W))}}re(Be=>JSON.stringify(Be.terrainClusteringMatrix)===JSON.stringify(Q)?Be:{...Be,terrainClusteringMatrix:Q})},[I.terrainRoughness,I.terrainClusteringMatrix]);const Xl=A.useCallback(Q=>{be({tab:"terrain",focusId:Q}),me(!0)},[]);return s.jsxs("div",{className:"flex flex-col h-screen w-screen bg-realm-canvas-backdrop overflow-hidden",children:[s.jsx(rg,{onGenerate:he,onExportJson:Za,onExportPng:wt,onImportJson:Ke,viewOptions:E,setViewOptions:N,realmShape:Re,setRealmShape:pe,realmRadius:w,setRealmRadius:K,realmWidth:ee,setRealmWidth:ge,realmHeight:xe,setRealmHeight:v,generationOptions:I,setGenerationOptions:re,onGenerationOptionChange:ac,handleClusteringChange:Et,handleTerrainBiasChange:lc,onApplyTemplate:nc,tileSets:S,setTileSets:V,isSettingsOpen:te,setIsSettingsOpen:me,settingsView:Se,setSettingsView:be,setConfirmation:F,myths:(c==null?void 0:c.myths)??[]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("main",{className:"flex-1 bg-realm-map-viewport relative",children:c?s.jsx(mh,{realm:c,onUpdateHex:Oe,viewOptions:E,selectedHex:g,onHexClick:b,activeTool:H,setActiveTool:_,paintTerrain:D,paintPoi:B,onAddMyth:Ne,onRemoveMyth:De,relocatingMythId:p,onRelocateMyth:oa,onSetSeatOfPower:Yl,tileSets:S,terrainColors:$,barrierColor:P??"",isSettingsOpen:te,isPickingTile:Ze,onTilePick:Vl,setConfirmation:F,terrainTextures:Ut,isLoadingTextures:Na}):s.jsx("div",{className:"flex items-center justify-center h-full text-text-muted",children:s.jsx("p",{children:"Generating initial realm..."})})}),H==="terrain"?s.jsx(yg,{paintTerrain:D,setPaintTerrain:G,onClose:()=>_("select"),tileSets:S,terrainColors:$,onAddTerrain:pa,onRemoveTerrain:Qa,onUpdateTerrainColor:ga,onResetTerrainColor:da,onStartPicking:Sl,isPickingTile:Ze,onOpenSpraySettings:Xl}):H==="poi"?s.jsx(gg,{paintPoi:B,setPaintPoi:Z,onClose:()=>_("select"),onStartPicking:Sl,isPickingTile:Ze}):H==="barrier"?s.jsx(_g,{onRemoveAllBarriers:dt,onClose:()=>_("select"),barrierColor:P??"",onColorChange:ue}):H==="myth"&&c?s.jsx(xg,{realm:c,selectedHex:g,onSelectHex:b,onUpdateMyth:Pe,onRemoveMyth:De,relocatingMythId:p,onToggleRelocateMyth:xt,onClose:()=>_("select")}):H==="select"?s.jsx(dg,{selectedHex:g,realm:c,onUpdateHex:Oe,onDeselect:()=>b(null),onSetSeatOfPower:Yl,onAddMyth:Ne,onRemoveMyth:De,tileSets:S}):null]}),s.jsx(Dg,{isOpen:ie,onClose:()=>se(!1),onExport:Ft,settings:j,onSettingsChange:Ca,realm:c,tileSets:S,baseViewOptions:E,terrainTextures:Ut,isLoadingTextures:Na,barrierColor:P??"",previewSvgId:Im,isExporting:J,terrainColors:$,previewPadding:Math.max(E.hexSize.x,E.hexSize.y)}),(L==null?void 0:L.isOpen)&&s.jsx(qg,{isOpen:L.isOpen,title:L.title,message:L.message,onConfirm:L.onConfirm,onCancel:Wt,confirmText:L.confirmText??"OK",isInfo:L.isInfo??!1}),!te&&s.jsx(Hg,{onUndo:()=>{d(),b(null)},onRedo:()=>{u(),b(null)},canUndo:m,canRedo:h})]})}const jh=document.getElementById("root");if(!jh)throw new Error("Could not find root element to mount to");const $g=X1.createRoot(jh);$g.render(s.jsx(Ri.StrictMode,{children:s.jsx(Jg,{})}));
