(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function d(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerPolicy&&(h.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?h.credentials="include":m.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(m){if(m.ep)return;m.ep=!0;const h=d(m);fetch(m.href,h)}})();function Vm(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var uu={exports:{}},xi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function v0(){if(Mm)return xi;Mm=1;var c=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(u,m,h){var x=null;if(h!==void 0&&(x=""+h),m.key!==void 0&&(x=""+m.key),"key"in m){h={};for(var S in m)S!=="key"&&(h[S]=m[S])}else h=m;return m=h.ref,{$$typeof:c,type:u,key:x,ref:m!==void 0?m:null,props:h}}return xi.Fragment=o,xi.jsx=d,xi.jsxs=d,xi}var Sm;function M0(){return Sm||(Sm=1,uu.exports=v0()),uu.exports}var s=M0(),ou={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function S0(){if(jm)return ve;jm=1;var c=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.iterator;function E(b){return b===null||typeof b!="object"?null:(b=j&&b[j]||b["@@iterator"],typeof b=="function"?b:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,O={};function V(b,L,F){this.props=b,this.context=L,this.refs=O,this.updater=F||q}V.prototype.isReactComponent={},V.prototype.setState=function(b,L){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,L,"setState")},V.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function B(){}B.prototype=V.prototype;function Z(b,L,F){this.props=b,this.context=L,this.refs=O,this.updater=F||q}var v=Z.prototype=new B;v.constructor=Z,D(v,V.prototype),v.isPureReactComponent=!0;var Y=Array.isArray;function $(){}var z={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function ue(b,L,F){var te=F.ref;return{$$typeof:c,type:b,key:L,ref:te!==void 0?te:null,props:F}}function ie(b,L){return ue(b.type,L,b.props)}function se(b){return typeof b=="object"&&b!==null&&b.$$typeof===c}function J(b){var L={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(F){return L[F]})}var de=/\/+/g;function Re(b,L){return typeof b=="object"&&b!==null&&b.key!=null?J(""+b.key):L.toString(36)}function pe(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then($,$):(b.status="pending",b.then(function(L){b.status==="pending"&&(b.status="fulfilled",b.value=L)},function(L){b.status==="pending"&&(b.status="rejected",b.reason=L)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function T(b,L,F,te,me){var Me=typeof b;(Me==="undefined"||Me==="boolean")&&(b=null);var be=!1;if(b===null)be=!0;else switch(Me){case"bigint":case"string":case"number":be=!0;break;case"object":switch(b.$$typeof){case c:case o:be=!0;break;case R:return be=b._init,T(be(b._payload),L,F,te,me)}}if(be)return me=me(b),be=te===""?"."+Re(b,0):te,Y(me)?(F="",be!=null&&(F=be.replace(de,"$&/")+"/"),T(me,L,F,"",function(qt){return qt})):me!=null&&(se(me)&&(me=ie(me,F+(me.key==null||b&&b.key===me.key?"":(""+me.key).replace(de,"$&/")+"/")+be)),L.push(me)),1;be=0;var Ze=te===""?".":te+":";if(Y(b))for(var Ge=0;Ge<b.length;Ge++)te=b[Ge],Me=Ze+Re(te,Ge),be+=T(te,L,F,Me,me);else if(Ge=E(b),typeof Ge=="function")for(b=Ge.call(b),Ge=0;!(te=b.next()).done;)te=te.value,Me=Ze+Re(te,Ge++),be+=T(te,L,F,Me,me);else if(Me==="object"){if(typeof b.then=="function")return T(pe(b),L,F,te,me);throw L=String(b),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(b,L,F){if(b==null)return b;var te=[],me=0;return T(b,te,"","",function(Me){return L.call(F,Me,me++)}),te}function ee(b){if(b._status===-1){var L=b._result;L=L(),L.then(function(F){(b._status===0||b._status===-1)&&(b._status=1,b._result=F)},function(F){(b._status===0||b._status===-1)&&(b._status=2,b._result=F)}),b._status===-1&&(b._status=0,b._result=L)}if(b._status===1)return b._result.default;throw b._result}var ge=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},xe={map:K,forEach:function(b,L,F){K(b,function(){L.apply(this,arguments)},F)},count:function(b){var L=0;return K(b,function(){L++}),L},toArray:function(b){return K(b,function(L){return L})||[]},only:function(b){if(!se(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return ve.Activity=N,ve.Children=xe,ve.Component=V,ve.Fragment=d,ve.Profiler=m,ve.PureComponent=Z,ve.StrictMode=u,ve.Suspense=g,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ve.__COMPILER_RUNTIME={__proto__:null,c:function(b){return z.H.useMemoCache(b)}},ve.cache=function(b){return function(){return b.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(b,L,F){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var te=D({},b.props),me=b.key;if(L!=null)for(Me in L.key!==void 0&&(me=""+L.key),L)!P.call(L,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&L.ref===void 0||(te[Me]=L[Me]);var Me=arguments.length-2;if(Me===1)te.children=F;else if(1<Me){for(var be=Array(Me),Ze=0;Ze<Me;Ze++)be[Ze]=arguments[Ze+2];te.children=be}return ue(b.type,me,te)},ve.createContext=function(b){return b={$$typeof:x,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:h,_context:b},b},ve.createElement=function(b,L,F){var te,me={},Me=null;if(L!=null)for(te in L.key!==void 0&&(Me=""+L.key),L)P.call(L,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(me[te]=L[te]);var be=arguments.length-2;if(be===1)me.children=F;else if(1<be){for(var Ze=Array(be),Ge=0;Ge<be;Ge++)Ze[Ge]=arguments[Ge+2];me.children=Ze}if(b&&b.defaultProps)for(te in be=b.defaultProps,be)me[te]===void 0&&(me[te]=be[te]);return ue(b,Me,me)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(b){return{$$typeof:S,render:b}},ve.isValidElement=se,ve.lazy=function(b){return{$$typeof:R,_payload:{_status:-1,_result:b},_init:ee}},ve.memo=function(b,L){return{$$typeof:y,type:b,compare:L===void 0?null:L}},ve.startTransition=function(b){var L=z.T,F={};z.T=F;try{var te=b(),me=z.S;me!==null&&me(F,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then($,ge)}catch(Me){ge(Me)}finally{L!==null&&F.types!==null&&(L.types=F.types),z.T=L}},ve.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ve.use=function(b){return z.H.use(b)},ve.useActionState=function(b,L,F){return z.H.useActionState(b,L,F)},ve.useCallback=function(b,L){return z.H.useCallback(b,L)},ve.useContext=function(b){return z.H.useContext(b)},ve.useDebugValue=function(){},ve.useDeferredValue=function(b,L){return z.H.useDeferredValue(b,L)},ve.useEffect=function(b,L){return z.H.useEffect(b,L)},ve.useEffectEvent=function(b){return z.H.useEffectEvent(b)},ve.useId=function(){return z.H.useId()},ve.useImperativeHandle=function(b,L,F){return z.H.useImperativeHandle(b,L,F)},ve.useInsertionEffect=function(b,L){return z.H.useInsertionEffect(b,L)},ve.useLayoutEffect=function(b,L){return z.H.useLayoutEffect(b,L)},ve.useMemo=function(b,L){return z.H.useMemo(b,L)},ve.useOptimistic=function(b,L){return z.H.useOptimistic(b,L)},ve.useReducer=function(b,L,F){return z.H.useReducer(b,L,F)},ve.useRef=function(b){return z.H.useRef(b)},ve.useState=function(b){return z.H.useState(b)},ve.useSyncExternalStore=function(b,L,F){return z.H.useSyncExternalStore(b,L,F)},ve.useTransition=function(){return z.H.useTransition()},ve.version="19.2.0",ve}var Nm;function Cu(){return Nm||(Nm=1,ou.exports=S0()),ou.exports}var w=Cu();const Ei=Vm(w);var du={exports:{}},bi={},fu={exports:{}},mu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function j0(){return Cm||(Cm=1,(function(c){function o(T,K){var ee=T.length;T.push(K);e:for(;0<ee;){var ge=ee-1>>>1,xe=T[ge];if(0<m(xe,K))T[ge]=K,T[ee]=xe,ee=ge;else break e}}function d(T){return T.length===0?null:T[0]}function u(T){if(T.length===0)return null;var K=T[0],ee=T.pop();if(ee!==K){T[0]=ee;e:for(var ge=0,xe=T.length,b=xe>>>1;ge<b;){var L=2*(ge+1)-1,F=T[L],te=L+1,me=T[te];if(0>m(F,ee))te<xe&&0>m(me,F)?(T[ge]=me,T[te]=ee,ge=te):(T[ge]=F,T[L]=ee,ge=L);else if(te<xe&&0>m(me,ee))T[ge]=me,T[te]=ee,ge=te;else break e}}return K}function m(T,K){var ee=T.sortIndex-K.sortIndex;return ee!==0?ee:T.id-K.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;c.unstable_now=function(){return h.now()}}else{var x=Date,S=x.now();c.unstable_now=function(){return x.now()-S}}var g=[],y=[],R=1,N=null,j=3,E=!1,q=!1,D=!1,O=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function v(T){for(var K=d(y);K!==null;){if(K.callback===null)u(y);else if(K.startTime<=T)u(y),K.sortIndex=K.expirationTime,o(g,K);else break;K=d(y)}}function Y(T){if(D=!1,v(T),!q)if(d(g)!==null)q=!0,$||($=!0,J());else{var K=d(y);K!==null&&pe(Y,K.startTime-T)}}var $=!1,z=-1,P=5,ue=-1;function ie(){return O?!0:!(c.unstable_now()-ue<P)}function se(){if(O=!1,$){var T=c.unstable_now();ue=T;var K=!0;try{e:{q=!1,D&&(D=!1,B(z),z=-1),E=!0;var ee=j;try{t:{for(v(T),N=d(g);N!==null&&!(N.expirationTime>T&&ie());){var ge=N.callback;if(typeof ge=="function"){N.callback=null,j=N.priorityLevel;var xe=ge(N.expirationTime<=T);if(T=c.unstable_now(),typeof xe=="function"){N.callback=xe,v(T),K=!0;break t}N===d(g)&&u(g),v(T)}else u(g);N=d(g)}if(N!==null)K=!0;else{var b=d(y);b!==null&&pe(Y,b.startTime-T),K=!1}}break e}finally{N=null,j=ee,E=!1}K=void 0}}finally{K?J():$=!1}}}var J;if(typeof Z=="function")J=function(){Z(se)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Re=de.port2;de.port1.onmessage=se,J=function(){Re.postMessage(null)}}else J=function(){V(se,0)};function pe(T,K){z=V(function(){T(c.unstable_now())},K)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(T){T.callback=null},c.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},c.unstable_getCurrentPriorityLevel=function(){return j},c.unstable_next=function(T){switch(j){case 1:case 2:case 3:var K=3;break;default:K=j}var ee=j;j=K;try{return T()}finally{j=ee}},c.unstable_requestPaint=function(){O=!0},c.unstable_runWithPriority=function(T,K){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var ee=j;j=T;try{return K()}finally{j=ee}},c.unstable_scheduleCallback=function(T,K,ee){var ge=c.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ge+ee:ge):ee=ge,T){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ee+xe,T={id:R++,callback:K,priorityLevel:T,startTime:ee,expirationTime:xe,sortIndex:-1},ee>ge?(T.sortIndex=ee,o(y,T),d(g)===null&&T===d(y)&&(D?(B(z),z=-1):D=!0,pe(Y,ee-ge))):(T.sortIndex=xe,o(g,T),q||E||(q=!0,$||($=!0,J()))),T},c.unstable_shouldYield=ie,c.unstable_wrapCallback=function(T){var K=j;return function(){var ee=j;j=K;try{return T.apply(this,arguments)}finally{j=ee}}}})(mu)),mu}var Em;function N0(){return Em||(Em=1,fu.exports=j0()),fu.exports}var hu={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function C0(){if(zm)return jt;zm=1;var c=Cu();function o(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)y+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var u={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function h(g,y,R){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:N==null?null:""+N,children:g,containerInfo:y,implementation:R}}var x=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,jt.createPortal=function(g,y){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(o(299));return h(g,y,null,R)},jt.flushSync=function(g){var y=x.T,R=u.p;try{if(x.T=null,u.p=2,g)return g()}finally{x.T=y,u.p=R,u.d.f()}},jt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,u.d.C(g,y))},jt.prefetchDNS=function(g){typeof g=="string"&&u.d.D(g)},jt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var R=y.as,N=S(R,y.crossOrigin),j=typeof y.integrity=="string"?y.integrity:void 0,E=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;R==="style"?u.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:j,fetchPriority:E}):R==="script"&&u.d.X(g,{crossOrigin:N,integrity:j,fetchPriority:E,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},jt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var R=S(y.as,y.crossOrigin);u.d.M(g,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&u.d.M(g)},jt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var R=y.as,N=S(R,y.crossOrigin);u.d.L(g,R,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},jt.preloadModule=function(g,y){if(typeof g=="string")if(y){var R=S(y.as,y.crossOrigin);u.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else u.d.m(g)},jt.requestFormReset=function(g){u.d.r(g)},jt.unstable_batchedUpdates=function(g,y){return g(y)},jt.useFormState=function(g,y,R){return x.H.useFormState(g,y,R)},jt.useFormStatus=function(){return x.H.useHostTransitionStatus()},jt.version="19.2.0",jt}var Tm;function Xm(){if(Tm)return hu.exports;Tm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(o){console.error(o)}}return c(),hu.exports=C0(),hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function E0(){if(km)return bi;km=1;var c=N0(),o=Cu(),d=Xm();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function x(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(u(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return g(n),e;if(i===l)return g(n),t;i=i.sibling}throw Error(u(188))}if(a.return!==l.return)a=n,l=i;else{for(var r=!1,f=n.child;f;){if(f===a){r=!0,a=n,l=i;break}if(f===l){r=!0,l=n,a=i;break}f=f.sibling}if(!r){for(f=i.child;f;){if(f===a){r=!0,a=i,l=n;break}if(f===l){r=!0,l=i,a=n;break}f=f.sibling}if(!r)throw Error(u(189))}}if(a.alternate!==l)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function R(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=R(e),t!==null)return t;e=e.sibling}return null}var N=Object.assign,j=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case V:return"Profiler";case O:return"StrictMode";case Y:return"Suspense";case $:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case Z:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:Re(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return Re(e(t))}catch{}}return null}var pe=Array.isArray,T=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ge=[],xe=-1;function b(e){return{current:e}}function L(e){0>xe||(e.current=ge[xe],ge[xe]=null,xe--)}function F(e,t){xe++,ge[xe]=e.current,e.current=t}var te=b(null),me=b(null),Me=b(null),be=b(null);function Ze(e,t){switch(F(Me,t),F(me,e),F(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Xf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Xf(t),e=Zf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(te),F(te,e)}function Ge(){L(te),L(me),L(Me)}function qt(e){e.memoizedState!==null&&F(be,e);var t=te.current,a=Zf(t,e.type);t!==a&&(F(me,e),F(te,a))}function Ua(e){me.current===e&&(L(te),L(me)),be.current===e&&(L(be),hi._currentValue=ee)}var xa,hl;function Qt(e){if(xa===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);xa=t&&t[1]||"",hl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+e+hl}var I=!1;function re(e,t){if(!e||I)return"";I=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var _=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){_=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){_=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&_&&typeof H.stack=="string")return[H.stack,_.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),r=i[0],f=i[1];if(r&&f){var p=r.split(`
`),A=f.split(`
`);for(n=l=0;l<p.length&&!p[l].includes("DetermineComponentFrameRoot");)l++;for(;n<A.length&&!A[n].includes("DetermineComponentFrameRoot");)n++;if(l===p.length||n===A.length)for(l=p.length-1,n=A.length-1;1<=l&&0<=n&&p[l]!==A[n];)n--;for(;1<=l&&0<=n;l--,n--)if(p[l]!==A[n]){if(l!==1||n!==1)do if(l--,n--,0>n||p[l]!==A[n]){var U=`
`+p[l].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=l&&0<=n);break}}}finally{I=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Qt(a):""}function ye(e,t){switch(e.tag){case 26:case 27:case 5:return Qt(e.type);case 16:return Qt("Lazy");case 13:return e.child!==t&&t!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return re(e.type,!1);case 11:return re(e.type.render,!1);case 1:return re(e.type,!0);case 31:return Qt("Activity");default:return""}}function _e(e){try{var t="",a=null;do t+=ye(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ne=Object.prototype.hasOwnProperty,De=c.unstable_scheduleCallback,Ie=c.unstable_cancelCallback,gt=c.unstable_shouldYield,ia=c.unstable_requestPaint,Ke=c.unstable_now,La=c.unstable_getCurrentPriorityLevel,zt=c.unstable_ImmediatePriority,Kt=c.unstable_UserBlockingPriority,ba=c.unstable_NormalPriority,ql=c.unstable_LowPriority,da=c.unstable_IdlePriority,Ga=c.log,fa=c.unstable_setDisableYieldValue,sa=null,ot=null;function Jt(e){if(typeof Ga=="function"&&fa(e),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(sa,e)}catch{}}var Ct=Math.clz32?Math.clz32:Ws,$s=Math.log,Fs=Math.LN2;function Ws(e){return e>>>=0,e===0?32:31-($s(e)/Fs|0)|0}var yl=256,Bl=262144,Ul=4194304;function Q(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function W(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var f=l&134217727;return f!==0?(l=f&~i,l!==0?n=Q(l):(r&=f,r!==0?n=Q(r):a||(a=f&~e,a!==0&&(n=Q(a))))):(f=l&~i,f!==0?n=Q(f):r!==0?n=Q(r):a||(a=l&~e,a!==0&&(n=Q(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function le(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Be(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function we(){var e=Ul;return Ul<<=1,(Ul&62914560)===0&&(Ul=4194304),e}function ze(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function at(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ca(e,t,a,l,n,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,p=e.expirationTimes,A=e.hiddenUpdates;for(a=r&~a;0<a;){var U=31-Ct(a),X=1<<U;f[U]=0,p[U]=-1;var _=A[U];if(_!==null)for(A[U]=null,U=0;U<_.length;U++){var H=_[U];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&Tt(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Tt(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ct(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function mt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Ct(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function Is(e,t){var a=t&-t;return a=(a&42)!==0?1:Tn(a),(a&(e.suspendedLanes|t))!==0?0:a}function Tn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ps(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zu(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:hm(e.type))}function Tu(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var Ya=Math.random().toString(36).slice(2),xt="__reactFiber$"+Ya,kt="__reactProps$"+Ya,Ll="__reactContainer$"+Ya,ec="__reactEvents$"+Ya,uh="__reactListeners$"+Ya,oh="__reactHandles$"+Ya,ku="__reactResources$"+Ya,kn="__reactMarker$"+Ya;function tc(e){delete e[xt],delete e[kt],delete e[ec],delete e[uh],delete e[oh]}function Gl(e){var t=e[xt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ll]||a[xt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=If(e);e!==null;){if(a=e[xt])return a;e=If(e)}return t}e=a,a=e.parentNode}return null}function Yl(e){if(e=e[xt]||e[Ll]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function wn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Vl(e){var t=e[ku];return t||(t=e[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[kn]=!0}var wu=new Set,Au={};function pl(e,t){Xl(e,t),Xl(e+"Capture",t)}function Xl(e,t){for(Au[e]=t,e=0;e<t.length;e++)wu.add(t[e])}var dh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ru={},Du={};function fh(e){return Ne.call(Du,e)?!0:Ne.call(Ru,e)?!1:dh.test(e)?Du[e]=!0:(Ru[e]=!0,!1)}function zi(e,t,a){if(fh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ti(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function va(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _u(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mh(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ac(e){if(!e._valueTracker){var t=_u(e)?"checked":"value";e._valueTracker=mh(e,t,""+e[t])}}function Ou(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=_u(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function ki(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hh=/[\n"\\]/g;function Ft(e){return e.replace(hh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function lc(e,t,a,l,n,i,r,f){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$t(t)):e.value!==""+$t(t)&&(e.value=""+$t(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?nc(e,r,$t(t)):a!=null?nc(e,r,$t(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+$t(f):e.removeAttribute("name")}function Hu(e,t,a,l,n,i,r,f){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){ac(e);return}a=a!=null?""+$t(a):"",t=t!=null?""+$t(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=f?e.checked:!!l,e.defaultChecked=!!l,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),ac(e)}function nc(e,t,a){t==="number"&&ki(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Zl(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+$t(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function qu(e,t,a){if(t!=null&&(t=""+$t(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+$t(a):""}function Bu(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(u(92));if(pe(l)){if(1<l.length)throw Error(u(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=$t(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ac(e)}function Ql(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var yh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||yh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Lu(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&Uu(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&Uu(e,i,t[i])}function ic(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wi(e){return gh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ma(){}var sc=null;function cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kl=null,Jl=null;function Gu(e){var t=Yl(e);if(t&&(e=t.stateNode)){var a=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(lc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[kt]||null;if(!n)throw Error(u(90));lc(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Ou(l)}break e;case"textarea":qu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Zl(e,!!a.multiple,t,!1)}}}var rc=!1;function Yu(e,t,a){if(rc)return e(t,a);rc=!0;try{var l=e(t);return l}finally{if(rc=!1,(Kl!==null||Jl!==null)&&(gs(),Kl&&(t=Kl,e=Jl,Jl=Kl=null,Gu(t),e)))for(t=0;t<e.length;t++)Gu(e[t])}}function An(e,t){var a=e.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=!1;if(Sa)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){uc=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{uc=!1}var Va=null,oc=null,Ai=null;function Vu(){if(Ai)return Ai;var e,t=oc,a=t.length,l,n="value"in Va?Va.value:Va.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var r=a-e;for(l=1;l<=r&&t[a-l]===n[i-l];l++);return Ai=n.slice(e,1<l?1-l:void 0)}function Ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Xu(){return!1}function wt(e){function t(a,l,n,i,r){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Di:Xu,this.isPropagationStopped=Xu,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),t}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=wt(gl),Dn=N({},gl,{view:0,detail:0}),xh=wt(Dn),dc,fc,_n,Oi=N({},Dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_n&&(_n&&e.type==="mousemove"?(dc=e.screenX-_n.screenX,fc=e.screenY-_n.screenY):fc=dc=0,_n=e),dc)},movementY:function(e){return"movementY"in e?e.movementY:fc}}),Zu=wt(Oi),bh=N({},Oi,{dataTransfer:0}),vh=wt(bh),Mh=N({},Dn,{relatedTarget:0}),mc=wt(Mh),Sh=N({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),jh=wt(Sh),Nh=N({},gl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ch=wt(Nh),Eh=N({},gl,{data:0}),Qu=wt(Eh),zh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kh[e])?!!t[e]:!1}function hc(){return wh}var Ah=N({},Dn,{key:function(e){if(e.key){var t=zh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Th[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hc,charCode:function(e){return e.type==="keypress"?Ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rh=wt(Ah),Dh=N({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=wt(Dh),_h=N({},Dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hc}),Oh=wt(_h),Hh=N({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qh=wt(Hh),Bh=N({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uh=wt(Bh),Lh=N({},gl,{newState:0,oldState:0}),Gh=wt(Lh),Yh=[9,13,27,32],yc=Sa&&"CompositionEvent"in window,On=null;Sa&&"documentMode"in document&&(On=document.documentMode);var Vh=Sa&&"TextEvent"in window&&!On,Ju=Sa&&(!yc||On&&8<On&&11>=On),$u=" ",Fu=!1;function Wu(e,t){switch(e){case"keyup":return Yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $l=!1;function Xh(e,t){switch(e){case"compositionend":return Iu(t);case"keypress":return t.which!==32?null:(Fu=!0,$u);case"textInput":return e=t.data,e===$u&&Fu?null:e;default:return null}}function Zh(e,t){if($l)return e==="compositionend"||!yc&&Wu(e,t)?(e=Vu(),Ai=oc=Va=null,$l=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ju&&t.locale!=="ko"?null:t.data;default:return null}}var Qh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qh[e.type]:t==="textarea"}function eo(e,t,a,l){Kl?Jl?Jl.push(l):Jl=[l]:Kl=l,t=Ns(t,"onChange"),0<t.length&&(a=new _i("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Hn=null,qn=null;function Kh(e){Bf(e,0)}function Hi(e){var t=wn(e);if(Ou(t))return e}function to(e,t){if(e==="change")return t}var ao=!1;if(Sa){var pc;if(Sa){var gc="oninput"in document;if(!gc){var lo=document.createElement("div");lo.setAttribute("oninput","return;"),gc=typeof lo.oninput=="function"}pc=gc}else pc=!1;ao=pc&&(!document.documentMode||9<document.documentMode)}function no(){Hn&&(Hn.detachEvent("onpropertychange",io),qn=Hn=null)}function io(e){if(e.propertyName==="value"&&Hi(qn)){var t=[];eo(t,qn,e,cc(e)),Yu(Kh,t)}}function Jh(e,t,a){e==="focusin"?(no(),Hn=t,qn=a,Hn.attachEvent("onpropertychange",io)):e==="focusout"&&no()}function $h(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hi(qn)}function Fh(e,t){if(e==="click")return Hi(t)}function Wh(e,t){if(e==="input"||e==="change")return Hi(t)}function Ih(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Ih;function Bn(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Ne.call(t,n)||!Bt(e[n],t[n]))return!1}return!0}function so(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function co(e,t){var a=so(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=so(a)}}function ro(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ro(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ki(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ki(e.document)}return t}function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ph=Sa&&"documentMode"in document&&11>=document.documentMode,Fl=null,bc=null,Un=null,vc=!1;function oo(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vc||Fl==null||Fl!==ki(l)||(l=Fl,"selectionStart"in l&&xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Un&&Bn(Un,l)||(Un=l,l=Ns(bc,"onSelect"),0<l.length&&(t=new _i("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Fl)))}function xl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Wl={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionrun:xl("Transition","TransitionRun"),transitionstart:xl("Transition","TransitionStart"),transitioncancel:xl("Transition","TransitionCancel"),transitionend:xl("Transition","TransitionEnd")},Mc={},fo={};Sa&&(fo=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function bl(e){if(Mc[e])return Mc[e];if(!Wl[e])return e;var t=Wl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in fo)return Mc[e]=t[a];return e}var mo=bl("animationend"),ho=bl("animationiteration"),yo=bl("animationstart"),e1=bl("transitionrun"),t1=bl("transitionstart"),a1=bl("transitioncancel"),po=bl("transitionend"),go=new Map,Sc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sc.push("scrollEnd");function ra(e,t){go.set(e,t),pl(t,[e])}var qi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],Il=0,jc=0;function Bi(){for(var e=Il,t=jc=Il=0;t<e;){var a=Wt[t];Wt[t++]=null;var l=Wt[t];Wt[t++]=null;var n=Wt[t];Wt[t++]=null;var i=Wt[t];if(Wt[t++]=null,l!==null&&n!==null){var r=l.pending;r===null?n.next=n:(n.next=r.next,r.next=n),l.pending=n}i!==0&&xo(a,n,i)}}function Ui(e,t,a,l){Wt[Il++]=e,Wt[Il++]=t,Wt[Il++]=a,Wt[Il++]=l,jc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Nc(e,t,a,l){return Ui(e,t,a,l),Li(e)}function vl(e,t){return Ui(e,null,null,t),Li(e)}function xo(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Ct(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),i):null}function Li(e){if(50<ci)throw ci=0,Dr=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pl={};function l1(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,a,l){return new l1(e,t,a,l)}function Cc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ja(e,t){var a=e.alternate;return a===null?(a=Ut(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function bo(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gi(e,t,a,l,n,i){var r=0;if(l=e,typeof e=="function")Cc(e)&&(r=1);else if(typeof e=="string")r=r0(e,a,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=Ut(31,a,t,n),e.elementType=ue,e.lanes=i,e;case D:return Ml(a.children,n,i,t);case O:r=8,n|=24;break;case V:return e=Ut(12,a,t,n|2),e.elementType=V,e.lanes=i,e;case Y:return e=Ut(13,a,t,n),e.elementType=Y,e.lanes=i,e;case $:return e=Ut(19,a,t,n),e.elementType=$,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:r=10;break e;case B:r=9;break e;case v:r=11;break e;case z:r=14;break e;case P:r=16,l=null;break e}r=29,a=Error(u(130,e===null?"null":typeof e,"")),l=null}return t=Ut(r,a,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function Ml(e,t,a,l){return e=Ut(7,e,l,t),e.lanes=a,e}function Ec(e,t,a){return e=Ut(6,e,null,t),e.lanes=a,e}function vo(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function zc(e,t,a){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Mo=new WeakMap;function It(e,t){if(typeof e=="object"&&e!==null){var a=Mo.get(e);return a!==void 0?a:(t={value:e,source:t,stack:_e(t)},Mo.set(e,t),t)}return{value:e,source:t,stack:_e(t)}}var en=[],tn=0,Yi=null,Ln=0,Pt=[],ea=0,Xa=null,ma=1,ha="";function Na(e,t){en[tn++]=Ln,en[tn++]=Yi,Yi=e,Ln=t}function So(e,t,a){Pt[ea++]=ma,Pt[ea++]=ha,Pt[ea++]=Xa,Xa=e;var l=ma;e=ha;var n=32-Ct(l)-1;l&=~(1<<n),a+=1;var i=32-Ct(t)+n;if(30<i){var r=n-n%5;i=(l&(1<<r)-1).toString(32),l>>=r,n-=r,ma=1<<32-Ct(t)+n|a<<n|l,ha=i+e}else ma=1<<i|a<<n|l,ha=e}function Tc(e){e.return!==null&&(Na(e,1),So(e,1,0))}function kc(e){for(;e===Yi;)Yi=en[--tn],en[tn]=null,Ln=en[--tn],en[tn]=null;for(;e===Xa;)Xa=Pt[--ea],Pt[ea]=null,ha=Pt[--ea],Pt[ea]=null,ma=Pt[--ea],Pt[ea]=null}function jo(e,t){Pt[ea++]=ma,Pt[ea++]=ha,Pt[ea++]=Xa,ma=t.id,ha=t.overflow,Xa=e}var bt=null,$e=null,Ae=!1,Za=null,ta=!1,wc=Error(u(519));function Qa(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gn(It(t,e)),wc}function No(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[xt]=e,t[kt]=l,a){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(a=0;a<ui.length;a++)Ee(ui[a],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Hu(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),Bu(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Yf(t.textContent,a)?(l.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),l.onScroll!=null&&Ee("scroll",t),l.onScrollEnd!=null&&Ee("scrollend",t),l.onClick!=null&&(t.onclick=Ma),t=!0):t=!1,t||Qa(e,!0)}function Co(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:ta=!1;return;case 27:case 3:ta=!0;return;default:bt=bt.return}}function an(e){if(e!==bt)return!1;if(!Ae)return Co(e),Ae=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jr(e.type,e.memoizedProps)),a=!a),a&&$e&&Qa(e),Co(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));$e=Wf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));$e=Wf(e)}else t===27?(t=$e,sl(e.type)?(e=Pr,Pr=null,$e=e):$e=t):$e=bt?la(e.stateNode.nextSibling):null;return!0}function Sl(){$e=bt=null,Ae=!1}function Ac(){var e=Za;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Za=null),e}function Gn(e){Za===null?Za=[e]:Za.push(e)}var Rc=b(null),jl=null,Ca=null;function Ka(e,t,a){F(Rc,t._currentValue),t._currentValue=a}function Ea(e){e._currentValue=Rc.current,L(Rc)}function Dc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function _c(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var f=i;i=n;for(var p=0;p<t.length;p++)if(f.context===t[p]){i.lanes|=a,f=i.alternate,f!==null&&(f.lanes|=a),Dc(i.return,a,e),l||(r=null);break e}i=f.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(u(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),Dc(r,a,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function ln(e,t,a,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(u(387));if(r=r.memoizedProps,r!==null){var f=n.type;Bt(n.pendingProps.value,r.value)||(e!==null?e.push(f):e=[f])}}else if(n===be.current){if(r=n.alternate,r===null)throw Error(u(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(hi):e=[hi])}n=n.return}e!==null&&_c(t,e,a,l),t.flags|=262144}function Vi(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nl(e){jl=e,Ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return Eo(jl,e)}function Xi(e,t){return jl===null&&Nl(e),Eo(e,t)}function Eo(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ca===null){if(e===null)throw Error(u(308));Ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ca=Ca.next=t;return a}var n1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},i1=c.unstable_scheduleCallback,s1=c.unstable_NormalPriority,it={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new n1,data:new Map,refCount:0}}function Yn(e){e.refCount--,e.refCount===0&&i1(s1,function(){e.controller.abort()})}var Vn=null,Hc=0,nn=0,sn=null;function c1(e,t){if(Vn===null){var a=Vn=[];Hc=0,nn=Ur(),sn={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hc++,t.then(zo,zo),t}function zo(){if(--Hc===0&&Vn!==null){sn!==null&&(sn.status="fulfilled");var e=Vn;Vn=null,nn=0,sn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function r1(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var To=T.S;T.S=function(e,t){ff=Ke(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&c1(e,t),To!==null&&To(e,t)};var Cl=b(null);function qc(){var e=Cl.current;return e!==null?e:Qe.pooledCache}function Zi(e,t){t===null?F(Cl,Cl.current):F(Cl,t.pool)}function ko(){var e=qc();return e===null?null:{parent:it._currentValue,pool:e}}var cn=Error(u(460)),Bc=Error(u(474)),Qi=Error(u(542)),Ki={then:function(){}};function wo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ao(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ma,Ma),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Do(e),e;default:if(typeof t.status=="string")t.then(Ma,Ma);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Do(e),e}throw zl=t,cn}}function El(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zl=a,cn):a}}var zl=null;function Ro(){if(zl===null)throw Error(u(459));var e=zl;return zl=null,e}function Do(e){if(e===cn||e===Qi)throw Error(u(483))}var rn=null,Xn=0;function Ji(e){var t=Xn;return Xn+=1,rn===null&&(rn=[]),Ao(rn,e,t)}function Zn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $i(e,t){throw t.$$typeof===j?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function _o(e){function t(C,M){if(e){var k=C.deletions;k===null?(C.deletions=[M],C.flags|=16):k.push(M)}}function a(C,M){if(!e)return null;for(;M!==null;)t(C,M),M=M.sibling;return null}function l(C){for(var M=new Map;C!==null;)C.key!==null?M.set(C.key,C):M.set(C.index,C),C=C.sibling;return M}function n(C,M){return C=ja(C,M),C.index=0,C.sibling=null,C}function i(C,M,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<M?(C.flags|=67108866,M):k):(C.flags|=67108866,M)):(C.flags|=1048576,M)}function r(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function f(C,M,k,G){return M===null||M.tag!==6?(M=Ec(k,C.mode,G),M.return=C,M):(M=n(M,k),M.return=C,M)}function p(C,M,k,G){var oe=k.type;return oe===D?U(C,M,k.props.children,G,k.key):M!==null&&(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===P&&El(oe)===M.type)?(M=n(M,k.props),Zn(M,k),M.return=C,M):(M=Gi(k.type,k.key,k.props,null,C.mode,G),Zn(M,k),M.return=C,M)}function A(C,M,k,G){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=zc(k,C.mode,G),M.return=C,M):(M=n(M,k.children||[]),M.return=C,M)}function U(C,M,k,G,oe){return M===null||M.tag!==7?(M=Ml(k,C.mode,G,oe),M.return=C,M):(M=n(M,k),M.return=C,M)}function X(C,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ec(""+M,C.mode,k),M.return=C,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return k=Gi(M.type,M.key,M.props,null,C.mode,k),Zn(k,M),k.return=C,k;case q:return M=zc(M,C.mode,k),M.return=C,M;case P:return M=El(M),X(C,M,k)}if(pe(M)||J(M))return M=Ml(M,C.mode,k,null),M.return=C,M;if(typeof M.then=="function")return X(C,Ji(M),k);if(M.$$typeof===Z)return X(C,Xi(C,M),k);$i(C,M)}return null}function _(C,M,k,G){var oe=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return oe!==null?null:f(C,M,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return k.key===oe?p(C,M,k,G):null;case q:return k.key===oe?A(C,M,k,G):null;case P:return k=El(k),_(C,M,k,G)}if(pe(k)||J(k))return oe!==null?null:U(C,M,k,G,null);if(typeof k.then=="function")return _(C,M,Ji(k),G);if(k.$$typeof===Z)return _(C,M,Xi(C,k),G);$i(C,k)}return null}function H(C,M,k,G,oe){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return C=C.get(k)||null,f(M,C,""+G,oe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return C=C.get(G.key===null?k:G.key)||null,p(M,C,G,oe);case q:return C=C.get(G.key===null?k:G.key)||null,A(M,C,G,oe);case P:return G=El(G),H(C,M,k,G,oe)}if(pe(G)||J(G))return C=C.get(k)||null,U(M,C,G,oe,null);if(typeof G.then=="function")return H(C,M,k,Ji(G),oe);if(G.$$typeof===Z)return H(C,M,k,Xi(M,G),oe);$i(M,G)}return null}function ne(C,M,k,G){for(var oe=null,Oe=null,ce=M,je=M=0,ke=null;ce!==null&&je<k.length;je++){ce.index>je?(ke=ce,ce=null):ke=ce.sibling;var He=_(C,ce,k[je],G);if(He===null){ce===null&&(ce=ke);break}e&&ce&&He.alternate===null&&t(C,ce),M=i(He,M,je),Oe===null?oe=He:Oe.sibling=He,Oe=He,ce=ke}if(je===k.length)return a(C,ce),Ae&&Na(C,je),oe;if(ce===null){for(;je<k.length;je++)ce=X(C,k[je],G),ce!==null&&(M=i(ce,M,je),Oe===null?oe=ce:Oe.sibling=ce,Oe=ce);return Ae&&Na(C,je),oe}for(ce=l(ce);je<k.length;je++)ke=H(ce,C,je,k[je],G),ke!==null&&(e&&ke.alternate!==null&&ce.delete(ke.key===null?je:ke.key),M=i(ke,M,je),Oe===null?oe=ke:Oe.sibling=ke,Oe=ke);return e&&ce.forEach(function(dl){return t(C,dl)}),Ae&&Na(C,je),oe}function fe(C,M,k,G){if(k==null)throw Error(u(151));for(var oe=null,Oe=null,ce=M,je=M=0,ke=null,He=k.next();ce!==null&&!He.done;je++,He=k.next()){ce.index>je?(ke=ce,ce=null):ke=ce.sibling;var dl=_(C,ce,He.value,G);if(dl===null){ce===null&&(ce=ke);break}e&&ce&&dl.alternate===null&&t(C,ce),M=i(dl,M,je),Oe===null?oe=dl:Oe.sibling=dl,Oe=dl,ce=ke}if(He.done)return a(C,ce),Ae&&Na(C,je),oe;if(ce===null){for(;!He.done;je++,He=k.next())He=X(C,He.value,G),He!==null&&(M=i(He,M,je),Oe===null?oe=He:Oe.sibling=He,Oe=He);return Ae&&Na(C,je),oe}for(ce=l(ce);!He.done;je++,He=k.next())He=H(ce,C,je,He.value,G),He!==null&&(e&&He.alternate!==null&&ce.delete(He.key===null?je:He.key),M=i(He,M,je),Oe===null?oe=He:Oe.sibling=He,Oe=He);return e&&ce.forEach(function(b0){return t(C,b0)}),Ae&&Na(C,je),oe}function Xe(C,M,k,G){if(typeof k=="object"&&k!==null&&k.type===D&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case E:e:{for(var oe=k.key;M!==null;){if(M.key===oe){if(oe=k.type,oe===D){if(M.tag===7){a(C,M.sibling),G=n(M,k.props.children),G.return=C,C=G;break e}}else if(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===P&&El(oe)===M.type){a(C,M.sibling),G=n(M,k.props),Zn(G,k),G.return=C,C=G;break e}a(C,M);break}else t(C,M);M=M.sibling}k.type===D?(G=Ml(k.props.children,C.mode,G,k.key),G.return=C,C=G):(G=Gi(k.type,k.key,k.props,null,C.mode,G),Zn(G,k),G.return=C,C=G)}return r(C);case q:e:{for(oe=k.key;M!==null;){if(M.key===oe)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){a(C,M.sibling),G=n(M,k.children||[]),G.return=C,C=G;break e}else{a(C,M);break}else t(C,M);M=M.sibling}G=zc(k,C.mode,G),G.return=C,C=G}return r(C);case P:return k=El(k),Xe(C,M,k,G)}if(pe(k))return ne(C,M,k,G);if(J(k)){if(oe=J(k),typeof oe!="function")throw Error(u(150));return k=oe.call(k),fe(C,M,k,G)}if(typeof k.then=="function")return Xe(C,M,Ji(k),G);if(k.$$typeof===Z)return Xe(C,M,Xi(C,k),G);$i(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(a(C,M.sibling),G=n(M,k),G.return=C,C=G):(a(C,M),G=Ec(k,C.mode,G),G.return=C,C=G),r(C)):a(C,M)}return function(C,M,k,G){try{Xn=0;var oe=Xe(C,M,k,G);return rn=null,oe}catch(ce){if(ce===cn||ce===Qi)throw ce;var Oe=Ut(29,ce,null,C.mode);return Oe.lanes=G,Oe.return=C,Oe}finally{}}}var Tl=_o(!0),Oo=_o(!1),Ja=!1;function Uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=Li(e),xo(e,null,a),t}return Ui(e,l,t,a),Li(e)}function Qn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,mt(e,a)}}function Gc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Yc=!1;function Kn(){if(Yc){var e=sn;if(e!==null)throw e}}function Jn(e,t,a,l){Yc=!1;var n=e.updateQueue;Ja=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,f=n.shared.pending;if(f!==null){n.shared.pending=null;var p=f,A=p.next;p.next=null,r===null?i=A:r.next=A,r=p;var U=e.alternate;U!==null&&(U=U.updateQueue,f=U.lastBaseUpdate,f!==r&&(f===null?U.firstBaseUpdate=A:f.next=A,U.lastBaseUpdate=p))}if(i!==null){var X=n.baseState;r=0,U=A=p=null,f=i;do{var _=f.lane&-536870913,H=_!==f.lane;if(H?(Te&_)===_:(l&_)===_){_!==0&&_===nn&&(Yc=!0),U!==null&&(U=U.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var ne=e,fe=f;_=t;var Xe=a;switch(fe.tag){case 1:if(ne=fe.payload,typeof ne=="function"){X=ne.call(Xe,X,_);break e}X=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=fe.payload,_=typeof ne=="function"?ne.call(Xe,X,_):ne,_==null)break e;X=N({},X,_);break e;case 2:Ja=!0}}_=f.callback,_!==null&&(e.flags|=64,H&&(e.flags|=8192),H=n.callbacks,H===null?n.callbacks=[_]:H.push(_))}else H={lane:_,tag:f.tag,payload:f.payload,callback:f.callback,next:null},U===null?(A=U=H,p=X):U=U.next=H,r|=_;if(f=f.next,f===null){if(f=n.shared.pending,f===null)break;H=f,f=H.next,H.next=null,n.lastBaseUpdate=H,n.shared.pending=null}}while(!0);U===null&&(p=X),n.baseState=p,n.firstBaseUpdate=A,n.lastBaseUpdate=U,i===null&&(n.shared.lanes=0),tl|=r,e.lanes=r,e.memoizedState=X}}function Ho(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function qo(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ho(a[e],t)}var un=b(null),Fi=b(0);function Bo(e,t){e=Oa,F(Fi,e),F(un,t),Oa=e|t.baseLanes}function Vc(){F(Fi,Oa),F(un,un.current)}function Xc(){Oa=Fi.current,L(un),L(Fi)}var Lt=b(null),aa=null;function Wa(e){var t=e.alternate;F(lt,lt.current&1),F(Lt,e),aa===null&&(t===null||un.current!==null||t.memoizedState!==null)&&(aa=e)}function Zc(e){F(lt,lt.current),F(Lt,e),aa===null&&(aa=e)}function Uo(e){e.tag===22?(F(lt,lt.current),F(Lt,e),aa===null&&(aa=e)):Ia()}function Ia(){F(lt,lt.current),F(Lt,Lt.current)}function Gt(e){L(Lt),aa===e&&(aa=null),L(lt)}var lt=b(0);function Wi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wr(a)||Ir(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var za=0,Se=null,Ye=null,st=null,Ii=!1,on=!1,kl=!1,Pi=0,$n=0,dn=null,u1=0;function Pe(){throw Error(u(321))}function Qc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Bt(e[a],t[a]))return!1;return!0}function Kc(e,t,a,l,n,i){return za=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?Sd:rr,kl=!1,i=a(l,n),kl=!1,on&&(i=Go(t,a,l,n)),Lo(e),i}function Lo(e){T.H=In;var t=Ye!==null&&Ye.next!==null;if(za=0,st=Ye=Se=null,Ii=!1,$n=0,dn=null,t)throw Error(u(300));e===null||ct||(e=e.dependencies,e!==null&&Vi(e)&&(ct=!0))}function Go(e,t,a,l){Se=e;var n=0;do{if(on&&(dn=null),$n=0,on=!1,25<=n)throw Error(u(301));if(n+=1,st=Ye=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}T.H=jd,i=t(a,l)}while(on);return i}function o1(){var e=T.H,t=e.useState()[0];return t=typeof t.then=="function"?Fn(t):t,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Se.flags|=1024),t}function Jc(){var e=Pi!==0;return Pi=0,e}function $c(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Fc(e){if(Ii){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ii=!1}za=0,st=Ye=Se=null,on=!1,$n=Pi=0,dn=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Se.memoizedState=st=e:st=st.next=e,st}function nt(){if(Ye===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=st===null?Se.memoizedState:st.next;if(t!==null)st=t,Ye=e;else{if(e===null)throw Se.alternate===null?Error(u(467)):Error(u(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},st===null?Se.memoizedState=st=e:st=st.next=e}return st}function es(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fn(e){var t=$n;return $n+=1,dn===null&&(dn=[]),e=Ao(dn,e,t),t=Se,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?Sd:rr),e}function ts(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fn(e);if(e.$$typeof===Z)return vt(e)}throw Error(u(438,String(e)))}function Wc(e){var t=null,a=Se.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=es(),Se.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=ie;return t.index++,a}function Ta(e,t){return typeof t=="function"?t(e):t}function as(e){var t=nt();return Ic(t,Ye,e)}function Ic(e,t,a){var l=e.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var f=r=null,p=null,A=t,U=!1;do{var X=A.lane&-536870913;if(X!==A.lane?(Te&X)===X:(za&X)===X){var _=A.revertLane;if(_===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),X===nn&&(U=!0);else if((za&_)===_){A=A.next,_===nn&&(U=!0);continue}else X={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},p===null?(f=p=X,r=i):p=p.next=X,Se.lanes|=_,tl|=_;X=A.action,kl&&a(i,X),i=A.hasEagerState?A.eagerState:a(i,X)}else _={lane:X,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},p===null?(f=p=_,r=i):p=p.next=_,Se.lanes|=X,tl|=X;A=A.next}while(A!==null&&A!==t);if(p===null?r=i:p.next=f,!Bt(i,e.memoizedState)&&(ct=!0,U&&(a=sn,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=p,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Pc(e){var t=nt(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);Bt(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function Yo(e,t,a){var l=Se,n=nt(),i=Ae;if(i){if(a===void 0)throw Error(u(407));a=a()}else a=t();var r=!Bt((Ye||n).memoizedState,a);if(r&&(n.memoizedState=a,ct=!0),n=n.queue,ar(Zo.bind(null,l,n,e),[e]),n.getSnapshot!==t||r||st!==null&&st.memoizedState.tag&1){if(l.flags|=2048,fn(9,{destroy:void 0},Xo.bind(null,l,n,a,t),null),Qe===null)throw Error(u(349));i||(za&127)!==0||Vo(l,t,a)}return a}function Vo(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Se.updateQueue,t===null?(t=es(),Se.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Xo(e,t,a,l){t.value=a,t.getSnapshot=l,Qo(t)&&Ko(e)}function Zo(e,t,a){return a(function(){Qo(t)&&Ko(e)})}function Qo(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Bt(e,a)}catch{return!0}}function Ko(e){var t=vl(e,2);t!==null&&Ot(t,e,2)}function er(e){var t=Et();if(typeof e=="function"){var a=e;if(e=a(),kl){Jt(!0);try{a()}finally{Jt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t}function Jo(e,t,a,l){return e.baseState=a,Ic(e,Ye,typeof l=="function"?l:Ta)}function d1(e,t,a,l,n){if(is(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};T.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,$o(t,i)):(i.next=a.next,t.pending=a.next=i)}}function $o(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=T.T,r={};T.T=r;try{var f=a(n,l),p=T.S;p!==null&&p(r,f),Fo(e,t,f)}catch(A){tr(e,t,A)}finally{i!==null&&r.types!==null&&(i.types=r.types),T.T=i}}else try{i=a(n,l),Fo(e,t,i)}catch(A){tr(e,t,A)}}function Fo(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wo(e,t,l)},function(l){return tr(e,t,l)}):Wo(e,t,a)}function Wo(e,t,a){t.status="fulfilled",t.value=a,Io(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,$o(e,a)))}function tr(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Io(t),t=t.next;while(t!==l)}e.action=null}function Io(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Po(e,t){return t}function ed(e,t){if(Ae){var a=Qe.formState;if(a!==null){e:{var l=Se;if(Ae){if($e){t:{for(var n=$e,i=ta;n.nodeType!==8;){if(!i){n=null;break t}if(n=la(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){$e=la(n.nextSibling),l=n.data==="F!";break e}}Qa(l)}l=!1}l&&(t=a[0])}}return a=Et(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},a.queue=l,a=bd.bind(null,Se,l),l.dispatch=a,l=er(!1),i=cr.bind(null,Se,!1,l.queue),l=Et(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=d1.bind(null,Se,n,i,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function td(e){var t=nt();return ad(t,Ye,e)}function ad(e,t,a){if(t=Ic(e,t,Po)[0],e=as(Ta)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Fn(t)}catch(r){throw r===cn?Qi:r}else l=t;t=nt();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(Se.flags|=2048,fn(9,{destroy:void 0},f1.bind(null,n,a),null)),[l,i,e]}function f1(e,t){e.action=t}function ld(e){var t=nt(),a=Ye;if(a!==null)return ad(t,a,e);nt(),t=t.memoizedState,a=nt();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function fn(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Se.updateQueue,t===null&&(t=es(),Se.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function nd(){return nt().memoizedState}function ls(e,t,a,l){var n=Et();Se.flags|=e,n.memoizedState=fn(1|t,{destroy:void 0},a,l===void 0?null:l)}function ns(e,t,a,l){var n=nt();l=l===void 0?null:l;var i=n.memoizedState.inst;Ye!==null&&l!==null&&Qc(l,Ye.memoizedState.deps)?n.memoizedState=fn(t,i,a,l):(Se.flags|=e,n.memoizedState=fn(1|t,i,a,l))}function id(e,t){ls(8390656,8,e,t)}function ar(e,t){ns(2048,8,e,t)}function m1(e){Se.flags|=4;var t=Se.updateQueue;if(t===null)t=es(),Se.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function sd(e){var t=nt().memoizedState;return m1({ref:t,nextImpl:e}),function(){if((qe&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function cd(e,t){return ns(4,2,e,t)}function rd(e,t){return ns(4,4,e,t)}function ud(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function od(e,t,a){a=a!=null?a.concat([e]):null,ns(4,4,ud.bind(null,t,e),a)}function lr(){}function dd(e,t){var a=nt();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Qc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function fd(e,t){var a=nt();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Qc(t,l[1]))return l[0];if(l=e(),kl){Jt(!0);try{e()}finally{Jt(!1)}}return a.memoizedState=[l,t],l}function nr(e,t,a){return a===void 0||(za&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=hf(),Se.lanes|=e,tl|=e,a)}function md(e,t,a,l){return Bt(a,t)?a:un.current!==null?(e=nr(e,a,l),Bt(e,t)||(ct=!0),e):(za&42)===0||(za&1073741824)!==0&&(Te&261930)===0?(ct=!0,e.memoizedState=a):(e=hf(),Se.lanes|=e,tl|=e,t)}function hd(e,t,a,l,n){var i=K.p;K.p=i!==0&&8>i?i:8;var r=T.T,f={};T.T=f,cr(e,!1,t,a);try{var p=n(),A=T.S;if(A!==null&&A(f,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var U=r1(p,l);Wn(e,t,U,Xt(e))}else Wn(e,t,l,Xt(e))}catch(X){Wn(e,t,{then:function(){},status:"rejected",reason:X},Xt())}finally{K.p=i,r!==null&&f.types!==null&&(r.types=f.types),T.T=r}}function h1(){}function ir(e,t,a,l){if(e.tag!==5)throw Error(u(476));var n=yd(e).queue;hd(e,n,t,ee,a===null?h1:function(){return pd(e),a(l)})}function yd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function pd(e){var t=yd(e);t.next===null&&(t=e.alternate.memoizedState),Wn(e,t.next.queue,{},Xt())}function sr(){return vt(hi)}function gd(){return nt().memoizedState}function xd(){return nt().memoizedState}function y1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Xt();e=$a(a);var l=Fa(t,e,a);l!==null&&(Ot(l,t,a),Qn(l,t,a)),t={cache:Oc()},e.payload=t;return}t=t.return}}function p1(e,t,a){var l=Xt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},is(e)?vd(t,a):(a=Nc(e,t,a,l),a!==null&&(Ot(a,e,l),Md(a,t,l)))}function bd(e,t,a){var l=Xt();Wn(e,t,a,l)}function Wn(e,t,a,l){var n={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(is(e))vd(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,f=i(r,a);if(n.hasEagerState=!0,n.eagerState=f,Bt(f,r))return Ui(e,t,n,0),Qe===null&&Bi(),!1}catch{}finally{}if(a=Nc(e,t,n,l),a!==null)return Ot(a,e,l),Md(a,t,l),!0}return!1}function cr(e,t,a,l){if(l={lane:2,revertLane:Ur(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},is(e)){if(t)throw Error(u(479))}else t=Nc(e,a,l,2),t!==null&&Ot(t,e,2)}function is(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function vd(e,t){on=Ii=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Md(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,mt(e,a)}}var In={readContext:vt,use:ts,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};In.useEffectEvent=Pe;var Sd={readContext:vt,use:ts,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:id,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ls(4194308,4,ud.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ls(4194308,4,e,t)},useInsertionEffect:function(e,t){ls(4,2,e,t)},useMemo:function(e,t){var a=Et();t=t===void 0?null:t;var l=e();if(kl){Jt(!0);try{e()}finally{Jt(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Et();if(a!==void 0){var n=a(t);if(kl){Jt(!0);try{a(t)}finally{Jt(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=p1.bind(null,Se,e),[l.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=er(e);var t=e.queue,a=bd.bind(null,Se,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:lr,useDeferredValue:function(e,t){var a=Et();return nr(a,e,t)},useTransition:function(){var e=er(!1);return e=hd.bind(null,Se,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Se,n=Et();if(Ae){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),Qe===null)throw Error(u(349));(Te&127)!==0||Vo(l,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,id(Zo.bind(null,l,i,e),[e]),l.flags|=2048,fn(9,{destroy:void 0},Xo.bind(null,l,i,a,t),null),a},useId:function(){var e=Et(),t=Qe.identifierPrefix;if(Ae){var a=ha,l=ma;a=(l&~(1<<32-Ct(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Pi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=u1++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:sr,useFormState:ed,useActionState:ed,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=cr.bind(null,Se,!0,a),a.dispatch=t,[e,t]},useMemoCache:Wc,useCacheRefresh:function(){return Et().memoizedState=y1.bind(null,Se)},useEffectEvent:function(e){var t=Et(),a={impl:e};return t.memoizedState=a,function(){if((qe&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}},rr={readContext:vt,use:ts,useCallback:dd,useContext:vt,useEffect:ar,useImperativeHandle:od,useInsertionEffect:cd,useLayoutEffect:rd,useMemo:fd,useReducer:as,useRef:nd,useState:function(){return as(Ta)},useDebugValue:lr,useDeferredValue:function(e,t){var a=nt();return md(a,Ye.memoizedState,e,t)},useTransition:function(){var e=as(Ta)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Fn(e),t]},useSyncExternalStore:Yo,useId:gd,useHostTransitionStatus:sr,useFormState:td,useActionState:td,useOptimistic:function(e,t){var a=nt();return Jo(a,Ye,e,t)},useMemoCache:Wc,useCacheRefresh:xd};rr.useEffectEvent=sd;var jd={readContext:vt,use:ts,useCallback:dd,useContext:vt,useEffect:ar,useImperativeHandle:od,useInsertionEffect:cd,useLayoutEffect:rd,useMemo:fd,useReducer:Pc,useRef:nd,useState:function(){return Pc(Ta)},useDebugValue:lr,useDeferredValue:function(e,t){var a=nt();return Ye===null?nr(a,e,t):md(a,Ye.memoizedState,e,t)},useTransition:function(){var e=Pc(Ta)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Fn(e),t]},useSyncExternalStore:Yo,useId:gd,useHostTransitionStatus:sr,useFormState:ld,useActionState:ld,useOptimistic:function(e,t){var a=nt();return Ye!==null?Jo(a,Ye,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Wc,useCacheRefresh:xd};jd.useEffectEvent=sd;function ur(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:N({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var or={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Xt(),n=$a(l);n.payload=t,a!=null&&(n.callback=a),t=Fa(e,n,l),t!==null&&(Ot(t,e,l),Qn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Xt(),n=$a(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Fa(e,n,l),t!==null&&(Ot(t,e,l),Qn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Xt(),l=$a(a);l.tag=2,t!=null&&(l.callback=t),t=Fa(e,l,a),t!==null&&(Ot(t,e,a),Qn(t,e,a))}};function Nd(e,t,a,l,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,r):t.prototype&&t.prototype.isPureReactComponent?!Bn(a,l)||!Bn(n,i):!0}function Cd(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&or.enqueueReplaceState(t,t.state,null)}function wl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=N({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function Ed(e){qi(e)}function zd(e){console.error(e)}function Td(e){qi(e)}function ss(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function kd(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function dr(e,t,a){return a=$a(a),a.tag=3,a.payload={element:null},a.callback=function(){ss(e,t)},a}function wd(e){return e=$a(e),e.tag=3,e}function Ad(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){kd(t,a,l)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){kd(t,a,l),typeof n!="function"&&(al===null?al=new Set([this]):al.add(this));var f=l.stack;this.componentDidCatch(l.value,{componentStack:f!==null?f:""})})}function g1(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&ln(t,a,n,!0),a=Lt.current,a!==null){switch(a.tag){case 31:case 13:return aa===null?xs():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===Ki?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Hr(e,l,n)),!1;case 22:return a.flags|=65536,l===Ki?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Hr(e,l,n)),!1}throw Error(u(435,a.tag))}return Hr(e,l,n),xs(),!1}if(Ae)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==wc&&(e=Error(u(422),{cause:l}),Gn(It(e,a)))):(l!==wc&&(t=Error(u(423),{cause:l}),Gn(It(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=It(l,a),n=dr(e.stateNode,l,n),Gc(e,n),et!==4&&(et=2)),!1;var i=Error(u(520),{cause:l});if(i=It(i,a),si===null?si=[i]:si.push(i),et!==4&&(et=2),t===null)return!0;l=It(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=dr(a.stateNode,l,e),Gc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(al===null||!al.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=wd(n),Ad(n,e,a,l),Gc(a,n),!1}a=a.return}while(a!==null);return!1}var fr=Error(u(461)),ct=!1;function Mt(e,t,a,l){t.child=e===null?Oo(t,null,a,l):Tl(t,e.child,a,l)}function Rd(e,t,a,l,n){a=a.render;var i=t.ref;if("ref"in l){var r={};for(var f in l)f!=="ref"&&(r[f]=l[f])}else r=l;return Nl(t),l=Kc(e,t,a,r,i,n),f=Jc(),e!==null&&!ct?($c(e,t,n),ka(e,t,n)):(Ae&&f&&Tc(t),t.flags|=1,Mt(e,t,l,n),t.child)}function Dd(e,t,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!Cc(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,_d(e,t,i,l,n)):(e=Gi(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!vr(e,n)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:Bn,a(r,l)&&e.ref===t.ref)return ka(e,t,n)}return t.flags|=1,e=ja(i,l),e.ref=t.ref,e.return=t,t.child=e}function _d(e,t,a,l,n){if(e!==null){var i=e.memoizedProps;if(Bn(i,l)&&e.ref===t.ref)if(ct=!1,t.pendingProps=l=i,vr(e,n))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,ka(e,t,n)}return mr(e,t,a,l,n)}function Od(e,t,a,l){var n=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~i}else l=0,t.child=null;return Hd(e,t,i,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zi(t,i!==null?i.cachePool:null),i!==null?Bo(t,i):Vc(),Uo(t);else return l=t.lanes=536870912,Hd(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(Zi(t,i.cachePool),Bo(t,i),Ia(),t.memoizedState=null):(e!==null&&Zi(t,null),Vc(),Ia());return Mt(e,t,n,a),t.child}function Pn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Hd(e,t,a,l,n){var i=qc();return i=i===null?null:{parent:it._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Zi(t,null),Vc(),Uo(t),e!==null&&ln(e,t,l,!0),t.childLanes=n,null}function cs(e,t){return t=us({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qd(e,t,a){return Tl(t,e.child,null,a),e=cs(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function x1(e,t,a){var l=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(l.mode==="hidden")return e=cs(t,l),t.lanes=536870912,Pn(null,e);if(Zc(t),(e=$e)?(e=Ff(e,ta),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:ma,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},a=vo(e),a.return=t,t.child=a,bt=t,$e=null)):e=null,e===null)throw Qa(t);return t.lanes=536870912,null}return cs(t,l)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Zc(t),n)if(t.flags&256)t.flags&=-257,t=qd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(ct||ln(e,t,a,!1),n=(a&e.childLanes)!==0,ct||n){if(l=Qe,l!==null&&(r=Is(l,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,vl(e,r),Ot(l,e,r),fr;xs(),t=qd(e,t,a)}else e=i.treeContext,$e=la(r.nextSibling),bt=t,Ae=!0,Za=null,ta=!1,e!==null&&jo(t,e),t=cs(t,l),t.flags|=4096;return t}return e=ja(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function rs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function mr(e,t,a,l,n){return Nl(t),a=Kc(e,t,a,l,void 0,n),l=Jc(),e!==null&&!ct?($c(e,t,n),ka(e,t,n)):(Ae&&l&&Tc(t),t.flags|=1,Mt(e,t,a,n),t.child)}function Bd(e,t,a,l,n,i){return Nl(t),t.updateQueue=null,a=Go(t,l,a,n),Lo(e),l=Jc(),e!==null&&!ct?($c(e,t,i),ka(e,t,i)):(Ae&&l&&Tc(t),t.flags|=1,Mt(e,t,a,i),t.child)}function Ud(e,t,a,l,n){if(Nl(t),t.stateNode===null){var i=Pl,r=a.contextType;typeof r=="object"&&r!==null&&(i=vt(r)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=or,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Uc(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?vt(r):Pl,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(ur(t,a,r,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&or.enqueueReplaceState(i,i.state,null),Jn(t,l,i,n),Kn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var f=t.memoizedProps,p=wl(a,f);i.props=p;var A=i.context,U=a.contextType;r=Pl,typeof U=="object"&&U!==null&&(r=vt(U));var X=a.getDerivedStateFromProps;U=typeof X=="function"||typeof i.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,U||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f||A!==r)&&Cd(t,i,l,r),Ja=!1;var _=t.memoizedState;i.state=_,Jn(t,l,i,n),Kn(),A=t.memoizedState,f||_!==A||Ja?(typeof X=="function"&&(ur(t,a,X,l),A=t.memoizedState),(p=Ja||Nd(t,a,p,l,_,A,r))?(U||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=A),i.props=l,i.state=A,i.context=r,l=p):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Lc(e,t),r=t.memoizedProps,U=wl(a,r),i.props=U,X=t.pendingProps,_=i.context,A=a.contextType,p=Pl,typeof A=="object"&&A!==null&&(p=vt(A)),f=a.getDerivedStateFromProps,(A=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==X||_!==p)&&Cd(t,i,l,p),Ja=!1,_=t.memoizedState,i.state=_,Jn(t,l,i,n),Kn();var H=t.memoizedState;r!==X||_!==H||Ja||e!==null&&e.dependencies!==null&&Vi(e.dependencies)?(typeof f=="function"&&(ur(t,a,f,l),H=t.memoizedState),(U=Ja||Nd(t,a,U,l,_,H,p)||e!==null&&e.dependencies!==null&&Vi(e.dependencies))?(A||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,H,p),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,H,p)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=H),i.props=l,i.state=H,i.context=p,l=U):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,rs(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Tl(t,e.child,null,n),t.child=Tl(t,null,a,n)):Mt(e,t,a,n),t.memoizedState=i.state,e=t.child):e=ka(e,t,n),e}function Ld(e,t,a,l){return Sl(),t.flags|=256,Mt(e,t,a,l),t.child}var hr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yr(e){return{baseLanes:e,cachePool:ko()}}function pr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Vt),e}function Gd(e,t,a){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(n?Wa(t):Ia(),(e=$e)?(e=Ff(e,ta),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:ma,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},a=vo(e),a.return=t,t.child=a,bt=t,$e=null)):e=null,e===null)throw Qa(t);return Ir(e)?t.lanes=32:t.lanes=536870912,null}var f=l.children;return l=l.fallback,n?(Ia(),n=t.mode,f=us({mode:"hidden",children:f},n),l=Ml(l,n,a,null),f.return=t,l.return=t,f.sibling=l,t.child=f,l=t.child,l.memoizedState=yr(a),l.childLanes=pr(e,r,a),t.memoizedState=hr,Pn(null,l)):(Wa(t),gr(t,f))}var p=e.memoizedState;if(p!==null&&(f=p.dehydrated,f!==null)){if(i)t.flags&256?(Wa(t),t.flags&=-257,t=xr(e,t,a)):t.memoizedState!==null?(Ia(),t.child=e.child,t.flags|=128,t=null):(Ia(),f=l.fallback,n=t.mode,l=us({mode:"visible",children:l.children},n),f=Ml(f,n,a,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,Tl(t,e.child,null,a),l=t.child,l.memoizedState=yr(a),l.childLanes=pr(e,r,a),t.memoizedState=hr,t=Pn(null,l));else if(Wa(t),Ir(f)){if(r=f.nextSibling&&f.nextSibling.dataset,r)var A=r.dgst;r=A,l=Error(u(419)),l.stack="",l.digest=r,Gn({value:l,source:null,stack:null}),t=xr(e,t,a)}else if(ct||ln(e,t,a,!1),r=(a&e.childLanes)!==0,ct||r){if(r=Qe,r!==null&&(l=Is(r,a),l!==0&&l!==p.retryLane))throw p.retryLane=l,vl(e,l),Ot(r,e,l),fr;Wr(f)||xs(),t=xr(e,t,a)}else Wr(f)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,$e=la(f.nextSibling),bt=t,Ae=!0,Za=null,ta=!1,e!==null&&jo(t,e),t=gr(t,l.children),t.flags|=4096);return t}return n?(Ia(),f=l.fallback,n=t.mode,p=e.child,A=p.sibling,l=ja(p,{mode:"hidden",children:l.children}),l.subtreeFlags=p.subtreeFlags&65011712,A!==null?f=ja(A,f):(f=Ml(f,n,a,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,Pn(null,l),l=t.child,f=e.child.memoizedState,f===null?f=yr(a):(n=f.cachePool,n!==null?(p=it._currentValue,n=n.parent!==p?{parent:p,pool:p}:n):n=ko(),f={baseLanes:f.baseLanes|a,cachePool:n}),l.memoizedState=f,l.childLanes=pr(e,r,a),t.memoizedState=hr,Pn(e.child,l)):(Wa(t),a=e.child,e=a.sibling,a=ja(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function gr(e,t){return t=us({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function us(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function xr(e,t,a){return Tl(t,e.child,null,a),e=gr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yd(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Dc(e.return,t,a)}function br(e,t,a,l,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=n,r.treeForkCount=i)}function Vd(e,t,a){var l=t.pendingProps,n=l.revealOrder,i=l.tail;l=l.children;var r=lt.current,f=(r&2)!==0;if(f?(r=r&1|2,t.flags|=128):r&=1,F(lt,r),Mt(e,t,l,a),l=Ae?Ln:0,!f&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yd(e,a,t);else if(e.tag===19)Yd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Wi(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),br(t,!1,n,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Wi(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}br(t,!0,a,null,i,l);break;case"together":br(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ka(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),tl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ln(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=ja(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ja(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function vr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Vi(e)))}function b1(e,t,a){switch(t.tag){case 3:Ze(t,t.stateNode.containerInfo),Ka(t,it,e.memoizedState.cache),Sl();break;case 27:case 5:qt(t);break;case 4:Ze(t,t.stateNode.containerInfo);break;case 10:Ka(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Wa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Gd(e,t,a):(Wa(t),e=ka(e,t,a),e!==null?e.sibling:null);Wa(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(ln(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Vd(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),F(lt,lt.current),l)break;return null;case 22:return t.lanes=0,Od(e,t,a,t.pendingProps);case 24:Ka(t,it,e.memoizedState.cache)}return ka(e,t,a)}function Xd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!vr(e,a)&&(t.flags&128)===0)return ct=!1,b1(e,t,a);ct=(e.flags&131072)!==0}else ct=!1,Ae&&(t.flags&1048576)!==0&&So(t,Ln,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=El(t.elementType),t.type=e,typeof e=="function")Cc(e)?(l=wl(e,l),t.tag=1,t=Ud(null,t,e,l,a)):(t.tag=0,t=mr(null,t,e,l,a));else{if(e!=null){var n=e.$$typeof;if(n===v){t.tag=11,t=Rd(null,t,e,l,a);break e}else if(n===z){t.tag=14,t=Dd(null,t,e,l,a);break e}}throw t=Re(e)||e,Error(u(306,t,""))}}return t;case 0:return mr(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=wl(l,t.pendingProps),Ud(e,t,l,n,a);case 3:e:{if(Ze(t,t.stateNode.containerInfo),e===null)throw Error(u(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,Lc(e,t),Jn(t,l,null,a);var r=t.memoizedState;if(l=r.cache,Ka(t,it,l),l!==i.cache&&_c(t,[it],a,!0),Kn(),l=r.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Ld(e,t,l,a);break e}else if(l!==n){n=It(Error(u(424)),t),Gn(n),t=Ld(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=la(e.firstChild),bt=t,Ae=!0,Za=null,ta=!0,a=Oo(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Sl(),l===n){t=ka(e,t,a);break e}Mt(e,t,l,a)}t=t.child}return t;case 26:return rs(e,t),e===null?(a=am(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ae||(a=t.type,e=t.pendingProps,l=Cs(Me.current).createElement(a),l[xt]=t,l[kt]=e,St(l,a,e),ht(l),t.stateNode=l):t.memoizedState=am(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qt(t),e===null&&Ae&&(l=t.stateNode=Pf(t.type,t.pendingProps,Me.current),bt=t,ta=!0,n=$e,sl(t.type)?(Pr=n,$e=la(l.firstChild)):$e=n),Mt(e,t,t.pendingProps.children,a),rs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((n=l=$e)&&(l=$1(l,t.type,t.pendingProps,ta),l!==null?(t.stateNode=l,bt=t,$e=la(l.firstChild),ta=!1,n=!0):n=!1),n||Qa(t)),qt(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,l=i.children,Jr(n,i)?l=null:r!==null&&Jr(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=Kc(e,t,o1,null,null,a),hi._currentValue=n),rs(e,t),Mt(e,t,l,a),t.child;case 6:return e===null&&Ae&&((e=a=$e)&&(a=F1(a,t.pendingProps,ta),a!==null?(t.stateNode=a,bt=t,$e=null,e=!0):e=!1),e||Qa(t)),null;case 13:return Gd(e,t,a);case 4:return Ze(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Tl(t,null,l,a):Mt(e,t,l,a),t.child;case 11:return Rd(e,t,t.type,t.pendingProps,a);case 7:return Mt(e,t,t.pendingProps,a),t.child;case 8:return Mt(e,t,t.pendingProps.children,a),t.child;case 12:return Mt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Ka(t,t.type,l.value),Mt(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Nl(t),n=vt(n),l=l(n),t.flags|=1,Mt(e,t,l,a),t.child;case 14:return Dd(e,t,t.type,t.pendingProps,a);case 15:return _d(e,t,t.type,t.pendingProps,a);case 19:return Vd(e,t,a);case 31:return x1(e,t,a);case 22:return Od(e,t,a,t.pendingProps);case 24:return Nl(t),l=vt(it),e===null?(n=qc(),n===null&&(n=Qe,i=Oc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:l,cache:n},Uc(t),Ka(t,it,n)):((e.lanes&a)!==0&&(Lc(e,t),Jn(t,null,null,a),Kn()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Ka(t,it,l)):(l=i.cache,Ka(t,it,l),l!==n.cache&&_c(t,[it],a,!0))),Mt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function wa(e){e.flags|=4}function Mr(e,t,a,l,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(xf())e.flags|=8192;else throw zl=Ki,Bc}else e.flags&=-16777217}function Zd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cm(t))if(xf())e.flags|=8192;else throw zl=Ki,Bc}function os(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?we():536870912,e.lanes|=t,pn|=t)}function ei(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function v1(e,t,a){var l=t.pendingProps;switch(kc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Fe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ea(it),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(an(t)?wa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ac())),Fe(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(wa(t),i!==null?(Fe(t),Zd(t,i)):(Fe(t),Mr(t,n,null,l,a))):i?i!==e.memoizedState?(wa(t),Fe(t),Zd(t,i)):(Fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&wa(t),Fe(t),Mr(t,n,e,l,a)),null;case 27:if(Ua(t),a=Me.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&wa(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return Fe(t),null}e=te.current,an(t)?No(t):(e=Pf(n,l,a),t.stateNode=e,wa(t))}return Fe(t),null;case 5:if(Ua(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&wa(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return Fe(t),null}if(i=te.current,an(t))No(t);else{var r=Cs(Me.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?r.createElement("select",{is:l.is}):r.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?r.createElement(n,{is:l.is}):r.createElement(n)}}i[xt]=t,i[kt]=l;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(St(i,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&wa(t)}}return Fe(t),Mr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&wa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(u(166));if(e=Me.current,an(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=bt,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[xt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Yf(e.nodeValue,a)),e||Qa(t,!0)}else e=Cs(e).createTextNode(l),e[xt]=t,t.stateNode=e}return Fe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=an(t),a!==null){if(e===null){if(!l)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[xt]=t}else Sl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),e=!1}else a=Ac(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Fe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=an(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(u(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(u(317));n[xt]=t}else Sl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),n=!1}else n=Ac(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),os(t,t.updateQueue),Fe(t),null);case 4:return Ge(),e===null&&Vr(t.stateNode.containerInfo),Fe(t),null;case 10:return Ea(t.type),Fe(t),null;case 19:if(L(lt),l=t.memoizedState,l===null)return Fe(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)ei(l,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Wi(e),i!==null){for(t.flags|=128,ei(l,!1),e=i.updateQueue,t.updateQueue=e,os(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)bo(a,e),a=a.sibling;return F(lt,lt.current&1|2),Ae&&Na(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ke()>ys&&(t.flags|=128,n=!0,ei(l,!1),t.lanes=4194304)}else{if(!n)if(e=Wi(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,os(t,e),ei(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Ae)return Fe(t),null}else 2*Ke()-l.renderingStartTime>ys&&a!==536870912&&(t.flags|=128,n=!0,ei(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ke(),e.sibling=null,a=lt.current,F(lt,n?a&1|2:a&1),Ae&&Na(t,l.treeForkCount),e):(Fe(t),null);case 22:case 23:return Gt(t),Xc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),a=t.updateQueue,a!==null&&os(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&L(Cl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ea(it),Fe(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function M1(e,t){switch(kc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ea(it),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ua(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(u(340));Sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));Sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(lt),null;case 4:return Ge(),null;case 10:return Ea(t.type),null;case 22:case 23:return Gt(t),Xc(),e!==null&&L(Cl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ea(it),null;case 25:return null;default:return null}}function Qd(e,t){switch(kc(t),t.tag){case 3:Ea(it),Ge();break;case 26:case 27:case 5:Ua(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:L(lt);break;case 10:Ea(t.type);break;case 22:case 23:Gt(t),Xc(),e!==null&&L(Cl);break;case 24:Ea(it)}}function ti(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,r=a.inst;l=i(),r.destroy=l}a=a.next}while(a!==n)}}catch(f){Le(t,t.return,f)}}function Pa(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var r=l.inst,f=r.destroy;if(f!==void 0){r.destroy=void 0,n=t;var p=a,A=f;try{A()}catch(U){Le(n,p,U)}}}l=l.next}while(l!==i)}}catch(U){Le(t,t.return,U)}}function Kd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{qo(t,a)}catch(l){Le(e,e.return,l)}}}function Jd(e,t,a){a.props=wl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Le(e,t,l)}}function ai(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){Le(e,t,n)}}function ya(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){Le(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Le(e,t,n)}else a.current=null}function $d(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){Le(e,e.return,n)}}function Sr(e,t,a){try{var l=e.stateNode;V1(l,e.type,a,t),l[kt]=t}catch(n){Le(e,e.return,n)}}function Fd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sl(e.type)||e.tag===4}function jr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ma));else if(l!==4&&(l===27&&sl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Nr(e,t,a),e=e.sibling;e!==null;)Nr(e,t,a),e=e.sibling}function ds(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&sl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ds(e,t,a),e=e.sibling;e!==null;)ds(e,t,a),e=e.sibling}function Wd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);St(t,l,a),t[xt]=e,t[kt]=a}catch(i){Le(e,e.return,i)}}var Aa=!1,rt=!1,Cr=!1,Id=typeof WeakSet=="function"?WeakSet:Set,yt=null;function S1(e,t){if(e=e.containerInfo,Qr=Rs,e=uo(e),xc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,f=-1,p=-1,A=0,U=0,X=e,_=null;t:for(;;){for(var H;X!==a||n!==0&&X.nodeType!==3||(f=r+n),X!==i||l!==0&&X.nodeType!==3||(p=r+l),X.nodeType===3&&(r+=X.nodeValue.length),(H=X.firstChild)!==null;)_=X,X=H;for(;;){if(X===e)break t;if(_===a&&++A===n&&(f=r),_===i&&++U===l&&(p=r),(H=X.nextSibling)!==null)break;X=_,_=X.parentNode}X=H}a=f===-1||p===-1?null:{start:f,end:p}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kr={focusedElem:e,selectionRange:a},Rs=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){switch(t=yt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var ne=wl(a.type,n);e=l.getSnapshotBeforeUpdate(ne,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Le(a,a.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Fr(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}}function Pd(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Da(e,a),l&4&&ti(5,a);break;case 1:if(Da(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){Le(a,a.return,r)}else{var n=wl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Le(a,a.return,r)}}l&64&&Kd(a),l&512&&ai(a,a.return);break;case 3:if(Da(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{qo(e,t)}catch(r){Le(a,a.return,r)}}break;case 27:t===null&&l&4&&Wd(a);case 26:case 5:Da(e,a),t===null&&l&4&&$d(a),l&512&&ai(a,a.return);break;case 12:Da(e,a);break;case 31:Da(e,a),l&4&&af(e,a);break;case 13:Da(e,a),l&4&&lf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=A1.bind(null,a),W1(e,a))));break;case 22:if(l=a.memoizedState!==null||Aa,!l){t=t!==null&&t.memoizedState!==null||rt,n=Aa;var i=rt;Aa=l,(rt=t)&&!i?_a(e,a,(a.subtreeFlags&8772)!==0):Da(e,a),Aa=n,rt=i}break;case 30:break;default:Da(e,a)}}function ef(e){var t=e.alternate;t!==null&&(e.alternate=null,ef(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&tc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,At=!1;function Ra(e,t,a){for(a=a.child;a!==null;)tf(e,t,a),a=a.sibling}function tf(e,t,a){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(sa,a)}catch{}switch(a.tag){case 26:rt||ya(a,t),Ra(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||ya(a,t);var l=We,n=At;sl(a.type)&&(We=a.stateNode,At=!1),Ra(e,t,a),di(a.stateNode),We=l,At=n;break;case 5:rt||ya(a,t);case 6:if(l=We,n=At,We=null,Ra(e,t,a),We=l,At=n,We!==null)if(At)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(a.stateNode)}catch(i){Le(a,t,i)}else try{We.removeChild(a.stateNode)}catch(i){Le(a,t,i)}break;case 18:We!==null&&(At?(e=We,Jf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Nn(e)):Jf(We,a.stateNode));break;case 4:l=We,n=At,We=a.stateNode.containerInfo,At=!0,Ra(e,t,a),We=l,At=n;break;case 0:case 11:case 14:case 15:Pa(2,a,t),rt||Pa(4,a,t),Ra(e,t,a);break;case 1:rt||(ya(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jd(a,t,l)),Ra(e,t,a);break;case 21:Ra(e,t,a);break;case 22:rt=(l=rt)||a.memoizedState!==null,Ra(e,t,a),rt=l;break;default:Ra(e,t,a)}}function af(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Nn(e)}catch(a){Le(t,t.return,a)}}}function lf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nn(e)}catch(a){Le(t,t.return,a)}}function j1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Id),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Id),t;default:throw Error(u(435,e.tag))}}function fs(e,t){var a=j1(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var n=R1.bind(null,e,l);l.then(n,n)}})}function Rt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,r=t,f=r;e:for(;f!==null;){switch(f.tag){case 27:if(sl(f.type)){We=f.stateNode,At=!1;break e}break;case 5:We=f.stateNode,At=!1;break e;case 3:case 4:We=f.stateNode.containerInfo,At=!0;break e}f=f.return}if(We===null)throw Error(u(160));tf(i,r,n),We=null,At=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)nf(t,e),t=t.sibling}var ua=null;function nf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rt(t,e),Dt(e),l&4&&(Pa(3,e,e.return),ti(3,e),Pa(5,e,e.return));break;case 1:Rt(t,e),Dt(e),l&512&&(rt||a===null||ya(a,a.return)),l&64&&Aa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=ua;if(Rt(t,e),Dt(e),l&512&&(rt||a===null||ya(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[kn]||i[xt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),St(i,l,a),i[xt]=e,ht(i),l=i;break e;case"link":var r=im("link","href",n).get(l+(a.href||""));if(r){for(var f=0;f<r.length;f++)if(i=r[f],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(f,1);break t}}i=n.createElement(l),St(i,l,a),n.head.appendChild(i);break;case"meta":if(r=im("meta","content",n).get(l+(a.content||""))){for(f=0;f<r.length;f++)if(i=r[f],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(f,1);break t}}i=n.createElement(l),St(i,l,a),n.head.appendChild(i);break;default:throw Error(u(468,l))}i[xt]=e,ht(i),l=i}e.stateNode=l}else sm(n,e.type,e.stateNode);else e.stateNode=nm(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?sm(n,e.type,e.stateNode):nm(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Sr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Rt(t,e),Dt(e),l&512&&(rt||a===null||ya(a,a.return)),a!==null&&l&4&&Sr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Rt(t,e),Dt(e),l&512&&(rt||a===null||ya(a,a.return)),e.flags&32){n=e.stateNode;try{Ql(n,"")}catch(ne){Le(e,e.return,ne)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Sr(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Cr=!0);break;case 6:if(Rt(t,e),Dt(e),l&4){if(e.stateNode===null)throw Error(u(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ne){Le(e,e.return,ne)}}break;case 3:if(Ts=null,n=ua,ua=Es(t.containerInfo),Rt(t,e),ua=n,Dt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Nn(t.containerInfo)}catch(ne){Le(e,e.return,ne)}Cr&&(Cr=!1,sf(e));break;case 4:l=ua,ua=Es(e.stateNode.containerInfo),Rt(t,e),Dt(e),ua=l;break;case 12:Rt(t,e),Dt(e);break;case 31:Rt(t,e),Dt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fs(e,l)));break;case 13:Rt(t,e),Dt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hs=Ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fs(e,l)));break;case 22:n=e.memoizedState!==null;var p=a!==null&&a.memoizedState!==null,A=Aa,U=rt;if(Aa=A||n,rt=U||p,Rt(t,e),rt=U,Aa=A,Dt(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||p||Aa||rt||Al(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){p=a=t;try{if(i=p.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{f=p.stateNode;var X=p.memoizedProps.style,_=X!=null&&X.hasOwnProperty("display")?X.display:null;f.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(ne){Le(p,p.return,ne)}}}else if(t.tag===6){if(a===null){p=t;try{p.stateNode.nodeValue=n?"":p.memoizedProps}catch(ne){Le(p,p.return,ne)}}}else if(t.tag===18){if(a===null){p=t;try{var H=p.stateNode;n?$f(H,!0):$f(p.stateNode,!1)}catch(ne){Le(p,p.return,ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fs(e,a))));break;case 19:Rt(t,e),Dt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fs(e,l)));break;case 30:break;case 21:break;default:Rt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Fd(l)){a=l;break}l=l.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var n=a.stateNode,i=jr(e);ds(e,i,n);break;case 5:var r=a.stateNode;a.flags&32&&(Ql(r,""),a.flags&=-33);var f=jr(e);ds(e,f,r);break;case 3:case 4:var p=a.stateNode.containerInfo,A=jr(e);Nr(e,A,p);break;default:throw Error(u(161))}}catch(U){Le(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Da(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pd(e,t.alternate,t),t=t.sibling}function Al(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Pa(4,t,t.return),Al(t);break;case 1:ya(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Jd(t,t.return,a),Al(t);break;case 27:di(t.stateNode);case 26:case 5:ya(t,t.return),Al(t);break;case 22:t.memoizedState===null&&Al(t);break;case 30:Al(t);break;default:Al(t)}e=e.sibling}}function _a(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:_a(n,i,a),ti(4,i);break;case 1:if(_a(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(A){Le(l,l.return,A)}if(l=i,n=l.updateQueue,n!==null){var f=l.stateNode;try{var p=n.shared.hiddenCallbacks;if(p!==null)for(n.shared.hiddenCallbacks=null,n=0;n<p.length;n++)Ho(p[n],f)}catch(A){Le(l,l.return,A)}}a&&r&64&&Kd(i),ai(i,i.return);break;case 27:Wd(i);case 26:case 5:_a(n,i,a),a&&l===null&&r&4&&$d(i),ai(i,i.return);break;case 12:_a(n,i,a);break;case 31:_a(n,i,a),a&&r&4&&af(n,i);break;case 13:_a(n,i,a),a&&r&4&&lf(n,i);break;case 22:i.memoizedState===null&&_a(n,i,a),ai(i,i.return);break;case 30:break;default:_a(n,i,a)}t=t.sibling}}function Er(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yn(a))}function zr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yn(e))}function oa(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cf(e,t,a,l),t=t.sibling}function cf(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:oa(e,t,a,l),n&2048&&ti(9,t);break;case 1:oa(e,t,a,l);break;case 3:oa(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yn(e)));break;case 12:if(n&2048){oa(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,f=i.onPostCommit;typeof f=="function"&&f(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){Le(t,t.return,p)}}else oa(e,t,a,l);break;case 31:oa(e,t,a,l);break;case 13:oa(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?oa(e,t,a,l):li(e,t):i._visibility&2?oa(e,t,a,l):(i._visibility|=2,mn(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Er(r,t);break;case 24:oa(e,t,a,l),n&2048&&zr(t.alternate,t);break;default:oa(e,t,a,l)}}function mn(e,t,a,l,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,f=a,p=l,A=r.flags;switch(r.tag){case 0:case 11:case 15:mn(i,r,f,p,n),ti(8,r);break;case 23:break;case 22:var U=r.stateNode;r.memoizedState!==null?U._visibility&2?mn(i,r,f,p,n):li(i,r):(U._visibility|=2,mn(i,r,f,p,n)),n&&A&2048&&Er(r.alternate,r);break;case 24:mn(i,r,f,p,n),n&&A&2048&&zr(r.alternate,r);break;default:mn(i,r,f,p,n)}t=t.sibling}}function li(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:li(a,l),n&2048&&Er(l.alternate,l);break;case 24:li(a,l),n&2048&&zr(l.alternate,l);break;default:li(a,l)}t=t.sibling}}var ni=8192;function hn(e,t,a){if(e.subtreeFlags&ni)for(e=e.child;e!==null;)rf(e,t,a),e=e.sibling}function rf(e,t,a){switch(e.tag){case 26:hn(e,t,a),e.flags&ni&&e.memoizedState!==null&&u0(a,ua,e.memoizedState,e.memoizedProps);break;case 5:hn(e,t,a);break;case 3:case 4:var l=ua;ua=Es(e.stateNode.containerInfo),hn(e,t,a),ua=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ni,ni=16777216,hn(e,t,a),ni=l):hn(e,t,a));break;default:hn(e,t,a)}}function uf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ii(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];yt=l,df(l,e)}uf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)of(e),e=e.sibling}function of(e){switch(e.tag){case 0:case 11:case 15:ii(e),e.flags&2048&&Pa(9,e,e.return);break;case 3:ii(e);break;case 12:ii(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ms(e)):ii(e);break;default:ii(e)}}function ms(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];yt=l,df(l,e)}uf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Pa(8,t,t.return),ms(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ms(t));break;default:ms(t)}e=e.sibling}}function df(e,t){for(;yt!==null;){var a=yt;switch(a.tag){case 0:case 11:case 15:Pa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,yt=l;else e:for(a=e;yt!==null;){l=yt;var n=l.sibling,i=l.return;if(ef(l),l===a){yt=null;break e}if(n!==null){n.return=i,yt=n;break e}yt=i}}}var N1={getCacheForType:function(e){var t=vt(it),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return vt(it).controller.signal}},C1=typeof WeakMap=="function"?WeakMap:Map,qe=0,Qe=null,Ce=null,Te=0,Ue=0,Yt=null,el=!1,yn=!1,Tr=!1,Oa=0,et=0,tl=0,Rl=0,kr=0,Vt=0,pn=0,si=null,_t=null,wr=!1,hs=0,ff=0,ys=1/0,ps=null,al=null,dt=0,ll=null,gn=null,Ha=0,Ar=0,Rr=null,mf=null,ci=0,Dr=null;function Xt(){return(qe&2)!==0&&Te!==0?Te&-Te:T.T!==null?Ur():zu()}function hf(){if(Vt===0)if((Te&536870912)===0||Ae){var e=Bl;Bl<<=1,(Bl&3932160)===0&&(Bl=262144),Vt=e}else Vt=536870912;return e=Lt.current,e!==null&&(e.flags|=32),Vt}function Ot(e,t,a){(e===Qe&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(xn(e,0),nl(e,Te,Vt,!1)),at(e,a),((qe&2)===0||e!==Qe)&&(e===Qe&&((qe&2)===0&&(Rl|=a),et===4&&nl(e,Te,Vt,!1)),pa(e))}function yf(e,t,a){if((qe&6)!==0)throw Error(u(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||le(e,t),n=l?T1(e,t):Or(e,t,!0),i=l;do{if(n===0){yn&&!l&&nl(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!E1(a)){n=Or(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var f=e;n=si;var p=f.current.memoizedState.isDehydrated;if(p&&(xn(f,r).flags|=256),r=Or(f,r,!1),r!==2){if(Tr&&!p){f.errorRecoveryDisabledLanes|=i,Rl|=i,n=4;break e}i=_t,_t=n,i!==null&&(_t===null?_t=i:_t.push.apply(_t,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){xn(e,0),nl(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:nl(l,t,Vt,!el);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(n=hs+300-Ke(),10<n)){if(nl(l,t,Vt,!el),W(l,0,!0)!==0)break e;Ha=t,l.timeoutHandle=Qf(pf.bind(null,l,a,_t,ps,wr,t,Vt,Rl,pn,el,i,"Throttled",-0,0),n);break e}pf(l,a,_t,ps,wr,t,Vt,Rl,pn,el,i,null,-0,0)}}break}while(!0);pa(e)}function pf(e,t,a,l,n,i,r,f,p,A,U,X,_,H){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ma},rf(t,i,X);var ne=(i&62914560)===i?hs-Ke():(i&4194048)===i?ff-Ke():0;if(ne=o0(X,ne),ne!==null){Ha=i,e.cancelPendingCommit=ne(Nf.bind(null,e,t,i,a,l,n,r,f,p,U,X,null,_,H)),nl(e,i,r,!A);return}}Nf(e,t,i,a,l,n,r,f,p)}function E1(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!Bt(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nl(e,t,a,l){t&=~kr,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-Ct(n),r=1<<i;l[i]=-1,n&=~r}a!==0&&Tt(e,a,t)}function gs(){return(qe&6)===0?(ri(0),!1):!0}function _r(){if(Ce!==null){if(Ue===0)var e=Ce.return;else e=Ce,Ca=jl=null,Fc(e),rn=null,Xn=0,e=Ce;for(;e!==null;)Qd(e.alternate,e),e=e.return;Ce=null}}function xn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Q1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ha=0,_r(),Qe=e,Ce=a=ja(e.current,null),Te=t,Ue=0,Yt=null,el=!1,yn=le(e,t),Tr=!1,pn=Vt=kr=Rl=tl=et=0,_t=si=null,wr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-Ct(l),i=1<<n;t|=e[n],l&=~i}return Oa=t,Bi(),a}function gf(e,t){Se=null,T.H=In,t===cn||t===Qi?(t=Ro(),Ue=3):t===Bc?(t=Ro(),Ue=4):Ue=t===fr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yt=t,Ce===null&&(et=1,ss(e,It(t,e.current)))}function xf(){var e=Lt.current;return e===null?!0:(Te&4194048)===Te?aa===null:(Te&62914560)===Te||(Te&536870912)!==0?e===aa:!1}function bf(){var e=T.H;return T.H=In,e===null?In:e}function vf(){var e=T.A;return T.A=N1,e}function xs(){et=4,el||(Te&4194048)!==Te&&Lt.current!==null||(yn=!0),(tl&134217727)===0&&(Rl&134217727)===0||Qe===null||nl(Qe,Te,Vt,!1)}function Or(e,t,a){var l=qe;qe|=2;var n=bf(),i=vf();(Qe!==e||Te!==t)&&(ps=null,xn(e,t)),t=!1;var r=et;e:do try{if(Ue!==0&&Ce!==null){var f=Ce,p=Yt;switch(Ue){case 8:_r(),r=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var A=Ue;if(Ue=0,Yt=null,bn(e,f,p,A),a&&yn){r=0;break e}break;default:A=Ue,Ue=0,Yt=null,bn(e,f,p,A)}}z1(),r=et;break}catch(U){gf(e,U)}while(!0);return t&&e.shellSuspendCounter++,Ca=jl=null,qe=l,T.H=n,T.A=i,Ce===null&&(Qe=null,Te=0,Bi()),r}function z1(){for(;Ce!==null;)Mf(Ce)}function T1(e,t){var a=qe;qe|=2;var l=bf(),n=vf();Qe!==e||Te!==t?(ps=null,ys=Ke()+500,xn(e,t)):yn=le(e,t);e:do try{if(Ue!==0&&Ce!==null){t=Ce;var i=Yt;t:switch(Ue){case 1:Ue=0,Yt=null,bn(e,t,i,1);break;case 2:case 9:if(wo(i)){Ue=0,Yt=null,Sf(t);break}t=function(){Ue!==2&&Ue!==9||Qe!==e||(Ue=7),pa(e)},i.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:wo(i)?(Ue=0,Yt=null,Sf(t)):(Ue=0,Yt=null,bn(e,t,i,7));break;case 5:var r=null;switch(Ce.tag){case 26:r=Ce.memoizedState;case 5:case 27:var f=Ce;if(r?cm(r):f.stateNode.complete){Ue=0,Yt=null;var p=f.sibling;if(p!==null)Ce=p;else{var A=f.return;A!==null?(Ce=A,bs(A)):Ce=null}break t}}Ue=0,Yt=null,bn(e,t,i,5);break;case 6:Ue=0,Yt=null,bn(e,t,i,6);break;case 8:_r(),et=6;break e;default:throw Error(u(462))}}k1();break}catch(U){gf(e,U)}while(!0);return Ca=jl=null,T.H=l,T.A=n,qe=a,Ce!==null?0:(Qe=null,Te=0,Bi(),et)}function k1(){for(;Ce!==null&&!gt();)Mf(Ce)}function Mf(e){var t=Xd(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,t===null?bs(e):Ce=t}function Sf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Bd(a,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Bd(a,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Fc(t);default:Qd(a,t),t=Ce=bo(t,Oa),t=Xd(a,t,Oa)}e.memoizedProps=e.pendingProps,t===null?bs(e):Ce=t}function bn(e,t,a,l){Ca=jl=null,Fc(t),rn=null,Xn=0;var n=t.return;try{if(g1(e,n,t,a,Te)){et=1,ss(e,It(a,e.current)),Ce=null;return}}catch(i){if(n!==null)throw Ce=n,i;et=1,ss(e,It(a,e.current)),Ce=null;return}t.flags&32768?(Ae||l===1?e=!0:yn||(Te&536870912)!==0?e=!1:(el=e=!0,(l===2||l===9||l===3||l===6)&&(l=Lt.current,l!==null&&l.tag===13&&(l.flags|=16384))),jf(t,e)):bs(t)}function bs(e){var t=e;do{if((t.flags&32768)!==0){jf(t,el);return}e=t.return;var a=v1(t.alternate,t,Oa);if(a!==null){Ce=a;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);et===0&&(et=5)}function jf(e,t){do{var a=M1(e.alternate,e);if(a!==null){a.flags&=32767,Ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=a}while(e!==null);et=6,Ce=null}function Nf(e,t,a,l,n,i,r,f,p){e.cancelPendingCommit=null;do vs();while(dt!==0);if((qe&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=jc,ca(e,a,i,r,f,p),e===Qe&&(Ce=Qe=null,Te=0),gn=t,ll=e,Ha=a,Ar=i,Rr=n,mf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D1(ba,function(){return kf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=T.T,T.T=null,n=K.p,K.p=2,r=qe,qe|=4;try{S1(e,t,a)}finally{qe=r,K.p=n,T.T=l}}dt=1,Cf(),Ef(),zf()}}function Cf(){if(dt===1){dt=0;var e=ll,t=gn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=T.T,T.T=null;var l=K.p;K.p=2;var n=qe;qe|=4;try{nf(t,e);var i=Kr,r=uo(e.containerInfo),f=i.focusedElem,p=i.selectionRange;if(r!==f&&f&&f.ownerDocument&&ro(f.ownerDocument.documentElement,f)){if(p!==null&&xc(f)){var A=p.start,U=p.end;if(U===void 0&&(U=A),"selectionStart"in f)f.selectionStart=A,f.selectionEnd=Math.min(U,f.value.length);else{var X=f.ownerDocument||document,_=X&&X.defaultView||window;if(_.getSelection){var H=_.getSelection(),ne=f.textContent.length,fe=Math.min(p.start,ne),Xe=p.end===void 0?fe:Math.min(p.end,ne);!H.extend&&fe>Xe&&(r=Xe,Xe=fe,fe=r);var C=co(f,fe),M=co(f,Xe);if(C&&M&&(H.rangeCount!==1||H.anchorNode!==C.node||H.anchorOffset!==C.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var k=X.createRange();k.setStart(C.node,C.offset),H.removeAllRanges(),fe>Xe?(H.addRange(k),H.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),H.addRange(k))}}}}for(X=[],H=f;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<X.length;f++){var G=X[f];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Rs=!!Qr,Kr=Qr=null}finally{qe=n,K.p=l,T.T=a}}e.current=t,dt=2}}function Ef(){if(dt===2){dt=0;var e=ll,t=gn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=T.T,T.T=null;var l=K.p;K.p=2;var n=qe;qe|=4;try{Pd(e,t.alternate,t)}finally{qe=n,K.p=l,T.T=a}}dt=3}}function zf(){if(dt===4||dt===3){dt=0,ia();var e=ll,t=gn,a=Ha,l=mf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,gn=ll=null,Tf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(al=null),Ps(a),t=t.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(sa,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=T.T,n=K.p,K.p=2,T.T=null;try{for(var i=e.onRecoverableError,r=0;r<l.length;r++){var f=l[r];i(f.value,{componentStack:f.stack})}}finally{T.T=t,K.p=n}}(Ha&3)!==0&&vs(),pa(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===Dr?ci++:(ci=0,Dr=e):ci=0,ri(0)}}function Tf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yn(t)))}function vs(){return Cf(),Ef(),zf(),kf()}function kf(){if(dt!==5)return!1;var e=ll,t=Ar;Ar=0;var a=Ps(Ha),l=T.T,n=K.p;try{K.p=32>a?32:a,T.T=null,a=Rr,Rr=null;var i=ll,r=Ha;if(dt=0,gn=ll=null,Ha=0,(qe&6)!==0)throw Error(u(331));var f=qe;if(qe|=4,of(i.current),cf(i,i.current,r,a),qe=f,ri(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(sa,i)}catch{}return!0}finally{K.p=n,T.T=l,Tf(e,t)}}function wf(e,t,a){t=It(a,t),t=dr(e.stateNode,t,2),e=Fa(e,t,2),e!==null&&(at(e,2),pa(e))}function Le(e,t,a){if(e.tag===3)wf(e,e,a);else for(;t!==null;){if(t.tag===3){wf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(al===null||!al.has(l))){e=It(a,e),a=wd(2),l=Fa(t,a,2),l!==null&&(Ad(a,l,t,e),at(l,2),pa(l));break}}t=t.return}}function Hr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new C1;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(Tr=!0,n.add(a),e=w1.bind(null,e,t,a),t.then(e,e))}function w1(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Qe===e&&(Te&a)===a&&(et===4||et===3&&(Te&62914560)===Te&&300>Ke()-hs?(qe&2)===0&&xn(e,0):kr|=a,pn===Te&&(pn=0)),pa(e)}function Af(e,t){t===0&&(t=we()),e=vl(e,t),e!==null&&(at(e,t),pa(e))}function A1(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Af(e,a)}function R1(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(u(314))}l!==null&&l.delete(t),Af(e,a)}function D1(e,t){return De(e,t)}var Ms=null,vn=null,qr=!1,Ss=!1,Br=!1,il=0;function pa(e){e!==vn&&e.next===null&&(vn===null?Ms=vn=e:vn=vn.next=e),Ss=!0,qr||(qr=!0,O1())}function ri(e,t){if(!Br&&Ss){Br=!0;do for(var a=!1,l=Ms;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var r=l.suspendedLanes,f=l.pingedLanes;i=(1<<31-Ct(42|e)+1)-1,i&=n&~(r&~f),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Of(l,i))}else i=Te,i=W(l,l===Qe?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||le(l,i)||(a=!0,Of(l,i));l=l.next}while(a);Br=!1}}function _1(){Rf()}function Rf(){Ss=qr=!1;var e=0;il!==0&&Z1()&&(e=il);for(var t=Ke(),a=null,l=Ms;l!==null;){var n=l.next,i=Df(l,t);i===0?(l.next=null,a===null?Ms=n:a.next=n,n===null&&(vn=a)):(a=l,(e!==0||(i&3)!==0)&&(Ss=!0)),l=n}dt!==0&&dt!==5||ri(e),il!==0&&(il=0)}function Df(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-Ct(i),f=1<<r,p=n[r];p===-1?((f&a)===0||(f&l)!==0)&&(n[r]=Be(f,t)):p<=t&&(e.expiredLanes|=f),i&=~f}if(t=Qe,a=Te,a=W(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ie(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||le(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Ie(l),Ps(a)){case 2:case 8:a=Kt;break;case 32:a=ba;break;case 268435456:a=da;break;default:a=ba}return l=_f.bind(null,e),a=De(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Ie(l),e.callbackPriority=2,e.callbackNode=null,2}function _f(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vs()&&e.callbackNode!==a)return null;var l=Te;return l=W(e,e===Qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yf(e,l,t),Df(e,Ke()),e.callbackNode!=null&&e.callbackNode===a?_f.bind(null,e):null)}function Of(e,t){if(vs())return null;yf(e,t,!0)}function O1(){K1(function(){(qe&6)!==0?De(zt,_1):Rf()})}function Ur(){if(il===0){var e=nn;e===0&&(e=yl,yl<<=1,(yl&261888)===0&&(yl=256)),il=e}return il}function Hf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wi(""+e)}function qf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function H1(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var i=Hf((n[kt]||null).action),r=l.submitter;r&&(t=(t=r[kt]||null)?Hf(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var f=new _i("action","action",null,l,n);e.push({event:f,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(il!==0){var p=r?qf(n,r):new FormData(n);ir(a,{pending:!0,data:p,method:n.method,action:i},null,p)}}else typeof i=="function"&&(f.preventDefault(),p=r?qf(n,r):new FormData(n),ir(a,{pending:!0,data:p,method:n.method,action:i},i,p))},currentTarget:n}]})}}for(var Lr=0;Lr<Sc.length;Lr++){var Gr=Sc[Lr],q1=Gr.toLowerCase(),B1=Gr[0].toUpperCase()+Gr.slice(1);ra(q1,"on"+B1)}ra(mo,"onAnimationEnd"),ra(ho,"onAnimationIteration"),ra(yo,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(e1,"onTransitionRun"),ra(t1,"onTransitionStart"),ra(a1,"onTransitionCancel"),ra(po,"onTransitionEnd"),Xl("onMouseEnter",["mouseout","mouseover"]),Xl("onMouseLeave",["mouseout","mouseover"]),Xl("onPointerEnter",["pointerout","pointerover"]),Xl("onPointerLeave",["pointerout","pointerover"]),pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pl("onBeforeInput",["compositionend","keypress","textInput","paste"]),pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ui));function Bf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var r=l.length-1;0<=r;r--){var f=l[r],p=f.instance,A=f.currentTarget;if(f=f.listener,p!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=A;try{i(n)}catch(U){qi(U)}n.currentTarget=null,i=p}else for(r=0;r<l.length;r++){if(f=l[r],p=f.instance,A=f.currentTarget,f=f.listener,p!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=A;try{i(n)}catch(U){qi(U)}n.currentTarget=null,i=p}}}}function Ee(e,t){var a=t[ec];a===void 0&&(a=t[ec]=new Set);var l=e+"__bubble";a.has(l)||(Uf(t,e,2,!1),a.add(l))}function Yr(e,t,a){var l=0;t&&(l|=4),Uf(a,e,l,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[js]){e[js]=!0,wu.forEach(function(a){a!=="selectionchange"&&(U1.has(a)||Yr(a,!1,e),Yr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,Yr("selectionchange",!1,t))}}function Uf(e,t,a,l){switch(hm(t)){case 2:var n=m0;break;case 8:n=h0;break;default:n=nu}a=n.bind(null,t,a,e),n=void 0,!uc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Xr(e,t,a,l,n){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var r=l.tag;if(r===3||r===4){var f=l.stateNode.containerInfo;if(f===n)break;if(r===4)for(r=l.return;r!==null;){var p=r.tag;if((p===3||p===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;f!==null;){if(r=Gl(f),r===null)return;if(p=r.tag,p===5||p===6||p===26||p===27){l=i=r;continue e}f=f.parentNode}}l=l.return}Yu(function(){var A=i,U=cc(a),X=[];e:{var _=go.get(e);if(_!==void 0){var H=_i,ne=e;switch(e){case"keypress":if(Ri(a)===0)break e;case"keydown":case"keyup":H=Rh;break;case"focusin":ne="focus",H=mc;break;case"focusout":ne="blur",H=mc;break;case"beforeblur":case"afterblur":H=mc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Oh;break;case mo:case ho:case yo:H=jh;break;case po:H=qh;break;case"scroll":case"scrollend":H=xh;break;case"wheel":H=Uh;break;case"copy":case"cut":case"paste":H=Ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ku;break;case"toggle":case"beforetoggle":H=Gh}var fe=(t&4)!==0,Xe=!fe&&(e==="scroll"||e==="scrollend"),C=fe?_!==null?_+"Capture":null:_;fe=[];for(var M=A,k;M!==null;){var G=M;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||C===null||(G=An(M,C),G!=null&&fe.push(oi(M,G,k))),Xe)break;M=M.return}0<fe.length&&(_=new H(_,ne,null,a,U),X.push({event:_,listeners:fe}))}}if((t&7)===0){e:{if(_=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",_&&a!==sc&&(ne=a.relatedTarget||a.fromElement)&&(Gl(ne)||ne[Ll]))break e;if((H||_)&&(_=U.window===U?U:(_=U.ownerDocument)?_.defaultView||_.parentWindow:window,H?(ne=a.relatedTarget||a.toElement,H=A,ne=ne?Gl(ne):null,ne!==null&&(Xe=h(ne),fe=ne.tag,ne!==Xe||fe!==5&&fe!==27&&fe!==6)&&(ne=null)):(H=null,ne=A),H!==ne)){if(fe=Zu,G="onMouseLeave",C="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Ku,G="onPointerLeave",C="onPointerEnter",M="pointer"),Xe=H==null?_:wn(H),k=ne==null?_:wn(ne),_=new fe(G,M+"leave",H,a,U),_.target=Xe,_.relatedTarget=k,G=null,Gl(U)===A&&(fe=new fe(C,M+"enter",ne,a,U),fe.target=k,fe.relatedTarget=Xe,G=fe),Xe=G,H&&ne)t:{for(fe=L1,C=H,M=ne,k=0,G=C;G;G=fe(G))k++;G=0;for(var oe=M;oe;oe=fe(oe))G++;for(;0<k-G;)C=fe(C),k--;for(;0<G-k;)M=fe(M),G--;for(;k--;){if(C===M||M!==null&&C===M.alternate){fe=C;break t}C=fe(C),M=fe(M)}fe=null}else fe=null;H!==null&&Lf(X,_,H,fe,!1),ne!==null&&Xe!==null&&Lf(X,Xe,ne,fe,!0)}}e:{if(_=A?wn(A):window,H=_.nodeName&&_.nodeName.toLowerCase(),H==="select"||H==="input"&&_.type==="file")var Oe=to;else if(Pu(_))if(ao)Oe=Wh;else{Oe=$h;var ce=Jh}else H=_.nodeName,!H||H.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?A&&ic(A.elementType)&&(Oe=to):Oe=Fh;if(Oe&&(Oe=Oe(e,A))){eo(X,Oe,a,U);break e}ce&&ce(e,_,A),e==="focusout"&&A&&_.type==="number"&&A.memoizedProps.value!=null&&nc(_,"number",_.value)}switch(ce=A?wn(A):window,e){case"focusin":(Pu(ce)||ce.contentEditable==="true")&&(Fl=ce,bc=A,Un=null);break;case"focusout":Un=bc=Fl=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,oo(X,a,U);break;case"selectionchange":if(Ph)break;case"keydown":case"keyup":oo(X,a,U)}var je;if(yc)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else $l?Wu(e,a)&&(ke="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ju&&a.locale!=="ko"&&($l||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&$l&&(je=Vu()):(Va=U,oc="value"in Va?Va.value:Va.textContent,$l=!0)),ce=Ns(A,ke),0<ce.length&&(ke=new Qu(ke,e,null,a,U),X.push({event:ke,listeners:ce}),je?ke.data=je:(je=Iu(a),je!==null&&(ke.data=je)))),(je=Vh?Xh(e,a):Zh(e,a))&&(ke=Ns(A,"onBeforeInput"),0<ke.length&&(ce=new Qu("onBeforeInput","beforeinput",null,a,U),X.push({event:ce,listeners:ke}),ce.data=je)),H1(X,e,A,a,U)}Bf(X,t)})}function oi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ns(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=An(e,a),n!=null&&l.unshift(oi(e,n,i)),n=An(e,t),n!=null&&l.push(oi(e,n,i))),e.tag===3)return l;e=e.return}return[]}function L1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lf(e,t,a,l,n){for(var i=t._reactName,r=[];a!==null&&a!==l;){var f=a,p=f.alternate,A=f.stateNode;if(f=f.tag,p!==null&&p===l)break;f!==5&&f!==26&&f!==27||A===null||(p=A,n?(A=An(a,i),A!=null&&r.unshift(oi(a,A,p))):n||(A=An(a,i),A!=null&&r.push(oi(a,A,p)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var G1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function Gf(e){return(typeof e=="string"?e:""+e).replace(G1,`
`).replace(Y1,"")}function Yf(e,t){return t=Gf(t),Gf(e)===t}function Ve(e,t,a,l,n,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ql(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ql(e,""+l);break;case"className":Ti(e,"class",l);break;case"tabIndex":Ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(e,a,l);break;case"style":Lu(e,l,i);break;case"data":if(t!=="object"){Ti(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=wi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Ve(e,t,"name",n.name,n,null),Ve(e,t,"formEncType",n.formEncType,n,null),Ve(e,t,"formMethod",n.formMethod,n,null),Ve(e,t,"formTarget",n.formTarget,n,null)):(Ve(e,t,"encType",n.encType,n,null),Ve(e,t,"method",n.method,n,null),Ve(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=wi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ma);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=wi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),zi(e,"popover",l);break;case"xlinkActuate":va(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":va(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":va(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":va(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":va(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":va(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":va(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":va(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":va(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ph.get(a)||a,zi(e,a,l))}}function Zr(e,t,a,l,n,i){switch(a){case"style":Lu(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Ql(e,l):(typeof l=="number"||typeof l=="bigint")&&Ql(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Au.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[kt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):zi(e,a,l)}}}function St(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Ve(e,t,i,r,a,null)}}n&&Ve(e,t,"srcSet",a.srcSet,a,null),l&&Ve(e,t,"src",a.src,a,null);return;case"input":Ee("invalid",e);var f=i=r=n=null,p=null,A=null;for(l in a)if(a.hasOwnProperty(l)){var U=a[l];if(U!=null)switch(l){case"name":n=U;break;case"type":r=U;break;case"checked":p=U;break;case"defaultChecked":A=U;break;case"value":i=U;break;case"defaultValue":f=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(u(137,t));break;default:Ve(e,t,l,U,a,null)}}Hu(e,i,f,p,A,r,n,!1);return;case"select":Ee("invalid",e),l=r=i=null;for(n in a)if(a.hasOwnProperty(n)&&(f=a[n],f!=null))switch(n){case"value":i=f;break;case"defaultValue":r=f;break;case"multiple":l=f;default:Ve(e,t,n,f,a,null)}t=i,a=r,e.multiple=!!l,t!=null?Zl(e,!!l,t,!1):a!=null&&Zl(e,!!l,a,!0);return;case"textarea":Ee("invalid",e),i=n=l=null;for(r in a)if(a.hasOwnProperty(r)&&(f=a[r],f!=null))switch(r){case"value":l=f;break;case"defaultValue":n=f;break;case"children":i=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(u(91));break;default:Ve(e,t,r,f,a,null)}Bu(e,l,n,i);return;case"option":for(p in a)if(a.hasOwnProperty(p)&&(l=a[p],l!=null))switch(p){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ve(e,t,p,l,a,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<ui.length;l++)Ee(ui[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Ve(e,t,A,l,a,null)}return;default:if(ic(t)){for(U in a)a.hasOwnProperty(U)&&(l=a[U],l!==void 0&&Zr(e,t,U,l,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(l=a[f],l!=null&&Ve(e,t,f,l,a,null))}function V1(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,f=null,p=null,A=null,U=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":p=X;default:l.hasOwnProperty(H)||Ve(e,t,H,null,l,X)}}for(var _ in l){var H=l[_];if(X=a[_],l.hasOwnProperty(_)&&(H!=null||X!=null))switch(_){case"type":i=H;break;case"name":n=H;break;case"checked":A=H;break;case"defaultChecked":U=H;break;case"value":r=H;break;case"defaultValue":f=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(u(137,t));break;default:H!==X&&Ve(e,t,_,H,l,X)}}lc(e,r,f,p,A,U,i,n);return;case"select":H=r=f=_=null;for(i in a)if(p=a[i],a.hasOwnProperty(i)&&p!=null)switch(i){case"value":break;case"multiple":H=p;default:l.hasOwnProperty(i)||Ve(e,t,i,null,l,p)}for(n in l)if(i=l[n],p=a[n],l.hasOwnProperty(n)&&(i!=null||p!=null))switch(n){case"value":_=i;break;case"defaultValue":f=i;break;case"multiple":r=i;default:i!==p&&Ve(e,t,n,i,l,p)}t=f,a=r,l=H,_!=null?Zl(e,!!a,_,!1):!!l!=!!a&&(t!=null?Zl(e,!!a,t,!0):Zl(e,!!a,a?[]:"",!1));return;case"textarea":H=_=null;for(f in a)if(n=a[f],a.hasOwnProperty(f)&&n!=null&&!l.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Ve(e,t,f,null,l,n)}for(r in l)if(n=l[r],i=a[r],l.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":_=n;break;case"defaultValue":H=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(u(91));break;default:n!==i&&Ve(e,t,r,n,l,i)}qu(e,_,H);return;case"option":for(var ne in a)if(_=a[ne],a.hasOwnProperty(ne)&&_!=null&&!l.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:Ve(e,t,ne,null,l,_)}for(p in l)if(_=l[p],H=a[p],l.hasOwnProperty(p)&&_!==H&&(_!=null||H!=null))switch(p){case"selected":e.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Ve(e,t,p,_,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)_=a[fe],a.hasOwnProperty(fe)&&_!=null&&!l.hasOwnProperty(fe)&&Ve(e,t,fe,null,l,_);for(A in l)if(_=l[A],H=a[A],l.hasOwnProperty(A)&&_!==H&&(_!=null||H!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(u(137,t));break;default:Ve(e,t,A,_,l,H)}return;default:if(ic(t)){for(var Xe in a)_=a[Xe],a.hasOwnProperty(Xe)&&_!==void 0&&!l.hasOwnProperty(Xe)&&Zr(e,t,Xe,void 0,l,_);for(U in l)_=l[U],H=a[U],!l.hasOwnProperty(U)||_===H||_===void 0&&H===void 0||Zr(e,t,U,_,l,H);return}}for(var C in a)_=a[C],a.hasOwnProperty(C)&&_!=null&&!l.hasOwnProperty(C)&&Ve(e,t,C,null,l,_);for(X in l)_=l[X],H=a[X],!l.hasOwnProperty(X)||_===H||_==null&&H==null||Ve(e,t,X,_,l,H)}function Vf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var n=a[l],i=n.transferSize,r=n.initiatorType,f=n.duration;if(i&&f&&Vf(r)){for(r=0,f=n.responseEnd,l+=1;l<a.length;l++){var p=a[l],A=p.startTime;if(A>f)break;var U=p.transferSize,X=p.initiatorType;U&&Vf(X)&&(p=p.responseEnd,r+=U*(p<f?1:(f-A)/(p-A)))}if(--l,t+=8*(i+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qr=null,Kr=null;function Cs(e){return e.nodeType===9?e:e.ownerDocument}function Xf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $r=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===$r?!1:($r=e,!0):($r=null,!1)}var Qf=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,Kf=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof Kf<"u"?function(e){return Kf.resolve(null).then(e).catch(J1)}:Qf;function J1(e){setTimeout(function(){throw e})}function sl(e){return e==="head"}function Jf(e,t){var a=t,l=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(n),Nn(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")di(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,di(a);for(var i=a.firstChild;i;){var r=i.nextSibling,f=i.nodeName;i[kn]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&di(e.ownerDocument.body);a=n}while(a);Nn(t)}function $f(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Fr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fr(a),tc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function $1(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[kn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=la(e.nextSibling),e===null)break}return null}function F1(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=la(e.nextSibling),e===null))return null;return e}function Ff(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=la(e.nextSibling),e===null))return null;return e}function Wr(e){return e.data==="$?"||e.data==="$~"}function Ir(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function W1(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function la(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pr=null;function Wf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return la(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function If(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Pf(e,t,a){switch(t=Cs(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function di(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);tc(e)}var na=new Map,em=new Set;function Es(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qa=K.d;K.d={f:I1,r:P1,D:e0,C:t0,L:a0,m:l0,X:i0,S:n0,M:s0};function I1(){var e=qa.f(),t=gs();return e||t}function P1(e){var t=Yl(e);t!==null&&t.tag===5&&t.type==="form"?pd(t):qa.r(e)}var Mn=typeof document>"u"?null:document;function tm(e,t,a){var l=Mn;if(l&&typeof t=="string"&&t){var n=Ft(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),em.has(n)||(em.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),St(t,"link",e),ht(t),l.head.appendChild(t)))}}function e0(e){qa.D(e),tm("dns-prefetch",e,null)}function t0(e,t){qa.C(e,t),tm("preconnect",e,t)}function a0(e,t,a){qa.L(e,t,a);var l=Mn;if(l&&e&&t){var n='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Ft(a.imageSizes)+'"]')):n+='[href="'+Ft(e)+'"]';var i=n;switch(t){case"style":i=Sn(e);break;case"script":i=jn(e)}na.has(i)||(e=N({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),na.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(fi(i))||t==="script"&&l.querySelector(mi(i))||(t=l.createElement("link"),St(t,"link",e),ht(t),l.head.appendChild(t)))}}function l0(e,t){qa.m(e,t);var a=Mn;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Ft(l)+'"][href="'+Ft(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=jn(e)}if(!na.has(i)&&(e=N({rel:"modulepreload",href:e},t),na.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mi(i)))return}l=a.createElement("link"),St(l,"link",e),ht(l),a.head.appendChild(l)}}}function n0(e,t,a){qa.S(e,t,a);var l=Mn;if(l&&e){var n=Vl(l).hoistableStyles,i=Sn(e);t=t||"default";var r=n.get(i);if(!r){var f={loading:0,preload:null};if(r=l.querySelector(fi(i)))f.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},a),(a=na.get(i))&&eu(e,a);var p=r=l.createElement("link");ht(p),St(p,"link",e),p._p=new Promise(function(A,U){p.onload=A,p.onerror=U}),p.addEventListener("load",function(){f.loading|=1}),p.addEventListener("error",function(){f.loading|=2}),f.loading|=4,zs(r,t,l)}r={type:"stylesheet",instance:r,count:1,state:f},n.set(i,r)}}}function i0(e,t){qa.X(e,t);var a=Mn;if(a&&e){var l=Vl(a).hoistableScripts,n=jn(e),i=l.get(n);i||(i=a.querySelector(mi(n)),i||(e=N({src:e,async:!0},t),(t=na.get(n))&&tu(e,t),i=a.createElement("script"),ht(i),St(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function s0(e,t){qa.M(e,t);var a=Mn;if(a&&e){var l=Vl(a).hoistableScripts,n=jn(e),i=l.get(n);i||(i=a.querySelector(mi(n)),i||(e=N({src:e,async:!0,type:"module"},t),(t=na.get(n))&&tu(e,t),i=a.createElement("script"),ht(i),St(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function am(e,t,a,l){var n=(n=Me.current)?Es(n):null;if(!n)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Sn(a.href),a=Vl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Sn(a.href);var i=Vl(n).hoistableStyles,r=i.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=n.querySelector(fi(e)))&&!i._p&&(r.instance=i,r.state.loading=5),na.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},na.set(e,a),i||c0(n,e,a,r.state))),t&&l===null)throw Error(u(528,""));return r}if(t&&l!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=jn(a),a=Vl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function Sn(e){return'href="'+Ft(e)+'"'}function fi(e){return'link[rel="stylesheet"]['+e+"]"}function lm(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function c0(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),St(t,"link",a),ht(t),e.head.appendChild(t))}function jn(e){return'[src="'+Ft(e)+'"]'}function mi(e){return"script[async]"+e}function nm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ft(a.href)+'"]');if(l)return t.instance=l,ht(l),l;var n=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ht(l),St(l,"style",n),zs(l,a.precedence,e),t.instance=l;case"stylesheet":n=Sn(a.href);var i=e.querySelector(fi(n));if(i)return t.state.loading|=4,t.instance=i,ht(i),i;l=lm(a),(n=na.get(n))&&eu(l,n),i=(e.ownerDocument||e).createElement("link"),ht(i);var r=i;return r._p=new Promise(function(f,p){r.onload=f,r.onerror=p}),St(i,"link",l),t.state.loading|=4,zs(i,a.precedence,e),t.instance=i;case"script":return i=jn(a.src),(n=e.querySelector(mi(i)))?(t.instance=n,ht(n),n):(l=a,(n=na.get(i))&&(l=N({},a),tu(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),ht(n),St(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,zs(l,a.precedence,e));return t.instance}function zs(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,r=0;r<l.length;r++){var f=l[r];if(f.dataset.precedence===t)i=f;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ts=null;function im(e,t,a){if(Ts===null){var l=new Map,n=Ts=new Map;n.set(a,l)}else n=Ts,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[kn]||i[xt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var f=l.get(r);f?f.push(i):l.set(r,[i])}}return l}function sm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function r0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function cm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function u0(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=Sn(l.href),i=t.querySelector(fi(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ks.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,ht(i);return}i=t.ownerDocument||t,l=lm(l),(n=na.get(n))&&eu(l,n),i=i.createElement("link"),ht(i);var r=i;r._p=new Promise(function(f,p){r.onload=f,r.onerror=p}),St(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ks.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var au=0;function o0(e,t){return e.stylesheets&&e.count===0&&As(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&As(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&au===0&&(au=62500*X1());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&As(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>au?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function ks(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)As(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ws=null;function As(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ws=new Map,t.forEach(d0,e),ws=null,ks.call(e))}function d0(e,t){if(!(t.state.loading&4)){var a=ws.get(e);if(a)var l=a.get(null);else{a=new Map,ws.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),l=r)}l&&a.set(null,l)}n=t.instance,r=n.getAttribute("data-precedence"),i=a.get(r)||l,i===l&&a.set(null,n),a.set(r,n),this.count++,l=ks.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var hi={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function f0(e,t,a,l,n,i,r,f,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function rm(e,t,a,l,n,i,r,f,p,A,U,X){return e=new f0(e,t,a,r,p,A,U,X,f),t=1,i===!0&&(t|=24),i=Ut(3,null,null,t),e.current=i,i.stateNode=e,t=Oc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},Uc(i),e}function um(e){return e?(e=Pl,e):Pl}function om(e,t,a,l,n,i){n=um(n),l.context===null?l.context=n:l.pendingContext=n,l=$a(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=Fa(e,l,t),a!==null&&(Ot(a,e,t),Qn(a,e,t))}function dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function lu(e,t){dm(e,t),(e=e.alternate)&&dm(e,t)}function fm(e){if(e.tag===13||e.tag===31){var t=vl(e,67108864);t!==null&&Ot(t,e,67108864),lu(e,67108864)}}function mm(e){if(e.tag===13||e.tag===31){var t=Xt();t=Tn(t);var a=vl(e,t);a!==null&&Ot(a,e,t),lu(e,t)}}var Rs=!0;function m0(e,t,a,l){var n=T.T;T.T=null;var i=K.p;try{K.p=2,nu(e,t,a,l)}finally{K.p=i,T.T=n}}function h0(e,t,a,l){var n=T.T;T.T=null;var i=K.p;try{K.p=8,nu(e,t,a,l)}finally{K.p=i,T.T=n}}function nu(e,t,a,l){if(Rs){var n=iu(l);if(n===null)Xr(e,t,l,Ds,a),ym(e,l);else if(p0(n,e,t,a,l))l.stopPropagation();else if(ym(e,l),t&4&&-1<y0.indexOf(e)){for(;n!==null;){var i=Yl(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=Q(i.pendingLanes);if(r!==0){var f=i;for(f.pendingLanes|=2,f.entangledLanes|=2;r;){var p=1<<31-Ct(r);f.entanglements[1]|=p,r&=~p}pa(i),(qe&6)===0&&(ys=Ke()+500,ri(0))}}break;case 31:case 13:f=vl(i,2),f!==null&&Ot(f,i,2),gs(),lu(i,2)}if(i=iu(l),i===null&&Xr(e,t,l,Ds,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else Xr(e,t,l,null,a)}}function iu(e){return e=cc(e),su(e)}var Ds=null;function su(e){if(Ds=null,e=Gl(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=x(t),e!==null)return e;e=null}else if(a===31){if(e=S(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ds=e,null}function hm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(La()){case zt:return 2;case Kt:return 8;case ba:case ql:return 32;case da:return 268435456;default:return 32}default:return 32}}var cu=!1,cl=null,rl=null,ul=null,yi=new Map,pi=new Map,ol=[],y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":ul=null;break;case"pointerover":case"pointerout":yi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(t.pointerId)}}function gi(e,t,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Yl(t),t!==null&&fm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function p0(e,t,a,l,n){switch(t){case"focusin":return cl=gi(cl,e,t,a,l,n),!0;case"dragenter":return rl=gi(rl,e,t,a,l,n),!0;case"mouseover":return ul=gi(ul,e,t,a,l,n),!0;case"pointerover":var i=n.pointerId;return yi.set(i,gi(yi.get(i)||null,e,t,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,pi.set(i,gi(pi.get(i)||null,e,t,a,l,n)),!0}return!1}function pm(e){var t=Gl(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=x(a),t!==null){e.blockedOn=t,Tu(e.priority,function(){mm(a)});return}}else if(t===31){if(t=S(a),t!==null){e.blockedOn=t,Tu(e.priority,function(){mm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _s(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=iu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);sc=l,a.target.dispatchEvent(l),sc=null}else return t=Yl(a),t!==null&&fm(t),e.blockedOn=a,!1;t.shift()}return!0}function gm(e,t,a){_s(e)&&a.delete(t)}function g0(){cu=!1,cl!==null&&_s(cl)&&(cl=null),rl!==null&&_s(rl)&&(rl=null),ul!==null&&_s(ul)&&(ul=null),yi.forEach(gm),pi.forEach(gm)}function Os(e,t){e.blockedOn===t&&(e.blockedOn=null,cu||(cu=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,g0)))}var Hs=null;function xm(e){Hs!==e&&(Hs=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Hs===e&&(Hs=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(su(l||a)===null)continue;break}var i=Yl(a);i!==null&&(e.splice(t,3),t-=3,ir(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Nn(e){function t(p){return Os(p,e)}cl!==null&&Os(cl,e),rl!==null&&Os(rl,e),ul!==null&&Os(ul,e),yi.forEach(t),pi.forEach(t);for(var a=0;a<ol.length;a++){var l=ol[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ol.length&&(a=ol[0],a.blockedOn===null);)pm(a),a.blockedOn===null&&ol.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],r=n[kt]||null;if(typeof i=="function")r||xm(a);else if(r){var f=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[kt]||null)f=r.formAction;else if(su(n)!==null)continue}else f=r.action;typeof f=="function"?a[l+1]=f:(a.splice(l,3),l-=3),xm(a)}}}function bm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function ru(e){this._internalRoot=e}qs.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,l=Xt();om(a,l,e,t,null,null)},qs.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;om(e.current,2,null,e,null,null),gs(),t[Ll]=null}};function qs(e){this._internalRoot=e}qs.prototype.unstable_scheduleHydration=function(e){if(e){var t=zu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ol.length&&t!==0&&t<ol[a].priority;a++);ol.splice(a,0,e),a===0&&pm(e)}};var vm=o.version;if(vm!=="19.2.0")throw Error(u(527,vm,"19.2.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=y(t),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var x0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{sa=Bs.inject(x0),ot=Bs}catch{}}return bi.createRoot=function(e,t){if(!m(e))throw Error(u(299));var a=!1,l="",n=Ed,i=zd,r=Td;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=rm(e,1,!1,null,null,a,l,null,n,i,r,bm),e[Ll]=t.current,Vr(e),new ru(t)},bi.hydrateRoot=function(e,t,a){if(!m(e))throw Error(u(299));var l=!1,n="",i=Ed,r=zd,f=Td,p=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.formState!==void 0&&(p=a.formState)),t=rm(e,1,!0,t,a??null,l,n,p,i,r,f,bm),t.context=um(null),a=t.current,l=Xt(),l=Tn(l),n=$a(l),n.callback=null,Fa(a,n,l),a=l,t.current.lanes=a,at(t,a),pa(t),e[Ll]=t.current,Vr(e),new qs(t)},bi.version="19.2.0",bi}var wm;function z0(){if(wm)return du.exports;wm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(o){console.error(o)}}return c(),du.exports=E0(),du.exports}var T0=z0();const k0=Vm(T0);function Dl(c,o,d){let u,m;return o==="pointy"?(u=d.x*(Math.sqrt(3)*c.q+Math.sqrt(3)/2*c.r),m=d.y*(3/2*c.r)):(u=d.x*(3/2*c.q),m=d.y*(Math.sqrt(3)/2*c.q+Math.sqrt(3)*c.r)),{x:u,y:m}}function Ni(c,o,d=1){const u=[];for(let m=0;m<6;m++){const h=Math.PI/180*(60*m-(c==="pointy"?30:0));u.push({x:o.x*Math.cos(h)*d,y:o.y*Math.sin(h)*d})}return u}function Si(c,o){const d=o[c],u=o[(c+1)%6];return!d||!u?"":`M ${d.x} ${d.y} L ${u.x} ${u.y}`}function yu(c,o){let d=1/0,u=-1;for(let m=0;m<6;m++){const h=o[m],x=o[(m+1)%6];if(!h||!x)continue;const S=x.x-h.x,g=x.y-h.y,y=((c.x-h.x)*S+(c.y-h.y)*g)/(S*S+g*g),R=y<0?h.x:y>1?x.x:h.x+y*S,N=y<0?h.y:y>1?x.y:h.y+y*g,j=Math.sqrt(Math.pow(c.x-R,2)+Math.pow(c.y-N,2));j<d&&(d=j,u=m)}return u}const w0=[{q:1,r:0},{q:0,r:1},{q:-1,r:1},{q:-1,r:0},{q:0,r:-1},{q:1,r:-1}];function Ks(c){return w0.map(o=>({q:c.q+o.q,r:c.r+o.r}))}function _l(c,o){const d=Math.abs(c.q-o.q),u=Math.abs(c.r-o.r),m=Math.abs(-c.q-c.r-(-o.q-o.r));return(d+u+m)/2}function A0({initialWidth:c,initialHeight:o,minZoom:d=.1,maxZoom:u=10,enabled:m=!0}){const[h,x]=w.useState(`${-c/2} ${-o/2} ${c} ${o}`),[S,g]=w.useState(1),[y,R]=w.useState(!1),N=w.useRef(!1),j=w.useRef({x:0,y:0}),E=w.useRef(null),q=w.useCallback(v=>Math.max(d,Math.min(u,v)),[d,u]),D=w.useCallback(v=>{N.current=v,R(v)},[]),O=w.useCallback(v=>{m&&(v.preventDefault(),D(!0),j.current={x:v.clientX,y:v.clientY})},[m,D]),V=w.useCallback(v=>{if(!N.current)return;const Y=v.clientX-j.current.x,$=v.clientY-j.current.y;j.current={x:v.clientX,y:v.clientY},x(z=>{const P=z.split(" ").map(parseFloat),ue=P[0],ie=P[1],se=P[2],J=P[3];return ue===void 0||ie===void 0||se===void 0||J===void 0?z:`${ue-Y/S} ${ie-$/S} ${se} ${J}`})},[S]),B=w.useCallback(()=>{D(!1)},[D]),Z=w.useCallback(v=>{if(!m)return;v.preventDefault();const Y=E.current;if(!Y)return;const $=Y.getBoundingClientRect(),z=v.clientX-$.left,P=v.clientY-$.top;g(ue=>{const ie=q(ue*(1-v.deltaY/500));if(ie===ue)return ue;const se=ie/ue,J=ue===0?Number.EPSILON:ue;return x(de=>{const[Re,pe,T,K]=de.split(" ").map(Number);if([Re,pe,T,K].some(L=>Number.isNaN(L)))return de;const ee=T/se,ge=K/se,xe=Re+z/J*(1-1/se),b=pe+P/J*(1-1/se);return`${xe} ${b} ${ee} ${ge}`}),ie})},[q,m]);return w.useEffect(()=>{if(!m)return;const v=$=>V($),Y=()=>B();return window.addEventListener("mousemove",v),window.addEventListener("mouseup",Y),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",Y)}},[m,V,B]),w.useEffect(()=>{if(!m)return;const v=E.current;if(v)return v.addEventListener("wheel",Z,{passive:!1}),()=>{v.removeEventListener("wheel",Z)}},[m,Z]),{viewbox:h,containerRef:E,onMouseDown:O,isPanning:m?y:!1}}const Zm={realm:{"canvas-backdrop":"#191f29","map-viewport":"#18272e","command-panel-surface":"#324446","command-panel-hover":"#435360","card-surface":"#eaebec"},border:{"panel-divider":"#41403f","holding-marker":"#813a28","landmark-marker":"#3f6e66"},text:{"high-contrast":"#eaebec",muted:"#a7a984",subtle:"#c5d2cb",inverse:"#221f21","accent-headline":"#736b23"},actions:{"command-primary":"#736b23ff","command-primary-hover":"#9d8940","danger-base":"#60131b","danger-hover":"#8a2a34"},feedback:{"info-panel":"#435360","success-highlight":"#777741","mystic-highlight":"#55375d"},mythic:{"myth-glow":"#eece22cc","seat-of-power":"#eece22"},overlay:{scrim:"rgba(0, 0, 0, 0.7)"},terrain:{marsh:{base:"#324446",deepwater:"#324446"},heath:{base:"#777741",brush:"#777741"},crags:{base:"#18272e",stone:"#18272e"},peaks:{base:"#41403f",ridge:"#41403f"},forest:{base:"#777741",canopy:"#777741"},valley:{base:"#a7a984",meander:"#a7a984"},hills:{base:"#9d8940",rise:"#9d8940"},meadow:{base:"#eaebec",bloom:"#eaebec"},bog:{base:"#18272e",hollows:"#18272e"},lakes:{base:"#3f6e66",surface:"#3f6e66"},glades:{base:"#c5d2cb",light:"#c5d2cb"},plain:{base:"#a7a984",expanse:"#a7a984"}}},Qm=(c,o=[])=>Object.entries(c).reduce((d,[u,m])=>{const h=[...o,u].join("-");return typeof m=="string"?(d[h]=m,d):(Object.assign(d,Qm(m,[...o,u])),d)},{}),Eu=Qm(Zm),Am=/^#(?:[0-9a-f]{3}|[0-9a-f]{6})$/i,Ol=c=>{const o=c.trim(),d=Eu[o];return d?Am.test(d)?d.toUpperCase():d:Am.test(o)?o.toUpperCase():o},R0=c=>`terrain-${c}-base`,Km=c=>{var o;return((o=Eu[R0(c)])==null?void 0:o.toUpperCase())??"#CCCCCC"},Ht=Eu,Zt=Object.fromEntries(Object.keys(Zm.terrain).map(c=>[c,Ht[`terrain-${c}-base`]])),D0=Ht["mythic-myth-glow"],Zs=Ht["actions-danger-base"],Ci=Ht["actions-command-primary"],_0=Ht["mythic-seat-of-power"],O0=Ht["border-holding-marker"],H0=Ht["border-landmark-marker"],q0=Ht["text-inverse"];Ht["text-high-contrast"];const B0=Ht["realm-card-surface"],U0=Ht["border-panel-divider"];Ht["realm-command-panel-surface"];Ht["feedback-success-highlight"];const Ys="rgba(234, 235, 236, 0.2)",Jm=1,Vs={holdings:{},seatOfPower:!0,landmarks:{},myths:{},showBarriers:!1},Cn=12,ml=["marsh","heath","crags","peaks","forest","valley","hills","meadow","bog","lakes","glades","plain"],L0=["peaks","crags","hills","heath","forest","meadow","plain","glades","valley","marsh","bog","lakes"],G0=["castle","city","town","village"],Y0=["dwelling","sanctum","monument","hazard","curse","ruins"],V0=1/6,X0=["tree-pine","leaf","feather","flower","grass","sprout","shrub","triangle","waves","droplet","sun","wind","star","sparkle","cloud","rock","flag","snowflake","branch","river","path","wave-sine","chevron-up","skull","fish","tree-deciduous","sparkles"],ft=5,Js=c=>{const o=[];for(let d=0;d<ft;d++)for(let u=0;u<ft;u++)o.push(c(u,d)?1:0);return o},En=Math.floor(ft/2),Us=Js((c,o)=>Math.abs(c-En)<=1&&Math.abs(o-En)<=1),pu=Js((c,o)=>Math.sqrt(Math.pow(c-En,2)+Math.pow(o-En,2))>En*.7),Z0=Js((c,o)=>Math.abs(o-En)<=1),Mi=Js(()=>!0),Je={marsh:{icons:["droplet","feather","waves"],settings:{mode:"random",density:5,sizeMin:10,sizeMax:14,opacityMin:.75,opacityMax:.95,color:"text-high-contrast",placementMask:Mi,centerBias:.1,minSeparation:5,scaleVariance:.5}},heath:{icons:["leaf","grass","wind"],settings:{density:3,sizeMin:10,sizeMax:12,opacityMin:.55,opacityMax:.85,color:"text-inverse",placementMask:Mi,centerBias:.05,minSeparation:8,scaleVariance:.35}},crags:{icons:["triangle","rock","flag"],settings:{mode:"grid",sizeMin:12,sizeMax:16,opacityMin:.8,opacityMax:.9,color:"text-high-contrast",placementMask:pu,gridDensity:3,gridSize:.85,gridJitter:.15,gridBaseRotation:-20,gridRotationRange:8,iconBaseRotation:-5,scaleVariance:.25}},peaks:{icons:["triangle","flag","snowflake"],settings:{mode:"grid",sizeMin:14,sizeMax:18,opacityMin:.75,opacityMax:.95,color:"text-high-contrast",placementMask:pu,gridDensity:2,gridSize:.9,gridJitter:.05,gridBaseRotation:12,gridRotationRange:12,iconBaseRotation:0,scaleVariance:.2}},forest:{icons:["tree-pine","leaf","branch"],settings:{density:6,sizeMin:11,sizeMax:13,opacityMin:.85,opacityMax:1,color:"text-inverse",placementMask:Mi,centerBias:.2,minSeparation:5,scaleVariance:.45}},valley:{icons:["river","path","sprout"],settings:{density:3,sizeMin:10,sizeMax:12,opacityMin:.65,opacityMax:.85,color:"text-inverse",placementMask:Z0,centerBias:.4,minSeparation:6,scaleVariance:.4}},hills:{icons:["wave-sine","chevron-up","rock"],settings:{density:3,sizeMin:11,sizeMax:14,opacityMin:.7,opacityMax:.9,color:"text-inverse",placementMask:Mi,centerBias:.15,minSeparation:7,scaleVariance:.35}},meadow:{icons:["flower","grass","sun"],settings:{density:2,sizeMin:12,sizeMax:14,opacityMin:.55,opacityMax:.75,color:"text-inverse",placementMask:Us,centerBias:.3,minSeparation:10,scaleVariance:.4}},bog:{icons:["droplet","skull","feather"],settings:{density:4,sizeMin:10,sizeMax:13,opacityMin:.6,opacityMax:.85,color:"text-high-contrast",placementMask:pu,centerBias:.05,minSeparation:6,scaleVariance:.45}},lakes:{icons:["waves","droplet","fish"],settings:{mode:"grid",density:3,sizeMin:12,sizeMax:16,opacityMin:.55,opacityMax:.75,color:"text-high-contrast",placementMask:Us,gridDensity:3,gridSize:.8,gridJitter:.1,gridBaseRotation:0,gridRotationRange:6,iconBaseRotation:0,scaleVariance:.3}},glades:{icons:["tree-deciduous","sparkles","sun"],settings:{mode:"grid",density:3,sizeMin:11,sizeMax:13,opacityMin:.65,opacityMax:.85,color:"text-inverse",placementMask:Us,gridDensity:3,gridSize:.7,gridJitter:.2,gridBaseRotation:0,gridRotationRange:10,iconBaseRotation:0,centerBias:.2,scaleVariance:.35}},plain:{icons:["wind","cloud","grass"],settings:{density:2,sizeMin:10,sizeMax:12,opacityMin:.5,opacityMax:.7,color:"text-inverse",placementMask:Us,centerBias:.2,minSeparation:12,scaleVariance:.3}}},pt={mode:"random",density:3,sizeMin:10,sizeMax:10,opacityMin:1,opacityMax:1,color:Ht["text-inverse"],placementMask:Mi,centerBias:0,minSeparation:0,gridDensity:3,gridSize:.75,gridJitter:.1,gridBaseRotation:0,scaleVariance:.4,gridRotationRange:20,iconBaseRotation:0,seedOffset:0},Qs={terrain:[{id:"marsh",label:"Marsh",icon:"droplet",color:Zt.marsh,description:"Sodden lowlands thick with reeds and standing water. Travel is slow, but the damp earth hides secrets and strange wildlife.",sprayIcons:[...Je.marsh.icons],spraySettings:{...pt,...Je.marsh.settings}},{id:"heath",label:"Heath",icon:"leaf",color:Zt.heath,description:"Open scrubland swept by relentless winds and hardy brush. A liminal place where travelers can see danger coming from afar.",sprayIcons:[...Je.heath.icons],spraySettings:{...pt,...Je.heath.settings}},{id:"crags",label:"Crags",icon:"triangle",color:Zt.crags,description:"Jagged highlands broken into cliffs of bare stone. Treacherous footing rewards climbers with stunning vantage points.",sprayIcons:[...Je.crags.icons],spraySettings:{...pt,...Je.crags.settings}},{id:"peaks",label:"Peaks",icon:"mountains",color:Zt.peaks,description:"Towering mountain summits often crowned with snow. Thin air and frigid winds shelter ancient shrines and nesting wyverns.",sprayIcons:[...Je.peaks.icons],spraySettings:{...pt,...Je.peaks.settings}},{id:"forest",label:"Forest",icon:"trees",color:Zt.forest,description:"Dense woodland of towering trunks and tangled undergrowth. Sunlight filters through the canopy, alive with birdsong and hidden paths.",sprayIcons:[...Je.forest.icons],spraySettings:{...pt,...Je.forest.settings}},{id:"valley",label:"Valley",icon:"curve",color:Zt.valley,description:"Sheltered lowlands carved by rivers and gentle slopes. Trade roads follow the water, drawing settlements and fertile farms.",sprayIcons:[...Je.valley.icons],spraySettings:{...pt,...Je.valley.settings}},{id:"hills",label:"Hills",icon:"hill",color:Zt.hills,description:"Rolling uplands of ridgelines and wind-swept rises. Shepherds and watchtowers cling to the heights to guard the realm.",sprayIcons:[...Je.hills.icons],spraySettings:{...pt,...Je.hills.settings}},{id:"meadow",label:"Meadow",icon:"flower",color:Zt.meadow,description:"Lush grasslands dotted with bright wildflowers. Ideal for foraging and grazing, these fields invite festivals in the warm months.",sprayIcons:[...Je.meadow.icons],spraySettings:{...pt,...Je.meadow.settings}},{id:"bog",label:"Bog",icon:"droplets",color:Zt.bog,description:"Peat-choked wetlands that cling to unwary travelers. Lantern lights drift across the mist, not all of them friendly.",sprayIcons:[...Je.bog.icons],spraySettings:{...pt,...Je.bog.settings}},{id:"lakes",label:"Lakes",icon:"waves",color:Zt.lakes,description:"Deep inland waters fed by streams and hidden springs. Fisherfolk ply their trade while legends speak of things beneath the surface.",sprayIcons:[...Je.lakes.icons],spraySettings:{...pt,...Je.lakes.settings}},{id:"glades",label:"Glades",icon:"sun",color:Zt.glades,description:"Sunlit clearings cradled within surrounding trees. Sacred stones and hidden gatherings are said to appear under moonlight.",sprayIcons:[...Je.glades.icons],spraySettings:{...pt,...Je.glades.settings}},{id:"plain",label:"Plain",icon:"wind",color:Zt.plain,description:"Wide, open flatlands stretching toward distant horizons. Armies march here, but so do caravans and migrating herds.",sprayIcons:[...Je.plain.icons],spraySettings:{...pt,...Je.plain.settings}}],holding:[{id:"castle",label:"Castle",icon:"castle"},{id:"city",label:"City",icon:"city"},{id:"town",label:"Town",icon:"town"},{id:"village",label:"Village",icon:"village"}],landmark:[{id:"dwelling",label:"Dwelling",icon:"dwelling"},{id:"sanctum",label:"Sanctum",icon:"sanctum"},{id:"monument",label:"Monument",icon:"monument"},{id:"hazard",label:"Hazard",icon:"hazard"},{id:"curse",label:"Curse",icon:"curse"},{id:"ruins",label:"Ruins",icon:"ruins"}]},Q0=[{id:"myth",label:"Myth",icon:"sparkle"},{id:"seatOfPower",label:"Seat of Power",icon:"crown"}],tt={self:.75,strong:.6,moderate:.4,weak:.2,none:0},zn={};ml.forEach(c=>{zn[c]={},ml.forEach(d=>{const u=zn[c];u&&(u[d]=tt.weak)});const o=zn[c];o&&(o[c]=tt.self)});const ut=(c,o,d)=>{const u=zn[c],m=zn[o];u&&m&&(u[o]=d,m[c]=d)};ut("peaks","crags",tt.strong);ut("peaks","hills",tt.moderate);ut("crags","hills",tt.strong);ut("lakes","marsh",tt.strong);ut("lakes","bog",tt.moderate);ut("marsh","bog",tt.strong);ut("plain","meadow",tt.strong);ut("plain","heath",tt.strong);ut("plain","valley",tt.moderate);ut("meadow","glades",tt.moderate);ut("valley","hills",tt.moderate);ut("forest","hills",tt.moderate);ut("forest","glades",tt.strong);ut("forest","valley",tt.moderate);ut("hills","plain",tt.moderate);ut("hills","meadow",tt.moderate);ut("peaks","marsh",tt.none);ut("peaks","bog",tt.none);ut("peaks","lakes",tt.none);ut("crags","lakes",tt.none);const gu=zn,$m={marsh:5,heath:10,crags:5,peaks:5,forest:15,valley:5,hills:15,meadow:10,bog:5,lakes:5,glades:5,plain:10},K0={balanced:{name:"Balanced Realm",options:{highlandFormation:"linear",highlandFormationStrength:.7,highlandFormationRotation:0,terrainRoughness:.5,terrainBiases:{...$m}}},jagged:{name:"Jagged Peaks",options:{highlandFormation:"circle",highlandFormationStrength:1,highlandFormationRotation:0,terrainRoughness:.8,terrainBiases:{marsh:1,heath:2,crags:20,peaks:25,forest:5,valley:3,hills:20,meadow:2,bog:1,lakes:1,glades:2,plain:5}}},lush:{name:"Lush Lowlands",options:{highlandFormation:"linear",highlandFormationStrength:.5,highlandFormationRotation:180,terrainRoughness:.25,terrainBiases:{marsh:15,heath:5,crags:1,peaks:1,forest:25,valley:10,hills:5,meadow:8,bog:10,lakes:10,glades:8,plain:12}}},sunkenCaldera:{name:"Sunken Caldera",options:{highlandFormation:"circle",highlandFormationStrength:1,highlandFormationInverse:!0,terrainRoughness:.75,terrainBiases:{marsh:5,heath:2,crags:20,peaks:25,forest:3,valley:5,hills:15,meadow:1,bog:10,lakes:15,glades:1,plain:2}}}};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fm=(...c)=>c.filter((o,d,u)=>!!o&&u.indexOf(o)===d).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=w.forwardRef(({color:c="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:u,className:m="",children:h,iconNode:x,...S},g)=>w.createElement("svg",{ref:g,...$0,width:o,height:o,stroke:c,strokeWidth:u?Number(d)*24/Number(o):d,className:Fm("lucide",m),...S},[...x.map(([y,R])=>w.createElement(y,R)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(c,o)=>{const d=w.forwardRef(({className:u,...m},h)=>w.createElement(F0,{ref:h,iconNode:o,className:Fm(`lucide-${J0(c)}`,u),...m}));return d.displayName=`${c}`,d};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ae("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=ae("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=ae("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4",key:"1k4jtn"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ae("Church",[["path",{d:"M10 9h4",key:"u4k05v"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M14 22v-4a2 2 0 0 0-4 0v4",key:"1pdhuj"}],["path",{d:"M18 22V5.618a1 1 0 0 0-.553-.894l-4.553-2.277a2 2 0 0 0-1.788 0L6.553 4.724A1 1 0 0 0 6 5.618V22",key:"1rkokr"}],["path",{d:"m18 7 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.618a1 1 0 0 1 .553-.894L6 7",key:"1w6esw"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=ae("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=ae("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=ae("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=ae("DoorClosed",[["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}],["path",{d:"M14 12v.01",key:"xfcn54"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ae("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=ae("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ae("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=ae("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=ae("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=ae("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ae("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=ae("Flower",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=ae("Framer",[["path",{d:"M5 16V9h14V2H5l14 14h-7m-7 0 7 7v-7m-7 0h7",key:"1a2nng"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ae("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ae("GitBranchPlus",[["path",{d:"M6 3v12",key:"qpgusn"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"1d02ji"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"chk6ph"}],["path",{d:"M15 6a9 9 0 0 0-9 9",key:"or332x"}],["path",{d:"M18 15v6",key:"9wciyi"}],["path",{d:"M21 18h-6",key:"139f0c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ae("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ae("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ae("ImageDown",[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=ae("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ae("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=ae("MountainSnow",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}],["path",{d:"M4.14 15.08c2.62-1.57 5.24-1.43 7.86.42 2.74 1.94 5.49 2 8.23.19",key:"1pvmmp"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=ae("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=ae("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ae("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=ae("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=ae("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=ae("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ae("Shrub",[["path",{d:"M12 22v-7l-2-2",key:"eqv9mc"}],["path",{d:"M17 8v.8A6 6 0 0 1 13.8 20H10A6.5 6.5 0 0 1 7 8a5 5 0 0 1 10 0Z",key:"ubcgy"}],["path",{d:"m14 14-2 2",key:"847xa2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=ae("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=ae("Slice",[["path",{d:"m8 14-6 6h9v-3",key:"zo3j9a"}],["path",{d:"M18.37 3.63 8 14l3 3L21.37 6.63a2.12 2.12 0 1 0-3-3Z",key:"1dzx0j"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=ae("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=ae("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=ae("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=ae("Spline",[["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=ae("SprayCan",[["path",{d:"M3 3h.01",key:"159qn6"}],["path",{d:"M7 5h.01",key:"1hq22a"}],["path",{d:"M11 7h.01",key:"1osv80"}],["path",{d:"M3 7h.01",key:"1xzrh3"}],["path",{d:"M7 9h.01",key:"19b3jx"}],["path",{d:"M3 11h.01",key:"1eifu7"}],["rect",{width:"4",height:"4",x:"15",y:"5",key:"mri9e4"}],["path",{d:"m19 9 2 2v10c0 .6-.4 1-1 1h-6c-.6 0-1-.4-1-1V11l2-2",key:"aib6hk"}],["path",{d:"m13 14 8-2",key:"1d7bmk"}],["path",{d:"m13 19 8-2",key:"1y2vml"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=ae("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=ae("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=ae("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ae("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ae("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=ae("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ae("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ae("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=ae("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cp={sparkles:Qy,settings:Uy,grid:Ny,undo:ap,redo:qy,eye:my,upload:py,download:yy,"image-down":Ey,sun:Fy,moon:Ay,"mouse-pointer-2":Ry,brush:ey,"barrier-painter":Yy,"map-pin-pen":ky,sparkle:Zy,close:sp,crown:oy,plus:Hy,minus:wy,"chevron-up":ny,"chevron-down":ly,move:Dy,"trash-2":Iy,pipette:Oy,reset:By,star:$y,"help-circle":sy,info:zy,network:_y,compass:uy,"arrow-up":I0,circle:cy,"spray-can":Ky,"grip-vertical":jy,sliders:Vy,trees:Hm,leaf:Dm,mountain:Om,mountains:_m,waves:lp,water:Rm,"mountain-range":_m,tree:Hm,droplet:fy,triangle:tp,hill:Om,flower:by,droplets:Rm,wind:ip,"tree-pine":Py,curve:xu,feather:hy,cloud:ry,grass:np,sprout:Jy,shrub:Ly,flag:xy,snowflake:Xy,branch:Sy,river:xu,path:xu,"wave-sine":W0,skull:Gy,fish:gy,rock:My,"tree-deciduous":Dm,castle:ay,city:ty,town:Cy,village:Wy,dwelling:dy,sanctum:iy,monument:Ty,hazard:ep,curse:P0,ruins:vy},he=({name:c,...o})=>{const d=cp[c];return d?s.jsx(d,{strokeWidth:1.5,...o}):null},rp=({icon:c,label:o,isActive:d,onClick:u})=>s.jsx("button",{onClick:u,className:`p-3 rounded-lg transition-colors duration-150 ${d?"bg-actions-command-primary text-text-high-contrast":"bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover"}`,"aria-label":o,title:o,children:s.jsx(he,{name:c,className:"w-6 h-6"})});function up({activeTool:c,setActiveTool:o}){const d=[{id:"select",icon:"mouse-pointer-2",label:"Select Tool"},{id:"terrain",icon:"brush",label:"Terrain Painter"},{id:"barrier",icon:"barrier-painter",label:"Barrier Painter"},{id:"poi",icon:"map-pin-pen",label:"Points of Interest Painter"},{id:"myth",icon:"sparkle",label:"Myth Tool"}];return s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-2 p-2 bg-realm-canvas-backdrop/80 border border-border-panel-divider rounded-xl shadow-lg z-10",children:d.map(u=>s.jsx(rp,{icon:u.icon,label:u.label,isActive:c===u.id,onClick:()=>o(u.id)},u.id))})}const Ls=({keys:c,description:o})=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center",children:c.map((d,u)=>s.jsxs(Ei.Fragment,{children:[s.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-realm-command-panel-surface font-sans",children:d}),u<c.length-1&&s.jsx("span",{className:"mx-1",children:"+"})]},d))}),s.jsx("span",{children:o})]});function op(){return s.jsxs("div",{className:"absolute bottom-4 left-4 bg-realm-canvas-backdrop/80 border border-border-panel-divider p-3 rounded-lg shadow-lg text-xs text-text-muted z-10 pointer-events-none space-y-2",children:[s.jsx(Ls,{keys:["Space"],description:"Pan Map"}),s.jsx(Ls,{keys:["Ctrl","Z"],description:"Undo"}),s.jsx(Ls,{keys:["Ctrl","Y"],description:"Redo"}),s.jsx(Ls,{keys:["Ctrl","I"],description:"Pipette Tool"})]})}const dp=({points:c,activeTool:o,isPickingTile:d})=>{const u=["select","poi","myth"].includes(o)&&!d;return s.jsx("polygon",{points:c.map(m=>`${m.x},${m.y}`).join(" "),fill:"none",stroke:Ci,strokeOpacity:"0.8",strokeWidth:"2.5",strokeLinejoin:"round",className:`hex-hover-highlight opacity-0 ${u?"group-hover:opacity-100":""} transition-opacity duration-150`,style:{pointerEvents:"none"}})},fp=({activeTile:c,hexCorners:o,viewOptions:d,isSeatOfPower:u,isHolding:m})=>{if(!(c!=null&&c.icon))return null;const h=u?_0:m?O0:H0;return s.jsxs("g",{style:{pointerEvents:"none"},children:[s.jsx("polygon",{points:o.map(x=>`${x.x},${x.y}`).join(" "),transform:"scale(0.75)",fill:B0,stroke:h,strokeWidth:u?6/.75:4/.75,strokeLinejoin:"round"}),s.jsx(he,{name:c.icon,x:-d.hexSize.x*.4,y:-d.hexSize.y*.4,width:d.hexSize.x*.8,height:d.hexSize.y*.8,className:"text-text-inverse",strokeWidth:2})]})},mp=({points:c,isSelected:o,activeTool:d})=>!o||d==="barrier"?null:s.jsx("polygon",{points:c.map(u=>`${u.x},${u.y}`).join(" "),fill:"none",stroke:Ci,strokeWidth:4,strokeLinejoin:"round",className:"hex-selection-highlight",style:{pointerEvents:"none"}}),hp=({mythId:c,showMyths:o,hexSize:d})=>!o||!c?null:s.jsxs("g",{style:{pointerEvents:"none"},children:[s.jsx("circle",{r:d.x*.3,fill:D0}),s.jsx("text",{textAnchor:"middle",dy:".3em",fill:q0,className:"font-myth-number text-[1.8em]",children:c})]}),yp=({barrierEdges:c,hexCorners:o,barrierColor:d,showBarriers:u})=>!u||c.length===0?null:s.jsx("g",{style:{pointerEvents:"none"},children:c.map(m=>s.jsx("path",{d:Si(m,o),stroke:d,strokeWidth:"6",strokeLinecap:"round"},m))}),pp=({textureUrl:c,hexBoundingBox:o,hexCorners:d,showGrid:u,gridColor:m,gridWidth:h})=>s.jsxs(s.Fragment,{children:[c?s.jsx("image",{href:c,x:o.x,y:o.y,width:o.width,height:o.height,clipPath:"url(#hex-clip-path)",preserveAspectRatio:"xMidYMid slice"}):s.jsx("polygon",{points:d.map(x=>`${x.x},${x.y}`).join(" "),fill:"#FF00FF"}),u&&s.jsx("polygon",{points:d.map(x=>`${x.x},${x.y}`).join(" "),fill:"none",stroke:m,strokeWidth:h,style:{pointerEvents:"none"}})]}),Wm=Ei.memo(({hex:c,viewOptions:o,tileSets:d,terrainTextures:u,barrierColor:m,isSelected:h,isSeatOfPower:x,isSpacePanActive:S,activeTool:g,isPickingTile:y,onMouseDown:R,onMouseMove:N,hexCorners:j,hexCornersInnerHighlight:E,hexBoundingBox:q,layer:D})=>{const O=Dl(c,o.orientation,o.hexSize),V=o.visibility.knight,B=o.isGmView,Z=w.useMemo(()=>c.holding?d.holding.find(T=>T.id===c.holding):null,[c.holding,d.holding]),v=w.useMemo(()=>c.landmark?d.landmark.find(T=>T.id===c.landmark):null,[c.landmark,d.landmark]),Y=Z?V.holdings[Z.id]:void 0,$=Z&&(B||(Y??!0))?Z:null,z=v?V.landmarks[v.id]:void 0,ue=$??(v&&(B||(z??!0))?v:null),ie=!!$,se=x&&(B||V.seatOfPower),J=B||!c.myth?!0:V.myths[c.myth]??!0,de=B||V.showBarriers,Re=u?u[c.terrain]:null;let pe="";if(Re){let T;o.showIconSpray?T=Re.withSpray:T=Re.withoutSpray,pe=T}return s.jsxs("g",{transform:`translate(${O.x}, ${O.y})`,onMouseDown:T=>R(c,T),onMouseMove:T=>N(c,T),className:"group",style:{pointerEvents:S?"none":"auto"},children:[D==="background"&&s.jsxs(s.Fragment,{children:[s.jsx(pp,{textureUrl:pe,hexBoundingBox:q,hexCorners:j,showGrid:o.showGrid,gridColor:o.gridColor,gridWidth:o.gridWidth}),s.jsx(fp,{activeTile:ue,hexCorners:j,viewOptions:o,isSeatOfPower:se,isHolding:ie}),s.jsx(hp,{mythId:c.myth,showMyths:J,hexSize:o.hexSize})]}),D==="foreground"&&s.jsxs(s.Fragment,{children:[s.jsx("polygon",{points:j.map(T=>`${T.x},${T.y}`).join(" "),fill:"transparent",stroke:"none"}),s.jsx(dp,{points:E,activeTool:g,isPickingTile:y}),s.jsx(mp,{points:E,isSelected:h,activeTool:g}),s.jsx(yp,{barrierEdges:c.barrierEdges,hexCorners:j,barrierColor:m,showBarriers:de})]})]})});Wm.displayName="Hexagon";function Im({realm:c,onUpdateHex:o,viewOptions:d,selectedHex:u,onHexClick:m,activeTool:h,setActiveTool:x,paintTerrain:S,paintPoi:g,onAddMyth:y,onRemoveMyth:R,relocatingMythId:N,onRelocateMyth:j,onSetSeatOfPower:E,tileSets:q,barrierColor:D,isSettingsOpen:O,isPickingTile:V,onTilePick:B,setConfirmation:Z,terrainTextures:v,isLoadingTextures:Y,svgId:$="hex-grid-svg",isInteractive:z=!0,staticPadding:P}){const{viewbox:ue,containerRef:ie,onMouseDown:se,isPanning:J}=A0({initialWidth:1e3,initialHeight:800,minZoom:.2,maxZoom:5,enabled:z}),de=w.useMemo(()=>Ni(d.orientation,d.hexSize),[d.orientation,d.hexSize]),Re=w.useMemo(()=>Ni(d.orientation,d.hexSize,.9),[d.orientation,d.hexSize]),pe=w.useMemo(()=>{const I=de.map(Ie=>Ie.x),re=de.map(Ie=>Ie.y),ye=Math.min(...I),_e=Math.min(...re),Ne=Math.max(...I),De=Math.max(...re);return{x:ye,y:_e,width:Ne-ye,height:De-_e}},[de]),[T,K]=w.useState(!1),[ee,ge]=w.useState(new Map),xe=w.useRef("add"),b=w.useMemo(()=>new Map(c.hexes.map(I=>[`${I.q},${I.r}`,I])),[c.hexes]),L=w.useMemo(()=>{if(z)return null;const I=P??Math.max(d.hexSize.x,d.hexSize.y);if(!c.hexes.length)return`${pe.x-I} ${pe.y-I} ${pe.width+I*2} ${pe.height+I*2}`;let re=Number.POSITIVE_INFINITY,ye=Number.POSITIVE_INFINITY,_e=Number.NEGATIVE_INFINITY,Ne=Number.NEGATIVE_INFINITY;if(c.hexes.forEach(gt=>{const ia=Dl(gt,d.orientation,d.hexSize),Ke=ia.x+pe.x,La=Ke+pe.width,zt=ia.y+pe.y,Kt=zt+pe.height;Ke<re&&(re=Ke),zt<ye&&(ye=zt),La>_e&&(_e=La),Kt>Ne&&(Ne=Kt)}),!Number.isFinite(re)||!Number.isFinite(ye)||!Number.isFinite(_e)||!Number.isFinite(Ne))return`${pe.x-I} ${pe.y-I} ${pe.width+I*2} ${pe.height+I*2}`;const De=_e-re,Ie=Ne-ye;return`${re-I} ${ye-I} ${De+I*2} ${Ie+I*2}`},[pe.height,pe.width,pe.x,pe.y,z,c.hexes,P,d.hexSize,d.orientation]),F=z?ue:L??ue,te=w.useRef(null),[me,Me]=w.useState(!1),[be,Ze]=w.useState(null);w.useEffect(()=>{if(!z){Me(!1);return}const I=ye=>{ye.target.tagName!=="INPUT"&&ye.code==="Space"&&!ye.repeat&&(ye.preventDefault(),Me(!0))},re=ye=>{ye.code==="Space"&&(ye.preventDefault(),Me(!1))};return window.addEventListener("keydown",I),window.addEventListener("keyup",re),()=>{window.removeEventListener("keydown",I),window.removeEventListener("keyup",re)}},[z]),w.useEffect(()=>{const I=ie.current;if(!I)return;const re=["cursor-pipette","cursor-terrain-hover"];if(I.classList.remove(...re),I.style.cursor="",!!z)if(V)I.classList.add("cursor-pipette");else if(me)I.style.cursor=J?"grabbing":"grab";else if(N!==null)I.style.cursor="move";else switch(h){case"select":I.style.cursor="pointer";break;case"terrain":I.classList.add("cursor-terrain-hover");break;case"myth":case"barrier":case"poi":I.style.cursor="crosshair";break;default:I.style.cursor="default"}},[z,V,me,J,N,h,ie]);const Ge=w.useMemo(()=>{if(ee.size===0)return c.hexes;const I=new Map(c.hexes.map(re=>[`${re.q},${re.r}`,re]));return ee.forEach((re,ye)=>I.set(ye,re)),Array.from(I.values())},[c.hexes,ee]),qt=w.useCallback((I,re)=>{z&&(h!=="terrain"&&h!=="barrier"||ge(ye=>{const _e=(Ie,gt)=>ye.get(`${Ie},${gt}`)||b.get(`${Ie},${gt}`),Ne=_e(I.q,I.r);if(!Ne)return ye;const De=new Map(ye);if(h==="terrain"){if(Ne.terrain===S)return ye;De.set(`${I.q},${I.r}`,{...Ne,terrain:S})}else if(h==="barrier"&&re&&te.current){const Ie=Dl(I,d.orientation,d.hexSize),gt=te.current.createSVGPoint();gt.x=re.clientX,gt.y=re.clientY;const ia=te.current.getScreenCTM();if(!ia)return ye;const Ke=gt.matrixTransform(ia.inverse()),La={x:Number(Ke.x)-Number(Ie.x),y:Number(Ke.y)-Number(Ie.y)},zt=yu(La,de),Kt=xe.current==="add",ba=Ne.barrierEdges.includes(zt);if(Kt&&ba||!Kt&&!ba)return ye;const ql=Kt?[...Ne.barrierEdges,zt]:Ne.barrierEdges.filter(fa=>fa!==zt);De.set(`${I.q},${I.r}`,{...Ne,barrierEdges:[...new Set(ql)].sort((fa,sa)=>fa-sa)});const da=Ks(I)[zt];if(!da)return De;const Ga=_e(da.q,da.r);if(Ga){const fa=(Number(zt)+3)%6,sa=Kt?[...Ga.barrierEdges,fa]:Ga.barrierEdges.filter(ot=>ot!==fa);De.set(`${da.q},${da.r}`,{...Ga,barrierEdges:[...new Set(sa)].sort((ot,Jt)=>ot-Jt)})}}return De}))},[z,h,S,b,d.orientation,d.hexSize,de]),Ua=w.useCallback((I,re)=>{if(!z||re.button!==0)return;if(V){re.stopPropagation(),re.preventDefault(),B(I);return}if(N!==null){re.stopPropagation(),re.preventDefault();const _e=c.hexes.find(Ne=>Ne.q===I.q&&Ne.r===I.r);_e&&j(N,_e);return}if(h==="select"){m(I);return}re.stopPropagation(),re.preventDefault();const ye=b.get(`${I.q},${I.r}`);if(ye){if(h==="myth"){ye.myth?m(ye):y(ye,!0);return}if(h==="poi"&&g){const[_e,Ne]=g.split(":");if(typeof Ne>"u")return;if(_e==="action")Ne==="myth"?ye.myth?R(ye):y(ye):Ne==="seatOfPower"&&(ye.holding?E(ye):Z({isOpen:!0,title:"Invalid Action",message:"Seat of Power can only be set on a hex with a holding.",onConfirm:()=>Z(null),isInfo:!0}));else{const De={...ye};_e==="holding"?(De.holding===Ne?delete De.holding:De.holding=Ne,delete De.landmark):_e==="landmark"&&(De.landmark===Ne?delete De.landmark:De.landmark=Ne,delete De.holding),o([De])}return}if(h==="terrain"||h==="barrier"){if(K(!0),h==="barrier"&&te.current){const _e=Dl(I,d.orientation,d.hexSize),Ne=te.current.createSVGPoint();Ne.x=re.clientX,Ne.y=re.clientY;const De=te.current.getScreenCTM();if(!De)return;const Ie=Ne.matrixTransform(De.inverse()),gt={x:Ie.x-_e.x,y:Ie.y-_e.y},ia=yu(gt,de),Ke=ee.get(`${I.q},${I.r}`)||ye;xe.current=Ke!=null&&Ke.barrierEdges.includes(ia)?"remove":"add"}qt(I,re)}}},[z,V,B,N,c.hexes,j,h,m,b,y,g,R,E,Z,o,d.orientation,d.hexSize,de,ee,qt]),xa=w.useCallback(()=>{z&&T&&(K(!1),ee.size>0&&o(Array.from(ee.values())),ge(new Map))},[z,T,o,ee]),hl=w.useCallback((I,re)=>{if(!z)return;if(T&&qt(I,re),h!=="barrier"||T){be&&Ze(null);return}if(!te.current)return;const ye=Dl(I,d.orientation,d.hexSize),_e=te.current.createSVGPoint();_e.x=re.clientX,_e.y=re.clientY;const Ne=te.current.getScreenCTM();if(!Ne)return;const De=_e.matrixTransform(Ne.inverse()),Ie={x:De.x-ye.x,y:De.y-ye.y},gt=yu(Ie,de);(!be||be.q!==I.q||be.r!==I.r||be.edge!==gt)&&Ze({q:I.q,r:I.r,edge:gt})},[h,z,T,d.orientation,d.hexSize,de,be,qt]);if(Y||!v)return s.jsx("div",{className:"flex items-center justify-center h-full text-text-muted",children:s.jsx("p",{children:"Loading terrain textures..."})});const Qt=I=>Ge.map(re=>{const ye=u?re.q===u.q&&re.r===u.r:!1,_e=!!(re.holding&&re.q===c.seatOfPower.q&&re.r===c.seatOfPower.r);return s.jsx(Wm,{hex:re,viewOptions:d,tileSets:q,terrainTextures:v,barrierColor:D,isSelected:ye,isSeatOfPower:_e,isSpacePanActive:me,activeTool:h,isPickingTile:V,onMouseDown:Ua,onMouseMove:hl,hexCorners:de,hexCornersInnerHighlight:Re,hexBoundingBox:pe,layer:I},`hex-${I}-${re.q}-${re.r}`)});return s.jsxs("div",{ref:ie,className:"w-full h-full overflow-hidden bg-realm-map-viewport relative",children:[s.jsxs("svg",{ref:te,id:$,className:"w-full h-full",viewBox:F,onMouseDown:!z||V?void 0:se,onMouseUp:z?xa:void 0,onMouseLeave:z?()=>{xa(),Ze(null)}:void 0,children:[s.jsx("defs",{children:s.jsx("clipPath",{id:"hex-clip-path",children:s.jsx("polygon",{points:de.map(I=>`${I.x},${I.y}`).join(" ")})})}),s.jsx("g",{children:Qt("background")}),s.jsx("g",{children:Qt("foreground")}),z&&be&&h==="barrier"&&!T&&s.jsx("g",{style:{pointerEvents:"none"},children:(()=>{const I=b.get(`${be.q},${be.r}`);return I?s.jsx("g",{transform:`translate(${Dl(I,d.orientation,d.hexSize).x}, ${Dl(I,d.orientation,d.hexSize).y})`,children:s.jsx("path",{d:Si(be.edge,de),stroke:Ci,strokeOpacity:"0.8",strokeWidth:"8",strokeLinecap:"round"})}):null})()})]}),!O&&s.jsx(up,{activeTool:h,setActiveTool:x}),!O&&s.jsx(op,{})]})}const Ba=Ei.forwardRef(({onClick:c,icon:o,children:d,disabled:u,isActive:m,title:h},x)=>s.jsxs("button",{ref:x,onClick:c,className:`flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${m?"bg-actions-command-primary text-text-high-contrast":"bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover"}`,disabled:u,title:h,children:[s.jsx(he,{name:o,className:"w-4 h-4"}),d]}));Ba.displayName="ToolbarButton";const Gs=({icon:c,label:o,isActive:d,onClick:u})=>s.jsxs("button",{onClick:u,className:`flex items-center gap-3 w-full text-left p-3 rounded-md transition-colors ${d?"bg-actions-command-primary text-text-high-contrast":"text-text-muted hover:bg-realm-command-panel-surface"}`,children:[s.jsx(he,{name:c,className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:o})]}),ga=({title:c,children:o})=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-md font-semibold text-text-high-contrast mb-2",children:c}),s.jsx("div",{className:"space-y-4 p-4 bg-realm-map-viewport rounded-md border border-border-panel-divider",children:o})]}),gp=({realmShape:c,setRealmShape:o,realmRadius:d,setRealmRadius:u,realmWidth:m,setRealmWidth:h,realmHeight:x,setRealmHeight:S,generationOptions:g,setGenerationOptions:y,tileSets:R})=>{const N=(j,E)=>{y(q=>({...q,landmarks:{...q.landmarks,[j]:Math.max(0,parseInt(E,10)||0)}}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ga,{title:"Map Shape & Size",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-shape",className:"block text-sm font-medium text-text-muted mb-1",children:"Shape"}),s.jsxs("select",{id:"realm-shape",value:c,onChange:j=>o(j.target.value),className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md",children:[s.jsx("option",{value:"hex",children:"Hexagon"}),s.jsx("option",{value:"square",children:"Square"})]})]}),c==="hex"?s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-radius",className:"block text-sm font-medium text-text-muted mb-1",children:"Radius"}),s.jsx("input",{id:"realm-radius",type:"number",value:d,onChange:j=>u(Math.max(3,parseInt(j.target.value,10)||1)),min:"3",max:"50",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Realm radius"})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-width",className:"block text-sm font-medium text-text-muted mb-1",children:"Width"}),s.jsx("input",{id:"realm-width",type:"number",value:m,onChange:j=>h(Math.max(3,parseInt(j.target.value,10)||1)),min:"3",max:"50",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Realm width"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-height",className:"block text-sm font-medium text-text-muted mb-1",children:"Height"}),s.jsx("input",{id:"realm-height",type:"number",value:x,onChange:j=>S(Math.max(3,parseInt(j.target.value,10)||1)),min:"3",max:"50",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Realm height"})]})]})]}),s.jsx(ga,{title:"Points of Interest",children:s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:R.landmark.map(j=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{htmlFor:`landmark-${j.id}`,className:"text-sm text-text-muted",children:j.label}),s.jsx("input",{id:`landmark-${j.id}`,type:"number",value:g.landmarks[j.id]||0,onChange:E=>N(j.id,E.target.value),min:"0",className:"w-20 bg-realm-command-panel-surface p-1 text-sm text-center font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":`Number of ${j.label}`})]},j.id))})}),s.jsxs(ga,{title:"Myth & Mystery",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"num-holdings",className:"block text-sm font-medium text-text-muted mb-1",children:"Holdings"}),s.jsx("input",{id:"num-holdings",type:"number",value:g.numHoldings,onChange:j=>y(E=>({...E,numHoldings:Math.max(0,parseInt(j.target.value,10)||0)})),min:"0",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Number of holdings"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"num-myths",className:"block text-sm font-medium text-text-muted mb-1",children:"Myths"}),s.jsx("input",{id:"num-myths",type:"number",value:g.numMyths,onChange:j=>y(E=>({...E,numMyths:Math.max(0,parseInt(j.target.value,10)||0)})),min:"0",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Number of myths"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"myth-min-distance",className:"block text-sm font-medium text-text-muted mb-1",children:"Myth Min Distance"}),s.jsx("input",{id:"myth-min-distance",type:"number",value:g.mythMinDistance,onChange:j=>y(E=>({...E,mythMinDistance:Math.max(0,parseInt(j.target.value,10)||0)})),min:"0",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Minimum distance between myths"})]}),s.jsxs("label",{htmlFor:"generate-barriers",className:"flex items-center justify-between pt-4 border-t border-border-panel-divider cursor-pointer",children:[s.jsx("span",{className:"text-sm font-medium text-text-muted",children:"Generate Barriers"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"generate-barriers",type:"checkbox",checked:g.generateBarriers,onChange:j=>y(E=>({...E,generateBarriers:j.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-realm-command-panel-surface rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-actions-command-primary"})]})]})]})]})},Nt=({label:c,tooltip:o,value:d,onChange:u,min:m=0,max:h=1,step:x=.01,displayMultiplier:S=100,displaySuffix:g="%"})=>{const y=`slider-${c.toLowerCase().replace(/\s+/g,"-")}`,R=h-m,N=R===0?1:R,j=w.useMemo(()=>{const v=(d-m)/N*100;return Math.min(100,Math.max(0,v))},[d,m,N]),E=Ol("actions-command-primary"),q=Ol("realm-command-panel-surface"),D=Ol("realm-command-panel-surface"),O=Ol("border-panel-divider"),V=Math.round(d*S),B=w.useMemo(()=>({background:`linear-gradient(90deg, ${E} 0%, ${E} ${j}%, ${q} ${j}%, ${q} 100%)`,"--slider-thumb-bg":D,"--slider-thumb-border":O}),[E,q,D,O,j]),Z=v=>{const Y=parseFloat(v);Number.isNaN(Y)||u(Y)};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{htmlFor:y,className:"text-sm font-medium text-text-muted",children:c}),o&&s.jsxs("div",{className:"relative group",children:[s.jsx(he,{name:"help-circle",className:"w-4 h-4 text-text-muted cursor-help"}),s.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-64 p-2 bg-realm-map-viewport text-xs text-text-high-contrast rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20 border border-border-panel-divider",children:o})]})]}),s.jsxs("span",{className:"px-2 py-0.5 bg-realm-command-panel-surface rounded-md text-xs",children:[V,g]})]}),s.jsx("input",{id:y,type:"range",min:m,max:h,step:x,value:d,onChange:v=>Z(v.target.value),onInput:v=>Z(v.target.value),className:"realm-slider",style:B})]})},xp=({generationOptions:c,onGenerationOptionChange:o,handleClusteringChange:d,handleTerrainBiasChange:u,onApplyTemplate:m,tileSets:h})=>{const[x,S]=w.useState(null),g=w.useMemo(()=>[{id:"random",name:"Random",icon:"sparkles",description:["Ignores formation shape.","Elevation is purely noise-based.","Generates a chaotic landscape."]},{id:"linear",name:"Linear",icon:"arrow-up",description:["Creates a linear slope.","Highlands form at arrow's tip.","Good for continents."]},{id:"circle",name:"Circle",icon:"circle",description:["Creates a circular formation.","Highlands form inside.","Good for central mountains."]},{id:"triangle",name:"Triangle",icon:"triangle",description:["Creates a triangular formation.","Highlands form inside.","Good for unique landmasses."]}],[]);w.useEffect(()=>{c.highlandFormation==="triangle"&&c.highlandFormationRotation>120&&o("highlandFormationRotation",120)},[c.highlandFormation,c.highlandFormationRotation,o]);const y=(D,O)=>{let V=parseInt(D.target.value,10);isNaN(V)&&(V=0),u(O,Math.max(0,V))},R=(D,O)=>{S(O),D.dataTransfer.effectAllowed="move"},N=D=>{D.preventDefault()},j=(D,O)=>{if(!x||x===O)return;const V=c.terrainHeightOrder,B=V.indexOf(x),Z=V.indexOf(O);if(B===-1||Z===-1)return;const v=[...V],[Y]=v.splice(B,1);Y&&(v.splice(Z,0,Y),o("terrainHeightOrder",v))},E=()=>{S(null)},q=D=>h.terrain.find(O=>O.id===D);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(ga,{title:"Terrain Generation Templates",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.values(K0).map(D=>s.jsx("button",{onClick:()=>m(D.options),className:"p-3 bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors text-center text-sm font-medium text-text-muted",children:D.name},D.name))})}),s.jsxs(ga,{title:"Terrain Height",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Drag and drop to reorder terrain types from highest (top) to lowest (bottom). This order determines elevation during map generation."}),s.jsx("ol",{className:"space-y-1 bg-realm-canvas-backdrop p-2 rounded-md border border-border-panel-divider",children:c.terrainHeightOrder.map(D=>{const O=q(D);if(!O)return null;const V=x===D;return s.jsxs("li",{draggable:!0,onDragStart:B=>R(B,O.id),onDragOver:N,onDrop:B=>j(B,O.id),onDragEnd:E,className:`flex items-center gap-3 p-2 rounded-md transition-all duration-150 cursor-grab active:cursor-grabbing bg-realm-command-panel-surface border border-transparent ${V?"opacity-50 border-dashed border-actions-command-primary":"hover:bg-realm-command-panel-hover"}`,children:[s.jsx(he,{name:"grip-vertical",className:"w-5 h-5 text-text-muted"}),s.jsx(he,{name:O.icon,className:"w-5 h-5 text-text-high-contrast"}),s.jsx("span",{className:"font-medium text-sm text-text-high-contrast",children:O.label})]},O.id)})})]}),s.jsxs(ga,{title:"Highland Formation",children:[s.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.map(D=>s.jsxs("button",{onClick:()=>o("highlandFormation",D.id),className:`p-4 rounded-md text-left transition-all duration-150 border-2 h-full ${c.highlandFormation===D.id?"bg-actions-command-primary/20 border-actions-command-primary text-text-high-contrast":"bg-realm-canvas-backdrop border-border-panel-divider hover:border-text-muted text-text-muted"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(he,{name:D.icon,className:"w-6 h-6 flex-shrink-0"}),s.jsx("h4",{className:"font-bold text-lg",children:D.name})]}),s.jsx("ul",{className:"list-disc space-y-1 pl-5 text-xs",children:D.description.map((O,V)=>s.jsx("li",{children:O},V))})]},D.id))}),c.highlandFormation!=="random"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t border-border-panel-divider",children:[s.jsx(Nt,{label:"Formation Strength",value:c.highlandFormationStrength,onChange:D=>o("highlandFormationStrength",D),tooltip:"Controls the intensity of the highland formation shape."}),(c.highlandFormation==="linear"||c.highlandFormation==="triangle")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center pt-4 border-t border-border-panel-divider",children:[s.jsx("div",{children:s.jsx(Nt,{label:"Formation Rotation",value:c.highlandFormationRotation,onChange:D=>o("highlandFormationRotation",D),min:0,max:c.highlandFormation==="triangle"?120:360,step:1,displayMultiplier:1,displaySuffix:"",tooltip:"Sets the orientation of the selected formation."})}),s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx(he,{name:c.highlandFormation==="triangle"?"triangle":"arrow-up",className:"w-8 h-8 mx-auto mb-2 text-text-muted",style:{transform:`rotate(${c.highlandFormationRotation}deg)`}}),s.jsx("p",{className:"text-xs text-text-muted",children:"Lowlands start at the base and highlands form towards the tip."})]})]}),(c.highlandFormation==="circle"||c.highlandFormation==="triangle")&&s.jsxs("label",{htmlFor:"invert-formation",className:"flex items-center justify-between pt-4 border-t border-border-panel-divider cursor-pointer",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-text-muted",children:"Invert Formation"}),s.jsx("span",{className:"text-xs text-text-muted",children:"Flips highlands and lowlands."})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"invert-formation",type:"checkbox",checked:c.highlandFormationInverse||!1,onChange:D=>o("highlandFormationInverse",D.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-realm-command-panel-surface rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-actions-command-primary"})]})]})]})]}),s.jsxs(ga,{title:"Terrain Biases",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Set relative weights. Higher numbers mean more of that terrain."}),s.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-2",children:h.terrain.map(D=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{htmlFor:`terrain-bias-${D.id}`,className:"text-sm text-text-muted flex items-center gap-2",children:[s.jsx(he,{name:D.icon,className:"w-4 h-4"}),D.label]}),s.jsx("input",{id:`terrain-bias-${D.id}`,type:"number",value:Math.round(c.terrainBiases[D.id]||0),onChange:O=>y(O,D.id),min:"0",className:"w-20 bg-realm-command-panel-surface p-1 text-sm text-center font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":`Bias for ${D.label}`})]},D.id))})]}),s.jsxs(ga,{title:"Terrain Clustering",children:[s.jsx(Nt,{label:"Terrain Clusteredness",value:1-c.terrainRoughness,onChange:D=>o("terrainRoughness",1-D),tooltip:"Higher values create large, smooth regions. Lower values result in chaotic, mixed landscapes."}),s.jsxs("div",{className:"pt-4 border-t border-border-panel-divider",children:[s.jsx("p",{className:"text-sm text-text-muted",children:"This matrix controls how terrain types attract each other. It is adjusted by the slider above."}),s.jsx("div",{className:"overflow-auto max-h-[calc(80vh-150px)] bg-realm-canvas-backdrop rounded-md border border-border-panel-divider mt-2",children:s.jsxs("table",{className:"w-full border-collapse text-xs whitespace-nowrap",children:[s.jsx("thead",{className:"sticky top-0 bg-realm-canvas-backdrop z-20",children:s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 bg-realm-canvas-backdrop p-2 border-r border-b border-border-panel-divider w-28 z-30"}),h.terrain.map(D=>s.jsx("th",{className:"p-1 border-b border-border-panel-divider text-center font-medium",title:D.label,children:s.jsx("div",{className:"flex justify-center items-center h-full w-8 mx-auto",children:s.jsx(he,{name:D.icon,className:"w-5 h-5"})})},D.id))]})}),s.jsx("tbody",{children:h.terrain.map((D,O)=>s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 bg-realm-map-viewport p-0 border-r border-b border-border-panel-divider text-left font-medium w-28 z-10",children:s.jsxs("div",{className:"flex items-center gap-2 p-2",children:[s.jsx(he,{name:D.icon,className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:D.label})]})}),h.terrain.map((V,B)=>{var v;if(B>O)return s.jsx("td",{className:"p-1 border-b border-border-panel-divider bg-realm-canvas-backdrop/50"},V.id);const Z=((v=c.terrainClusteringMatrix[D.id])==null?void 0:v[V.id])??.5;return s.jsx("td",{className:"p-1 border-b border-border-panel-divider text-center",children:s.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:Math.round(Z*100),onChange:Y=>{const $=parseInt(Y.target.value,10)||0;d(D.id,V.id,Math.max(0,Math.min(100,$))/100)},className:"w-14 bg-realm-command-panel-surface p-1 text-sm text-center font-medium text-text-muted focus:outline-none focus:ring-1 focus:ring-actions-command-primary rounded-md",title:`${D.label} <> ${V.label}: ${Math.round(Z*100)}`})},V.id)})]},D.id))})]})})]})]})]})},bp={autoOpenOnHover:!0,openDelay:250,closeDelay:200},Pm=c=>{const o=w.useMemo(()=>({...bp,...c}),[c]),[d,u]=w.useState(null),m=w.useRef(null),h=w.useRef(null),x=w.useCallback(()=>{m.current!==null&&(window.clearTimeout(m.current),m.current=null)},[]),S=w.useCallback(()=>{h.current!==null&&(window.clearTimeout(h.current),h.current=null)},[]),g=w.useCallback(()=>{x(),S(),u(null)},[S,x]);w.useEffect(()=>()=>{x(),S()},[S,x]);const y=w.useCallback((j,E)=>{u(q=>(q==null?void 0:q.id)===j?q.locked?{...q,anchor:E}:{id:j,anchor:E,locked:!0}:{id:j,anchor:E,locked:!0})},[]),R=w.useCallback((j,E)=>{o.autoOpenOnHover&&(S(),x(),m.current=window.setTimeout(()=>{u(q=>q!=null&&q.locked&&q.id!==j?q:(q==null?void 0:q.id)===j&&q.locked?{...q,anchor:E}:{id:j,anchor:E,locked:!1}),m.current=null},o.openDelay))},[S,x,o.autoOpenOnHover,o.openDelay]),N=w.useCallback(j=>{o.autoOpenOnHover&&(x(),S(),h.current=window.setTimeout(()=>{u(E=>E&&(E.locked||E.id!==j)?E:null),h.current=null},o.closeDelay))},[S,x,o.autoOpenOnHover,o.closeDelay]);return{activeInfo:d,handleInfoClick:y,scheduleHoverOpen:R,scheduleHoverClose:N,closeInfo:g}};var vp=Xm();const Mp=(c,o,d)=>Math.min(Math.max(c,o),d),eh=({anchor:c,onClose:o,children:d,onMouseEnter:u,onMouseLeave:m})=>{const h=w.useRef(null),[x,S]=w.useState({top:0,left:0}),g=w.useCallback(()=>{const y=c.getBoundingClientRect();if(!h.current){S({top:y.top+window.scrollY,left:y.left+window.scrollX});return}const R=h.current.getBoundingClientRect(),N=window.innerWidth,j=window.scrollY,E=window.scrollX;let q=y.top+j-R.height-12;q<j+12&&(q=y.bottom+j+12);let D=y.right+E-R.width;const O=E+12,V=E+N-R.width-12;D=Mp(D,O,Math.max(O,V)),S({top:q,left:D})},[c]);return w.useLayoutEffect(()=>{g()},[g]),w.useEffect(()=>{const y=j=>{j.key==="Escape"&&o()},R=()=>{g()},N=j=>{var q;const E=j.target;E&&((q=h.current)!=null&&q.contains(E)||c.contains(E)||o())};return window.addEventListener("keydown",y),window.addEventListener("scroll",R,!0),window.addEventListener("resize",R),document.addEventListener("mousedown",N,!0),()=>{window.removeEventListener("keydown",y),window.removeEventListener("scroll",R,!0),window.removeEventListener("resize",R),document.removeEventListener("mousedown",N,!0)}},[c,o,g]),vp.createPortal(s.jsx("div",{ref:h,className:"fixed z-[999] w-64 rounded-md border border-border-panel-divider bg-realm-canvas-backdrop p-3 shadow-lg",style:{top:`${x.top}px`,left:`${x.left}px`},role:"dialog",onMouseEnter:u,onMouseLeave:m,children:d}),document.body)},Hl=(c,o,d)=>Math.min(d,Math.max(o,c)),th=(c,o,d)=>{if(!d||d.length===0)return!0;const u=Hl(Math.floor((c+1)/2*ft),0,ft-1),h=Hl(Math.floor((o+1)/2*ft),0,ft-1)*ft+u;return d[h]===1};function Sp(c){return function(){let o=c+=1831565813;return o=Math.imul(o^o>>>15,o|1),o^=o+Math.imul(o^o>>>7,o|61),((o^o>>>14)>>>0)/4294967296}}function jp(c){let o=0;for(let d=0;d<c.length;d++){const u=c.charCodeAt(d);o=(o<<5)-o+u,o|=0}return o}const Np=c=>{const o=(c.sizeMin+c.sizeMax)/2,d=Math.abs(c.sizeMax-c.sizeMin)/2,u=Math.max(0,o)*Hl(c.scaleVariance??0,0,1)*.5,m=Math.max(d,u),h=Math.max(0,o-m),x=Math.max(h,o+m);return{base:o,min:h,max:x,range:x-h,half:m}},Cp=(c,o,d,u,m)=>{const h=[];if(o.length===0)return h;const x=Math.max(1,Math.round(c.gridDensity)),S=Hl(c.gridSize,.1,1),g=Hl(c.gridJitter,0,1),y=Math.max(0,c.gridRotationRange),R=c.iconBaseRotation??0,N=(c.gridBaseRotation??0)*Math.PI/180,j=Math.abs(N)>1e-4,E=j?Math.cos(N):1,q=j?Math.sin(N):0,D=u*2*S,O=x>1?D/(x-1):0,V=D/2,B=x>1?O:D,{base:Z,min:v,max:Y,half:$,range:z}=m;for(let P=0;P<x;P++)for(let ue=0;ue<x;ue++){let ie=x>1?-V+ue*O:0,se=x>1?-V+P*O:0;if(B>0&&g>0){const b=()=>(d()*2-1)*B*.5*g;ie+=b(),se+=b()}let J=ie,de=se;if(j&&(J=ie*E-se*q,de=ie*q+se*E),Math.sqrt(J*J+de*de)>u)continue;const Re=J/u,pe=de/u;if(!th(Re,pe,c.placementMask))continue;const T=o[Math.floor(d()*o.length)];if(!T)continue;const K=z>0?Hl(Z+(d()*2-1)*$,v,Y):Z,ee=y>0?(d()*2-1)*y:0,ge=R+ee,xe=d()*(c.opacityMax-c.opacityMin)+c.opacityMin;h.push({name:T,x:J,y:de,size:K,rotation:ge,opacity:xe,color:c.color})}return h},Ep=(c,o,d,u,m)=>{var B;const h=[];if(o.length===0)return h;const x=[];if((B=c.placementMask)==null||B.forEach((Z,v)=>{Z===1&&x.push(v)}),x.length===0)return h;const S=Math.max(0,Math.floor(c.density)),g=Math.max(1,S*50),y=Math.max(0,c.minSeparation),R=Hl(c.centerBias,0,1),N=1+R*2,{min:j,range:E,base:q}=m,D=c.iconBaseRotation??0,O=Math.max(0,c.gridRotationRange);let V=0;for(;h.length<S&&V<g;){V++;const Z=x[Math.floor(d()*x.length)];if(Z===void 0)continue;const v=Math.floor(Z/ft),Y=Z%ft,$=1/ft,z=Y*$*2-1,P=v*$*2-1;let ue=z+d()*$*2,ie=P+d()*$*2;if(R>0){const ee=Math.sqrt(ue*ue+ie*ie);if(ee>0){const ge=Math.min(1,ee),b=Math.pow(ge,N)/ge;ue*=b,ie*=b}}if(!th(ue,ie,c.placementMask))continue;const se=ue*u,J=ie*u;if(Math.sqrt(se*se+J*J)>u||y>0&&h.some(ee=>{const ge=ee.x-se,xe=ee.y-J;return Math.sqrt(ge*ge+xe*xe)<y}))continue;const de=o[Math.floor(d()*o.length)];if(!de)continue;const Re=E>0?j+d()*E:q,pe=d()*(c.opacityMax-c.opacityMin)+c.opacityMin,T=O>0?(d()*2-1)*O:0,K=D+T;h.push({name:de,x:se,y:J,size:Re,rotation:K,opacity:pe,color:c.color})}return h},ah=(c,o,d)=>{const u=Je[o.id],m=(u==null?void 0:u.settings)??{},h=o.spraySettings??{},x={...m,...h},S={...pt,...m,...h,placementMask:h.placementMask??m.placementMask??pt.placementMask,scaleVariance:x.scaleVariance??x.gridScaleVariance??pt.scaleVariance,seedOffset:x.seedOffset??pt.seedOffset};S.sizeMin=Math.max(10,S.sizeMin),S.sizeMax=Math.max(S.sizeMin,S.sizeMax),S.opacityMin=Math.max(0,Math.min(1,S.opacityMin)),S.opacityMax=Math.max(S.opacityMin,Math.min(1,S.opacityMax)),S.iconBaseRotation=S.iconBaseRotation??0,S.gridBaseRotation=S.gridBaseRotation??0;const g=o.sprayIcons&&o.sprayIcons.length>0?o.sprayIcons:(u==null?void 0:u.icons)??[];if(g.length===0)return[];const y=d.x;if(y<=0)return[];const R=c.q*1337+c.r*31337+jp(o.id)+(S.seedOffset??0),N=Sp(R),j=Np(S);return S.mode==="grid"?Cp(S,g,N,y,j):S.density<=0?[]:Ep(S,g,N,y,j)},qm={x:50,y:50},zp=({terrain:c,onReroll:o})=>{const d=w.useMemo(()=>Ni("pointy",qm),[]),u=w.useMemo(()=>{const m={q:0,r:0,terrain:c.id};return ah(m,c,qm)},[c]);return s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:o,disabled:!o,"aria-label":o?`Reroll ${c.label} spray preview`:void 0,className:`group relative inline-flex items-center justify-center transition-transform ${o?"hover:scale-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-actions-command-primary focus-visible:ring-offset-2 focus-visible:ring-offset-realm-command-panel-surface":"cursor-default"}`,children:[s.jsx("svg",{width:"110",height:"110",viewBox:"-55 -55 110 110",children:s.jsxs("g",{children:[s.jsx("polygon",{points:d.map(m=>`${m.x},${m.y}`).join(" "),fill:c.color?Ol(c.color):"#CCCCCC",stroke:U0,strokeWidth:"1"}),s.jsx("g",{children:u.map((m,h)=>s.jsx("g",{transform:`translate(${m.x}, ${m.y}) rotate(${m.rotation})`,children:s.jsx(he,{name:m.name,style:{opacity:m.opacity,color:m.color},width:m.size,height:m.size,x:-m.size/2,y:-m.size/2,strokeWidth:2.5})},h))})]})}),o?s.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:s.jsx(he,{name:"reset",className:"h-5 w-5 text-text-high-contrast drop-shadow opacity-0 transition-opacity group-hover:opacity-100"})}):null]}),s.jsxs("p",{className:"text-xs text-center text-text-muted",children:["This pattern is consistent for all '",c.label,"' hexes."]})]})},Tp=({selectedIcons:c,onToggleIcon:o})=>{const d=w.useMemo(()=>[...X0].sort(),[]);return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Spray Icons"}),s.jsx("div",{className:"grid grid-cols-6 gap-1 p-2 bg-realm-map-viewport rounded-md max-h-48 overflow-y-auto",children:d.map(u=>{const m=c.includes(u);return s.jsxs("button",{onClick:()=>o(u),className:`flex flex-col items-center justify-center gap-1 p-1 rounded-md transition-all duration-150 border-2 text-center h-16 ${m?"bg-actions-command-primary/30 border-actions-command-primary text-text-high-contrast":"bg-realm-command-panel-surface border-transparent hover:border-text-muted text-text-muted"}`,title:u,type:"button",children:[s.jsx(he,{name:u,className:"w-6 h-6"}),s.jsx("span",{className:"text-[10px] truncate w-full",children:u})]},u)})})]})},Bm=ft*ft,kp=({mask:c,onUpdateMask:o})=>{const[d,u]=w.useState(!1),m=w.useRef(1),h=w.useRef(null),x=w.useCallback(j=>{const E=c[j];if(E!==void 0&&E!==m.current){const q=[...c];q[j]=m.current,o(q)}},[c,o]),S=j=>{const E=h.current;if(!E)return null;const q=E.getBoundingClientRect(),D=j.clientX-q.left,O=j.clientY-q.top,V=q.width/ft,B=q.height/ft,Z=Math.floor(D/V),v=Math.floor(O/B);return Z>=0&&Z<ft&&v>=0&&v<ft?v*ft+Z:null},g=j=>{j.preventDefault();const E=S(j);if(E!==null){u(!0);const q=c[E];m.current=q===1?0:1,x(E)}},y=j=>{if(!d)return;const E=S(j);E!==null&&x(E)},R=()=>o(new Array(Bm).fill(1)),N=()=>o(new Array(Bm).fill(0));return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted",children:"Placement Mask"}),s.jsx("p",{className:"text-xs text-text-muted mt-1 mb-2",children:"Click and drag to paint the green area where icons are allowed to appear. This defines the placement area within the hex."}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{ref:h,className:"relative w-full max-w-[140px] md:max-w-[180px] bg-realm-command-panel-surface rounded-md overflow-hidden select-none aspect-square",onMouseDown:g,onMouseMove:y,onMouseUp:()=>u(!1),onMouseLeave:()=>u(!1),children:[s.jsx("div",{className:"grid h-full",style:{gridTemplateColumns:`repeat(${ft}, minmax(0, 1fr))`},children:c.map((j,E)=>s.jsx("div",{className:`border border-border-panel-divider/40 transition-colors ${j?"bg-feedback-success-highlight/60":"bg-transparent"}`},E))}),s.jsx("div",{className:"absolute inset-0 pointer-events-none border border-border-panel-divider rounded-md"})]})}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx("button",{onClick:N,type:"button",className:"text-xs px-2 py-1 rounded-md bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover transition-colors",children:"Clear"}),s.jsx("button",{onClick:R,type:"button",className:"text-xs px-2 py-1 rounded-md bg-feedback-success-highlight text-text-high-contrast hover:bg-actions-command-primary-hover transition-colors",children:"Fill"})]})]})},Um=/^#(?:[0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,lh=({color:c,ariaLabel:o,tooltip:d,onChange:u,onReset:m,canReset:h=!1,className:x="",overlayClassName:S="bg-black/30",iconClassName:g="w-5 h-5 text-white",overlayIcon:y="pipette",resetIcon:R="reset"})=>{const N=w.useRef(null),j=Um.test(c)?c:"#CCCCCC",E=h&&m,q=E?R:y,D=v=>{var Y;if(v.stopPropagation(),E){m==null||m();return}(Y=N.current)==null||Y.click()},O=v=>Um.test(v)?v.toUpperCase():v,V=v=>{u(O(v))},B=v=>{const Y=v.target.value;V(Y)},Z=v=>{const Y=v.currentTarget.value;V(Y)};return s.jsxs("button",{type:"button",className:`relative group transition-colors duration-150 ${x}`.trim(),style:{backgroundColor:c},title:d,"aria-label":o,onClick:D,children:[s.jsx("input",{ref:N,type:"color",value:j,onChange:B,onInput:Z,className:"opacity-0 w-0 h-0 absolute pointer-events-none","aria-hidden":!0}),s.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center ${S}`.trim(),children:s.jsx(he,{name:q,className:g})})]})},wp=c=>{var o;return(o=c.sprayIcons)!=null&&o.length?`Signature icons: ${c.sprayIcons.map(d=>d.replace(/-/g," ")).join(", ")}`:"No spray icons configured yet."},Ap=({terrain:c,settings:o,resolvedTerrainColor:d,resolvedSprayColor:u,hasUnsavedChanges:m,onSave:h,activeInfo:x,registerDetailsRef:S,onInfoClick:g,onInfoHoverStart:y,onInfoHoverEnd:R,onCloseInfo:N,onToggleIcon:j,onSettingChange:E})=>{const q=(x==null?void 0:x.id)===c.id,D=q?(x==null?void 0:x.anchor)??null:null,O=q?(x==null?void 0:x.locked)??!1:!1,V=wp(c),B=c.description??"Custom terrain created by the user. Add details in settings.",Z=o.mode==="grid",v=J=>`flex-1 rounded-md border px-3 py-2 text-sm font-medium transition-colors ${o.mode===J?"border-transparent bg-actions-command-primary text-text-high-contrast shadow-sm":"border-border-panel-divider text-text-muted hover:text-text-high-contrast hover:border-actions-command-primary/40"}`,Y=J=>{o.mode!==J&&E("mode",J)},$=()=>{let J=Math.floor(Math.random()*4294967295);if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"){const de=new Uint32Array(1);crypto.getRandomValues(de),J=de[0]??J}E("seedOffset",J)},z=Math.round((o.opacityMin+o.opacityMax)/2*100),P=Math.round((o.opacityMax-o.opacityMin)/2*100),ue=(J,de)=>{const Re=Math.max(0,Math.min(100,J)),pe=Math.min(Re,100-Re),T=Math.max(0,Math.min(pe,de)),K=Re/100,ee=T/100,ge=Math.max(0,K-ee),xe=Math.min(1,K+ee);E("opacityMin",parseFloat(ge.toFixed(4))),E("opacityMax",parseFloat(xe.toFixed(4)))},ie=J=>{ue(J,P)},se=J=>{ue(z,J)};return s.jsxs("details",{ref:S,className:"p-3 bg-realm-canvas-backdrop rounded-md border border-border-panel-divider/50 open:border-actions-command-primary/50 transition-colors group/details",children:[s.jsxs("summary",{className:"font-semibold text-md text-text-muted list-none cursor-pointer flex items-center gap-2 hover:text-text-high-contrast",children:[s.jsx(he,{name:c.icon,className:"w-5 h-5"}),s.jsxs("span",{className:"flex items-center gap-2",children:[c.label,m?s.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-actions-command-primary/20 text-actions-command-primary border border-actions-command-primary/40 rounded-sm px-2 py-0.5",children:"Unsaved"}):null,s.jsx("button",{onClick:J=>{J.preventDefault(),J.stopPropagation(),g(J.currentTarget)},onMouseEnter:J=>{y(J.currentTarget)},onMouseLeave:J=>{const de=J.relatedTarget;de&&J.currentTarget.contains(de)||R()},className:`w-6 h-6 flex items-center justify-center rounded-full transition-colors ${q?"bg-realm-map-viewport text-text-high-contrast":"text-text-subtle hover:text-text-muted hover:bg-realm-map-viewport"}`,title:`Learn more about ${c.label}`,"aria-label":`Terrain information for ${c.label}`,"aria-expanded":q,"aria-haspopup":"dialog",type:"button",children:s.jsx(he,{name:"info",className:"w-3.5 h-3.5"})})]}),s.jsx(he,{name:"chevron-down",className:"w-4 h-4 ml-auto transition-transform duration-200 group-open/details:rotate-180"})]}),q&&D&&s.jsxs(eh,{anchor:D,onClose:N,onMouseEnter:()=>y(D),onMouseLeave:()=>{O||R()},children:[s.jsx("p",{className:"text-xs leading-relaxed text-text-muted",children:B}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-text-subtle text-[11px] uppercase tracking-wide",children:[s.jsx("span",{children:"Palette Swatch"}),s.jsx("span",{children:d})]}),s.jsx("div",{className:"mt-1 h-2 rounded-full",style:{backgroundColor:c.color||d}}),s.jsx("p",{className:"mt-2 text-[11px] text-text-muted leading-relaxed",children:V})]}),s.jsxs("div",{className:"pl-7 mt-3 pt-3 border-t border-border-panel-divider/50",children:[s.jsx("div",{className:"flex justify-end mb-3",children:s.jsx("button",{type:"button",onClick:h,disabled:!m,className:`inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-xs font-semibold transition-colors ${m?"bg-actions-command-primary text-text-high-contrast hover:bg-actions-command-primary/90":"bg-realm-command-panel-hover text-text-subtle cursor-not-allowed"}`,children:"Save Changes"})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 auto-rows-min",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(zp,{terrain:c,onReroll:$})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Tp,{selectedIcons:c.sprayIcons||[],onToggleIcon:j})}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"block text-sm font-medium text-text-muted mb-2",children:"Deployment Mode"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",className:v("random"),onClick:()=>Y("random"),"aria-pressed":o.mode==="random",children:"Random"}),s.jsx("button",{type:"button",className:v("grid"),onClick:()=>Y("grid"),"aria-pressed":o.mode==="grid",children:"Grid"})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[Z?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Grid Density",tooltip:"Controls how many grid points per side receive an icon.",value:o.gridDensity,onChange:J=>E("gridDensity",Math.round(J)),min:1,max:12,step:1,displayMultiplier:1,displaySuffix:" cells"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Grid Size",tooltip:"Scales the grid span relative to the hex radius.",value:o.gridSize,onChange:J=>E("gridSize",J),min:.2,max:1,step:.05})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Grid Jitter",tooltip:"Adds a small random offset inside each grid cell to keep placements organic.",value:o.gridJitter,onChange:J=>E("gridJitter",J),min:0,max:1,step:.05})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Grid Rotation",tooltip:"Rotates the entire grid layout around the hex center.",value:o.gridBaseRotation??0,onChange:J=>E("gridBaseRotation",J),min:-180,max:180,step:1,displayMultiplier:1,displaySuffix:""})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Rotation Variance",tooltip:"Defines how much each grid icon can randomly rotate around its base orientation.",value:o.gridRotationRange,onChange:J=>E("gridRotationRange",J),min:0,max:180,step:1,displayMultiplier:1,displaySuffix:""})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Density",value:o.density,onChange:J=>E("density",J),min:0,max:128,step:1,displayMultiplier:1,displaySuffix:" icons"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Center Bias",tooltip:"Higher values pull random placements toward the center of the hex.",value:o.centerBias,onChange:J=>E("centerBias",J),min:0,max:1,step:.05})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Min Separation",tooltip:"Prevents new icons from spawning within this many pixels of another icon.",value:o.minSeparation,onChange:J=>E("minSeparation",J),min:0,max:60,step:1,displayMultiplier:1,displaySuffix:"px"})})]}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Base Size",tooltip:"Sets the central size for sprayed icons.",value:Math.max(10,o.sizeMin),onChange:J=>{const de=Math.max(10,J);E("sizeMin",de),E("sizeMax",de)},min:10,max:64,step:1,displayMultiplier:1,displaySuffix:" px"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Scale Variance",tooltip:"Controls how much icon sizes vary around the base size.",value:o.scaleVariance,onChange:J=>E("scaleVariance",J),min:0,max:1,step:.05,displayMultiplier:100,displaySuffix:"%"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Icon Rotation",tooltip:"Applies a consistent rotation to every sprayed icon.",value:o.iconBaseRotation??0,onChange:J=>E("iconBaseRotation",J),min:-180,max:180,step:1,displayMultiplier:1,displaySuffix:""})}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Icon Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lh,{color:u,ariaLabel:`Select icon color for ${c.label}`,tooltip:"Edit color",onChange:J=>E("color",J),className:"w-10 h-10 rounded-md flex-shrink-0 border border-black/20",iconClassName:"w-5 h-5 text-white"}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center h-10 flex items-center justify-center",children:u})]})]}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Base Opacity",tooltip:"Sets the core opacity for sprayed icons.",value:z,onChange:ie,min:0,max:100,step:1,displayMultiplier:1,displaySuffix:"%"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Opacity Variance",tooltip:"Adds variation by increasing and decreasing opacity around the base value.",value:P,onChange:se,min:0,max:100,step:1,displayMultiplier:1,displaySuffix:"%"})}),s.jsx("div",{className:"col-span-1 md:col-span-1",children:s.jsx(kp,{mask:o.placementMask,onUpdateMask:J=>E("placementMask",J)})})]})})]})]})]})},ji=c=>({...c,placementMask:Array.isArray(c.placementMask)?[...c.placementMask]:[]}),Rp=c=>({spraySettings:ji(c.spraySettings),sprayIcons:[...c.sprayIcons]}),Dp=c=>{const o={...c};return o.sizeMin=Math.max(10,o.sizeMin),o.sizeMax=Math.max(o.sizeMin,o.sizeMax),o.opacityMin=Math.max(0,Math.min(1,o.opacityMin)),o.opacityMax=Math.max(o.opacityMin,Math.min(1,o.opacityMax)),o.iconBaseRotation=o.iconBaseRotation??0,o.gridBaseRotation=o.gridBaseRotation??0,o},nh=c=>Je[c],_p=c=>{const o=nh(c.id);return Dp({...pt,...(o==null?void 0:o.settings)??{},...c.spraySettings??{}})},Op=c=>{var d;return c.sprayIcons&&c.sprayIcons.length>0?[...c.sprayIcons]:[...((d=nh(c.id))==null?void 0:d.icons)??[]]},Xs=c=>({spraySettings:ji(_p(c)),sprayIcons:Op(c)}),bu=c=>c.reduce((o,d)=>(o[d.id]=Xs(d),o),{}),Hp=(c=[],o=[])=>{if(c.length!==o.length)return!1;for(let d=0;d<c.length;d++)if(c[d]!==o[d])return!1;return!0},vu=(c,o)=>{const d=new Set(["mode","density","sizeMin","sizeMax","opacityMin","opacityMax","color","placementMask","centerBias","minSeparation","gridDensity","gridSize","gridJitter","gridBaseRotation","scaleVariance","gridRotationRange","iconBaseRotation","seedOffset"]);for(const u of d){const m=c[u],h=o[u];if(Array.isArray(m)&&Array.isArray(h)){if(!Hp(m,h))return!1}else if(m!==h)return!1}return!0},Mu=(c=[],o=[])=>{if(c.length!==o.length)return!1;for(let d=0;d<c.length;d++)if(c[d]!==o[d])return!1;return!0},qp=({tileSets:c,setTileSets:o,focusId:d})=>{const u=w.useRef(new Map),{activeInfo:m,handleInfoClick:h,scheduleHoverOpen:x,scheduleHoverClose:S,closeInfo:g}=Pm(),[y,R]=w.useState(()=>bu(c.terrain)),N=w.useCallback(v=>v?Ol(v):"#CCCCCC",[]);w.useEffect(()=>{if(d){const v=u.current.get(d);v&&setTimeout(()=>{v.open=!0,v.scrollIntoView({behavior:"smooth",block:"center"})},100)}},[d]),w.useEffect(()=>{if(!m)return;c.terrain.some(Y=>Y.id===m.id)||g()},[m,g,c.terrain]),w.useEffect(()=>{R(v=>{const Y={};return c.terrain.forEach($=>{const z=Xs($),P=v[$.id];if(!P){Y[$.id]=z;return}const ue=vu(P.spraySettings,z.spraySettings)&&Mu(P.sprayIcons,z.sprayIcons);Y[$.id]=ue?z:P}),Y})},[c.terrain]);const j=w.useCallback((v,Y)=>{R($=>{const z=$[v];if(!z)return $;const P=Y(Rp(z));return vu(z.spraySettings,P.spraySettings)&&Mu(z.sprayIcons,P.sprayIcons)?$:{...$,[v]:P}})},[]),E=(v,Y,$)=>{j(v,z=>{const P=Y==="placementMask"&&Array.isArray($)?[...$]:$;return{...z,spraySettings:{...z.spraySettings,[Y]:P}}})},q=(v,Y)=>{j(v,$=>{const z=$.sprayIcons.includes(Y)?$.sprayIcons.filter(P=>P!==Y):[...$.sprayIcons,Y];return{...$,sprayIcons:z}})},D=w.useMemo(()=>{const v=new Set;for(const Y of c.terrain){const $=y[Y.id];if(!$)continue;const z=Xs(Y);(!vu($.spraySettings,z.spraySettings)||!Mu($.sprayIcons,z.sprayIcons))&&v.add(Y.id)}return v},[y,c.terrain]),O=D.size>0,V=w.useCallback(v=>{const Y=y[v];Y&&(o($=>{const z=$.terrain.map(P=>P.id===v?{...P,spraySettings:ji(Y.spraySettings),sprayIcons:[...Y.sprayIcons]}:P);return{...$,terrain:z}}),R($=>({...$,[v]:{spraySettings:ji(Y.spraySettings),sprayIcons:[...Y.sprayIcons]}})))},[y,o]),B=w.useCallback(()=>{o(v=>{const Y=v.terrain.map(z=>{const P=y[z.id];return P?{...z,spraySettings:ji(P.spraySettings),sprayIcons:[...P.sprayIcons]}:z}),$={...v,terrain:Y};return R(bu($.terrain)),$})},[y,o]),Z=w.useCallback(()=>{R(bu(c.terrain))},[c.terrain]);return s.jsx("div",{className:"space-y-6",children:s.jsxs(ga,{title:"Terrain Icon Spray",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Configure the small, semi-transparent icons that are procedurally scattered on each terrain type to add visual texture."}),s.jsx("div",{className:"space-y-4",children:c.terrain.map(v=>{const Y=y[v.id]??Xs(v),$={...v,spraySettings:Y.spraySettings,sprayIcons:Y.sprayIcons},z=Y.spraySettings||pt,P=N(v.color),ue=N(z.color);return s.jsx(Ap,{terrain:$,settings:z,resolvedTerrainColor:P,resolvedSprayColor:ue,activeInfo:m,hasUnsavedChanges:D.has(v.id),onSave:()=>V(v.id),registerDetailsRef:ie=>{u.current.set(v.id,ie)},onInfoClick:ie=>h(v.id,ie),onInfoHoverStart:ie=>x(v.id,ie),onInfoHoverEnd:()=>S(v.id),onCloseInfo:g,onToggleIcon:ie=>q(v.id,ie),onSettingChange:(ie,se)=>E(v.id,ie,se)},v.id)})}),s.jsxs("div",{className:"flex flex-col md:flex-row md:justify-end gap-2 pt-2 border-t border-border-panel-divider/40 mt-6",children:[s.jsx("button",{type:"button",onClick:Z,disabled:!O,className:`inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors ${O?"border border-border-panel-divider text-text-muted hover:text-text-high-contrast hover:border-actions-command-primary/40":"border border-border-panel-divider/60 text-text-subtle cursor-not-allowed"}`,children:"Discard Changes"}),s.jsx("button",{type:"button",onClick:B,disabled:!O,className:`inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold transition-colors ${O?"bg-actions-command-primary text-text-high-contrast hover:bg-actions-command-primary/90":"bg-realm-command-panel-hover text-text-subtle cursor-not-allowed"}`,children:"Save Changes"})]})]})})},Su=(c,o)=>({holdings:c.holding.reduce((d,u)=>(d[u.id]=!0,d),{}),seatOfPower:!0,landmarks:c.landmark.reduce((d,u)=>(d[u.id]=!1,d),{}),myths:o.reduce((d,u)=>(d[u.id]=!1,d),{}),showBarriers:Vs.showBarriers}),vi=({id:c,checked:o,onChange:d})=>s.jsxs("div",{className:"relative pt-1",children:[s.jsx("input",{id:c,type:"checkbox",checked:o,onChange:u=>d(u.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"relative w-11 h-6 bg-realm-command-panel-hover rounded-full peer peer-checked:bg-actions-command-primary transition-colors after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full peer-checked:after:border-white"})]}),ju=({title:c,summary:o,helper:d,children:u})=>s.jsxs("details",{className:"group rounded-md border border-border-panel-divider bg-realm-command-panel-surface",children:[s.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-text-high-contrast",children:c}),s.jsx("p",{className:"text-xs text-text-muted",children:o}),d?s.jsx("p",{className:"mt-1 text-[11px] text-text-muted",children:d}):null]}),s.jsx(he,{name:"chevron-down",className:"h-4 w-4 text-text-muted transition-transform group-open:rotate-180"})]}),s.jsx("div",{className:"border-t border-border-panel-divider px-4 py-3 space-y-3",children:u})]}),Bp=({viewOptions:c,setViewOptions:o,tileSets:d,myths:u})=>{const m=w.useMemo(()=>c.visibility.knight??Su(d,u),[c.visibility.knight,d,u]),h=w.useMemo(()=>{const B=d.holding.filter(Y=>!(m.holdings[Y.id]??!0)).length,Z=m.seatOfPower?"visible":"hidden";if(d.holding.length===0)return"No holdings configured";if(B===0&&Z==="visible")return"All holding markers visible";const v=[];return B>0&&v.push(`${B} type${B>1?"s":""} hidden`),Z==="hidden"&&v.push("Seat of Power hidden"),v.join("; ")},[d.holding,m.holdings,m.seatOfPower]),x=w.useMemo(()=>{const B=d.landmark.filter(Z=>!(m.landmarks[Z.id]??!0)).length;return d.landmark.length===0?"No landmarks configured":B===0?"All landmark markers visible":`${B} landmark type${B>1?"s":""} hidden`},[d.landmark,m.landmarks]),S=w.useMemo(()=>{if(u.length===0)return"No myths placed on the map";const B=u.filter(Z=>!(m.myths[Z.id]??!0)).length;return B===0?"All myths visible":`${B} myth${B>1?"s":""} hidden`},[u,m.myths]),g=B=>{o(Z=>{const v=Z.visibility.knight??Su(d,u);return{...Z,visibility:{...Z.visibility,knight:B(v)}}})},y=(B,Z)=>{g(v=>({...v,holdings:{...v.holdings,[B]:Z}}))},R=B=>{g(Z=>({...Z,holdings:d.holding.reduce((v,Y)=>(v[Y.id]=B,v),{})}))},N=B=>{g(Z=>({...Z,seatOfPower:B}))},j=(B,Z)=>{g(v=>({...v,landmarks:{...v.landmarks,[B]:Z}}))},E=B=>{g(Z=>({...Z,landmarks:d.landmark.reduce((v,Y)=>(v[Y.id]=B,v),{})}))},q=(B,Z)=>{g(v=>({...v,myths:{...v.myths,[B]:Z}}))},D=B=>{g(Z=>({...Z,myths:u.reduce((v,Y)=>(v[Y.id]=B,v),{})}))},O=B=>{g(Z=>({...Z,showBarriers:B}))},V=()=>{const B=Su(d,u);g(()=>B)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ga,{title:"Knight View Visibility",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Choose which elements stay visible when you switch to the Knight (player-facing) view. Referee view will always show everything."}),s.jsxs(ju,{title:"Holdings & Seat of Power",summary:h,helper:"Toggle individual holding types or hide the Seat of Power highlight.",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",onClick:()=>R(!0),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Show All"}),s.jsx("button",{type:"button",onClick:()=>R(!1),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Hide All"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"seat-of-power-visibility",className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block text-sm font-medium text-text-high-contrast",children:"Seat of Power Highlight"}),s.jsx("span",{className:"block text-xs text-text-muted",children:"Controls the golden frame that marks the Seat of Power hex."})]}),s.jsx(vi,{id:"seat-of-power-visibility",checked:m.seatOfPower,onChange:N})]}),d.holding.map(B=>{const Z=`holding-${B.id}`,v=m.holdings[B.id]??!0;return s.jsxs("label",{htmlFor:Z,className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsx("span",{className:"text-sm text-text-high-contrast",children:B.label}),s.jsx(vi,{id:Z,checked:v,onChange:Y=>y(B.id,Y)})]},B.id)}),d.holding.length===0?s.jsx("p",{className:"text-xs text-text-muted",children:"No holding types are currently configured."}):null]})]}),s.jsxs(ju,{title:"Landmarks",summary:x,helper:"Choose which landmark categories remain visible to players.",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",onClick:()=>E(!0),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Show All"}),s.jsx("button",{type:"button",onClick:()=>E(!1),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Hide All"})]}),s.jsxs("div",{className:"space-y-2",children:[d.landmark.map(B=>{const Z=`landmark-${B.id}`,v=m.landmarks[B.id]??!0;return s.jsxs("label",{htmlFor:Z,className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsx("span",{className:"text-sm text-text-high-contrast",children:B.label}),s.jsx(vi,{id:Z,checked:v,onChange:Y=>j(B.id,Y)})]},B.id)}),d.landmark.length===0?s.jsx("p",{className:"text-xs text-text-muted",children:"No landmark types are currently configured."}):null]})]}),s.jsx(ju,{title:"Myths",summary:S,helper:"Hide individual myths when players should not see them yet.",children:u.length===0?s.jsx("p",{className:"text-xs text-text-muted",children:"No myths have been placed on this map."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",onClick:()=>D(!0),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Show All"}),s.jsx("button",{type:"button",onClick:()=>D(!1),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Hide All"})]}),s.jsx("div",{className:"space-y-2",children:u.map(B=>{const Z=`myth-${B.id}`,v=m.myths[B.id]??!0;return s.jsxs("label",{htmlFor:Z,className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsxs("span",{className:"text-sm text-text-high-contrast",children:["Myth #",B.id]}),s.jsx(vi,{id:Z,checked:v,onChange:Y=>q(B.id,Y)})]},B.id)})})]})}),s.jsx("div",{className:"rounded-md border border-border-panel-divider bg-realm-command-panel-surface px-4 py-3",children:s.jsxs("label",{htmlFor:"show-barriers-toggle",className:"flex items-center justify-between gap-3 cursor-pointer",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block text-sm font-semibold text-text-high-contrast",children:"Barriers"}),s.jsx("span",{className:"block text-xs text-text-muted",children:"Toggle whether barrier lines are visible in Knight view."})]}),s.jsx(vi,{id:"show-barriers-toggle",checked:m.showBarriers,onChange:O})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"button",onClick:V,className:"inline-flex items-center gap-2 rounded-md border border-border-panel-divider bg-realm-command-panel-surface px-3 py-2 text-sm font-medium text-text-muted hover:bg-realm-command-panel-hover transition-colors",children:[s.jsx(he,{name:"reset",className:"h-4 w-4"}),"Reset to Defaults"]})})]})},Up=({isOpen:c,onClose:o,settingsView:d,...u})=>{const[m,h]=w.useState(d.tab);return w.useEffect(()=>{c&&h(d.tab)},[c,d.tab]),c?s.jsxs("div",{onClick:x=>x.target===x.currentTarget&&o(),className:"fixed inset-0 bg-overlay-scrim z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"settings-dialog-title",children:[s.jsxs("div",{className:"bg-realm-canvas-backdrop w-full max-w-6xl h-[90vh] rounded-lg shadow-xl flex overflow-hidden border border-border-panel-divider animate-fade-in",children:[s.jsxs("aside",{className:"w-64 bg-realm-map-viewport p-6 border-r border-border-panel-divider flex flex-col",children:[s.jsx("h2",{id:"settings-dialog-title",className:"text-2xl font-bold mb-8",children:"Settings"}),s.jsxs("nav",{className:"flex flex-col gap-2",children:[s.jsx(Gs,{icon:"settings",label:"General",isActive:m==="general",onClick:()=>h("general")}),s.jsx(Gs,{icon:"eye",label:"View",isActive:m==="view",onClick:()=>h("view")}),s.jsx(Gs,{icon:"network",label:"Generation",isActive:m==="generation",onClick:()=>h("generation")}),s.jsx(Gs,{icon:"brush",label:"Terrain",isActive:m==="terrain",onClick:()=>h("terrain")})]})]}),s.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[s.jsx("div",{className:"text-right p-4 flex-shrink-0",children:s.jsx("button",{onClick:o,className:"p-1 text-text-muted hover:text-text-high-contrast transition-colors","aria-label":"Close settings",children:s.jsx(he,{name:"close",className:"w-6 h-6"})})}),s.jsxs("div",{className:"flex-1 overflow-y-scroll px-8 pb-8",children:[m==="general"&&s.jsx(gp,{realmShape:u.realmShape,setRealmShape:u.setRealmShape,realmRadius:u.realmRadius,setRealmRadius:u.setRealmRadius,realmWidth:u.realmWidth,setRealmWidth:u.setRealmWidth,realmHeight:u.realmHeight,setRealmHeight:u.setRealmHeight,generationOptions:u.generationOptions,setGenerationOptions:u.setGenerationOptions,tileSets:u.tileSets}),m==="view"&&s.jsx(Bp,{viewOptions:u.viewOptions,setViewOptions:u.setViewOptions,tileSets:u.tileSets,myths:u.myths}),m==="generation"&&s.jsx(xp,{generationOptions:u.generationOptions,onGenerationOptionChange:u.onGenerationOptionChange,handleClusteringChange:u.handleClusteringChange,handleTerrainBiasChange:u.handleTerrainBiasChange,onApplyTemplate:u.onApplyTemplate,tileSets:u.tileSets}),m==="terrain"&&s.jsx(qp,{tileSets:u.tileSets,setTileSets:u.setTileSets,focusId:d.focusId})]})]})]}),s.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in { animation: fade-in 0.2s ease-out forwards; }
      `})]}):null},Lp=c=>{if(c.startsWith("#"))return{hex:c,opacity:1};const o=/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/.exec(c);if(!o)return{hex:"#eaebec",opacity:.2};const d=S=>("0"+S.toString(16)).slice(-2),u=o[1],m=o[2],h=o[3],x=o[4];return!u||!m||!h?{hex:"#eaebec",opacity:.2}:{hex:`#${d(parseInt(u,10))}${d(parseInt(m,10))}${d(parseInt(h,10))}`,opacity:x!==void 0?parseFloat(x):1}},Lm=c=>{const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(!o)return null;const d=o[1],u=o[2],m=o[3];return!d||!u||!m?null:o?{r:parseInt(d,16),g:parseInt(u,16),b:parseInt(m,16)}:null},ih=Ei.forwardRef(({viewOptions:c,setViewOptions:o},d)=>{const u=w.useRef(null),{hex:m,opacity:h}=w.useMemo(()=>Lp(c.gridColor),[c.gridColor]),x=c.gridColor!==Ys,S=R=>{const N=Lm(R.target.value);N&&o(j=>({...j,gridColor:`rgba(${N.r}, ${N.g}, ${N.b}, ${h})`}))},g=R=>{const N=Lm(m);N&&o(j=>({...j,gridColor:`rgba(${N.r}, ${N.g}, ${N.b}, ${parseFloat(R.target.value)})`}))},y=()=>{o(R=>({...R,showGrid:!0,gridColor:Ys,gridWidth:Jm}))};return s.jsxs("div",{ref:d,className:"absolute top-full mt-2 left-0 bg-realm-map-viewport border border-border-panel-divider rounded-lg shadow-xl p-4 z-20 w-64",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{htmlFor:"show-grid-toggle",className:"flex items-center justify-between gap-2 text-sm font-medium text-text-muted cursor-pointer",children:[s.jsx("span",{children:"Show Grid"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",id:"show-grid-toggle",checked:c.showGrid,onChange:()=>o(R=>({...R,showGrid:!R.showGrid})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-realm-command-panel-surface rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-actions-command-primary"})]})]}),s.jsx("hr",{className:"border-border-panel-divider"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"grid-color-btn",className:"block text-sm font-medium text-text-muted mb-1",children:"Grid Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{id:"grid-color-btn",onClick:()=>{var R;return x?o(N=>({...N,gridColor:Ys})):(R=u.current)==null?void 0:R.click()},className:"w-10 h-10 rounded-md flex-shrink-0 border border-black/20 relative group",style:{backgroundColor:m},title:x?"Reset color to default":"Edit color","aria-label":x?"Reset grid color to default":"Select custom grid color",children:[s.jsx("input",{ref:u,type:"color",value:m,onChange:S,className:"opacity-0 w-0 h-0 absolute pointer-events-none","aria-label":"Grid color picker"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(he,{name:x?"reset":"pipette",className:"w-5 h-5 text-white"})})]}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center",children:m.toUpperCase()})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"grid-opacity",className:"block text-sm font-medium text-text-muted mb-1",children:"Opacity"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"grid-opacity",type:"range",min:"0",max:"1",step:"0.01",value:h,onChange:g,className:"w-full h-2 bg-realm-command-panel-surface rounded-lg appearance-none cursor-pointer","aria-label":"Grid opacity"}),s.jsxs("span",{className:"p-1 bg-realm-command-panel-surface rounded-md text-xs w-16 text-center",children:[Math.round(h*100),"%"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"grid-width",className:"block text-sm font-medium text-text-muted mb-1",children:"Border Width"}),s.jsx("input",{id:"grid-width",type:"number",value:c.gridWidth,onChange:R=>o(N=>({...N,gridWidth:Math.max(.1,parseFloat(R.target.value))||1})),min:"0.1",step:"0.1",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Grid border width"})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-border-panel-divider",children:s.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors",children:[s.jsx(he,{name:"reset",className:"w-4 h-4"}),"Reset All Grid Settings"]})})]})});ih.displayName="GridSettingsPopover";function Gp({onGenerate:c,onExportJson:o,onExportPng:d,onImportJson:u,viewOptions:m,setViewOptions:h,isSettingsOpen:x,setIsSettingsOpen:S,settingsView:g,setSettingsView:y,setConfirmation:R,...N}){const j=w.useRef(null),[E,q]=w.useState(!1),D=w.useRef(null),O=w.useRef(null);w.useEffect(()=>{const v=Y=>{var $;Y instanceof KeyboardEvent&&Y.key==="Escape"&&(S(!1),q(!1)),Y instanceof MouseEvent&&D.current&&!D.current.contains(Y.target)&&!(($=O.current)!=null&&$.contains(Y.target))&&q(!1)};return(x||E)&&(document.addEventListener("mousedown",v),document.addEventListener("keydown",v)),()=>{document.removeEventListener("mousedown",v),document.removeEventListener("keydown",v)}},[x,E,S]);const V=v=>{var $;const Y=($=v.target.files)==null?void 0:$[0];if(Y){const z=new FileReader;z.onload=P=>{var ue;try{const ie=(ue=P.target)==null?void 0:ue.result;if(typeof ie!="string")throw new Error("File could not be read.");const se=JSON.parse(ie);if(!se.hexes||!se.seatOfPower)throw new Error("Invalid realm file.");se.myths||(se.myths=[],se.hexes.forEach(J=>{J.myth&&se.myths.push({id:J.myth,name:`Myth #${J.myth}`,q:J.q,r:J.r})})),u(se)}catch(ie){const se=ie instanceof Error?ie.message:"Unknown error.";R({isOpen:!0,title:"Import Failed",message:`Failed to import realm. The file might be corrupted or in the wrong format. 
Error: ${se}`,onConfirm:()=>R(null),isInfo:!0})}},z.readAsText(Y)}j.current&&(j.current.value="")},B=()=>{y({tab:"general",focusId:null}),S(!0)},Z=()=>{y({tab:"view",focusId:null}),S(!0)};return s.jsxs("header",{className:"flex items-center justify-between p-2 bg-realm-canvas-backdrop border-b border-border-panel-divider shadow-md z-10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-xl font-bold text-text-high-contrast mr-4",children:"Hex Realm Generator"}),s.jsx(Ba,{onClick:c,icon:"sparkles",title:"Generate New Realm",children:"Generate"}),s.jsx(Ba,{onClick:B,icon:"settings",title:"Settings",children:"Settings"}),s.jsx(Up,{isOpen:x,onClose:()=>S(!1),settingsView:g,viewOptions:m,setViewOptions:h,...N}),s.jsx("div",{className:"border-l border-border-panel-divider h-6"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{ref:O,onClick:()=>q(v=>!v),icon:"grid",title:"Grid Settings",children:"Grid"}),E&&s.jsx(ih,{ref:D,viewOptions:m,setViewOptions:h})]}),s.jsx("div",{className:"border-l border-border-panel-divider h-6"}),s.jsx(Ba,{onClick:()=>h(v=>({...v,showIconSpray:!v.showIconSpray})),icon:"spray-can",isActive:m.showIconSpray,title:"Toggle Icon Spray",children:"Icon Spray"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ba,{onClick:()=>h(v=>({...v,isGmView:!v.isGmView})),icon:"eye",isActive:m.isGmView,title:m.isGmView?"Referee View":"Knight View",children:m.isGmView?"Referee View":"Knight View"}),s.jsx("button",{type:"button",onClick:Z,className:"flex h-9 items-center justify-center px-2 rounded-md bg-realm-command-panel-surface text-text-muted hover:text-text-high-contrast hover:bg-realm-command-panel-hover transition-colors border border-transparent hover:border-border-panel-divider",title:"Open view visibility settings","aria-label":"Open view visibility settings",children:s.jsx(he,{name:"sliders",className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",ref:j,onChange:V,accept:".json",style:{display:"none"},"aria-hidden":"true"}),s.jsx(Ba,{onClick:()=>{var v;return(v=j.current)==null?void 0:v.click()},icon:"upload",title:"Import from JSON file",children:"Import JSON"}),s.jsx(Ba,{onClick:o,icon:"download",title:"Export as JSON file",children:"Export JSON"}),s.jsx(Ba,{onClick:d,icon:"image-down",title:"Export as PNG image",children:"Export PNG"})]})]})}const Yp=(c,o,d,u)=>s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:c}),s.jsxs("select",{value:o,onChange:u,className:"w-full p-2 bg-realm-command-panel-surface border border-border-panel-divider rounded-md focus:outline-none focus:ring-2 focus:ring-actions-command-primary",children:[s.jsx("option",{value:"",children:"None"}),d.map(m=>s.jsx("option",{value:m.id,children:m.label},m.id))]})]});function Vp({selectedHex:c,realm:o,onUpdateHex:d,onDeselect:u,onSetSeatOfPower:m,onAddMyth:h,onRemoveMyth:x,tileSets:S}){if(!c)return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col items-center justify-center text-center",children:[s.jsx(he,{name:"mouse-pointer-2",className:"w-16 h-16 text-realm-command-panel-hover mb-4"}),s.jsx("h2",{className:"text-xl font-bold",children:"Select a Hex"}),s.jsx("p",{className:"text-text-muted",children:"Click on any hex on the map to view and edit its details."})]});const g=Ci,y=`${Ci}99`,R=(O,V)=>{d({...c,[O]:V})},N=O=>{if(!c||!o)return;const V=!c.barrierEdges.includes(O),B=V?[...c.barrierEdges,O]:c.barrierEdges.filter(z=>z!==O),v=[{...c,barrierEdges:B.sort((z,P)=>z-P)}],Y=Ks(c)[O];if(!Y){d(v);return}const $=o.hexes.find(z=>z.q===Y.q&&z.r===Y.r);if($){const z=(O+3)%6,P=V?[...$.barrierEdges,z]:$.barrierEdges.filter(ie=>ie!==z),ue={...$,barrierEdges:[...new Set(P)].sort((ie,se)=>ie-se)};v.push(ue)}d(v)},j=()=>{c&&(c.myth?x(c):h(c))},q=Ni("pointy",{x:45,y:45}),D=o&&c.q===o.seatOfPower.q&&c.r===o.seatOfPower.r;return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Hex (",s.jsx("span",{className:"font-decorative text-[1.1em]",children:c.q}),","," ",s.jsx("span",{className:"font-decorative text-[1.1em]",children:c.r}),")"]}),s.jsx("button",{onClick:u,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Deselect Hex",children:s.jsx(he,{name:"close",className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto",children:[Yp("Terrain",c.terrain,S.terrain,O=>R("terrain",O.target.value)),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Holding"}),s.jsxs("select",{value:c.holding||"",onChange:O=>R("holding",O.target.value),className:"w-full p-2 bg-realm-command-panel-surface border border-border-panel-divider rounded-md focus:outline-none focus:ring-2 focus:ring-actions-command-primary",children:[s.jsx("option",{value:"",children:"None"}),S.holding.map(O=>s.jsx("option",{value:O.id,children:O.label},O.id))]})]}),c.holding&&s.jsx("div",{className:"mb-4",children:D?s.jsxs("div",{className:"flex items-center justify-center gap-2 p-2 bg-actions-command-primary/30 border border-actions-command-primary rounded-md text-actions-command-primary-hover text-sm",children:[s.jsx(he,{name:"crown",className:"w-4 h-4 text-actions-command-primary"}),s.jsx("span",{children:"This is the Seat of Power."})]}):s.jsxs("button",{onClick:()=>m(c),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-realm-command-panel-surface rounded-md hover:bg-actions-command-primary transition-colors",children:[s.jsx(he,{name:"crown",className:"w-4 h-4"}),"Make Seat of Power"]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Landmark"}),s.jsxs("select",{value:c.landmark||"",onChange:O=>R("landmark",O.target.value),className:"w-full p-2 bg-realm-command-panel-surface border border-border-panel-divider rounded-md focus:outline-none focus:ring-2 focus:ring-actions-command-primary",children:[s.jsx("option",{value:"",children:"None"}),S.landmark.map(O=>s.jsx("option",{value:O.id,children:O.label},O.id))]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Myth"}),s.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors",children:[s.jsx(he,{name:"sparkle",className:"w-4 h-4"}),c.myth?`Remove Myth #${c.myth}`:"Add Myth"]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-2",children:"Barriers (Click edge to toggle)"}),s.jsx("div",{className:"flex justify-center items-center p-2 bg-realm-map-viewport rounded-md",children:s.jsxs("svg",{width:"100",height:"115",viewBox:"-55 -55 110 110",role:"group","aria-label":"Interactive hex for toggling barriers",children:[s.jsx("polygon",{points:q.map(O=>`${O.x},${O.y}`).join(" "),fill:"transparent",stroke:"rgba(234, 235, 236, 0.3)",strokeWidth:"2"}),c.barrierEdges.map(O=>s.jsx("path",{d:Si(O,q),stroke:Zs,strokeWidth:"6",strokeLinecap:"round",style:{pointerEvents:"none"}},`barrier-visible-${O}`)),[...Array(6).keys()].map(O=>s.jsxs("g",{onClick:()=>N(O),onKeyDown:V=>(V.key==="Enter"||V.key===" ")&&N(O),className:"cursor-pointer group",role:"button",tabIndex:0,"aria-label":`Toggle barrier on edge ${O+1}`,children:[s.jsx("title",{children:`Toggle barrier on edge ${O+1}`}),s.jsx("path",{d:Si(O,q),stroke:"transparent",strokeWidth:"15",strokeLinecap:"round"}),s.jsx("path",{d:Si(O,q),stroke:c.barrierEdges.includes(O)?g:y,strokeWidth:"5",strokeLinecap:"round",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-150"})]},`barrier-interactive-${O}`))]})})]})]})]})}const Xp=({name:c,color:o,onNameChange:d,onColorChange:u,onSubmit:m})=>{const h=c.trim().length===0;return s.jsxs("div",{className:"mt-6 pt-4 border-t border-border-panel-divider",children:[s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Add New Terrain"}),s.jsxs("form",{onSubmit:m,children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{htmlFor:"terrain-name",className:"block text-sm font-medium text-text-muted mb-1",children:"Name"}),s.jsx("input",{id:"terrain-name",type:"text",value:c,onChange:x=>d(x.target.value),className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md",placeholder:"e.g. Cursed Wastes",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"terrain-color",className:"block text-sm font-medium text-text-muted mb-1",children:"Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"terrain-color",type:"color",value:o,onChange:x=>u(x.target.value),className:"h-10 p-1 bg-realm-command-panel-surface border border-border-panel-divider rounded-md cursor-pointer",title:"Select color","aria-label":"New terrain color picker"}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center",children:o})]})]}),s.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-high-contrast bg-feedback-success-highlight rounded-md hover:bg-actions-command-primary-hover transition-colors disabled:opacity-50",disabled:h,children:[s.jsx(he,{name:"plus",className:"w-4 h-4"}),"Add Terrain"]})]})]})},Zp=c=>c.description??"Custom terrain created by the user. Add details in settings.",Qp=c=>{var o;return(o=c.sprayIcons)!=null&&o.length?`Signature icons: ${c.sprayIcons.map(d=>d.replace(/-/g," ")).join(", ")}`:"No spray icons configured yet."};function Kp({paintTerrain:c,setPaintTerrain:o,onClose:d,tileSets:u,terrainColors:m,onAddTerrain:h,onRemoveTerrain:x,onUpdateTerrainColor:S,onResetTerrainColor:g,onStartPicking:y,isPickingTile:R,onOpenSpraySettings:N}){const[j,E]=w.useState(""),[q,D]=w.useState("#CCCCCC"),{activeInfo:O,handleInfoClick:V,scheduleHoverOpen:B,scheduleHoverClose:Z,closeInfo:v}=Pm(),Y=w.useCallback(z=>z?Ol(z):"#CCCCCC",[]);w.useEffect(()=>{const z=P=>{(P.ctrlKey||P.metaKey)&&P.key.toLowerCase()==="i"&&(P.preventDefault(),y())};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[y]),w.useEffect(()=>{O&&(u.terrain.some(z=>z.id===O.id)||v())},[O,v,u.terrain]);const $=z=>{z.preventDefault();const P=j.trim();P&&(h(P,q.toUpperCase()),E(""),D("#CCCCCC"))};return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Terrain Painter"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:y,className:`p-2 rounded-md transition-colors ${R?"bg-actions-command-primary text-text-high-contrast":"text-text-muted hover:bg-realm-command-panel-hover"}`,title:"Pick Terrain from Map (Ctrl+I)","aria-label":"Pick Terrain from Map",children:s.jsx(he,{name:"pipette",className:"w-5 h-5"})}),s.jsx("button",{onClick:d,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close Terrain Painter",children:s.jsx(he,{name:"close",className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto pr-2",children:[R&&s.jsx("div",{className:"bg-feedback-info-panel/50 text-center text-sm text-text-subtle p-2 rounded-md mb-4 animate-pulse",children:"Click on the map to pick a terrain."}),s.jsx("p",{className:"text-sm text-text-muted mb-4",children:"Select a terrain to paint. Click a color swatch to customize."}),s.jsx("div",{className:"space-y-2",children:u.terrain.map(z=>{const P=m[z.id]||"#CCCCCC",ue=Y(P),ie=c===z.id,se=ml.includes(z.id),J=se?Km(z.id):void 0,de=se&&J?J!==ue:!1,Re=(O==null?void 0:O.id)===z.id,pe=Zp(z),T=Qp(z);return s.jsxs("div",{onClick:()=>{o(z.id),O&&v()},role:"button",tabIndex:0,onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&(o(z.id),O&&v())},className:`relative group/item p-2 rounded-md transition-all duration-150 border-2 flex items-center gap-2 cursor-pointer ${ie?"bg-actions-command-primary/20 border-actions-command-primary":"bg-realm-map-viewport border-border-panel-divider hover:border-text-muted"}`,title:`Paint ${z.label}`,children:[s.jsxs("div",{className:"flex items-center gap-2 flex-grow min-w-0",children:[s.jsx(lh,{color:ue,ariaLabel:de?`Reset ${z.label} color to default`:`Select color for ${z.label}`,tooltip:de?"Reset color to default":"Edit color",onChange:K=>S(z.id,K),onReset:de?()=>g(z.id):void 0,canReset:de,className:"w-7 h-7 rounded-md flex-shrink-0 border border-white/80",iconClassName:"w-4 h-4 text-white"}),s.jsx("span",{className:`font-medium text-sm truncate ${ie?"text-text-high-contrast":"text-text-muted"}`,children:z.label}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("button",{type:"button",onClick:K=>{K.stopPropagation(),V(z.id,K.currentTarget)},onMouseEnter:K=>B(z.id,K.currentTarget),onMouseLeave:K=>{const ee=K.relatedTarget;ee&&K.currentTarget.contains(ee)||Z(z.id)},className:`w-6 h-6 flex items-center justify-center rounded-full transition-colors ${Re?"bg-realm-map-viewport text-text-high-contrast":"text-text-subtle hover:text-text-muted hover:bg-realm-map-viewport"}`,title:`Learn more about ${z.label}`,"aria-label":`Terrain information for ${z.label}`,"aria-expanded":Re,"aria-haspopup":"dialog",children:s.jsx(he,{name:"info",className:"w-3.5 h-3.5"})}),Re&&(O==null?void 0:O.anchor)&&s.jsxs(eh,{anchor:O.anchor,onClose:v,onMouseEnter:()=>{B(z.id,O.anchor)},onMouseLeave:()=>{O.locked||Z(z.id)},children:[s.jsx("p",{className:"text-xs leading-relaxed text-text-muted",children:pe}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-text-subtle text-[11px] uppercase tracking-wide",children:[s.jsx("span",{children:"Palette Swatch"}),s.jsx("span",{children:ue})]}),s.jsx("div",{className:"mt-1 h-2 rounded-full",style:{backgroundColor:ue}}),s.jsx("p",{className:"mt-2 text-[11px] text-text-muted leading-relaxed",children:T})]})]})]}),s.jsx("div",{className:"flex items-center flex-shrink-0",children:s.jsx("button",{type:"button",onClick:K=>{K.stopPropagation(),N(z.id),(O==null?void 0:O.id)===z.id&&v()},title:`Edit ${z.label} spray settings`,"aria-label":`Edit ${z.label} spray settings`,children:s.jsx(he,{name:"settings",className:"w-5 h-5 text-white"})})}),!se&&s.jsx("button",{type:"button",onClick:K=>{K.stopPropagation(),x(z.id),(O==null?void 0:O.id)===z.id&&v()},className:"absolute -top-1.5 -right-1.5 p-1 text-text-high-contrast bg-actions-danger-base rounded-full hover:bg-actions-danger-hover opacity-0 group-hover/item:opacity-100 transition-opacity z-10",title:`Remove ${z.label}`,"aria-label":`Remove ${z.label}`,children:s.jsx(he,{name:"close",className:"w-3.5 h-3.5"})})]},z.id)})}),s.jsx(Xp,{name:j,color:q,onNameChange:E,onColorChange:z=>D(z.toUpperCase()),onSubmit:$})]})]})}const Jp=({item:c,isSelected:o,onClick:d})=>s.jsxs("button",{onClick:d,className:`flex flex-col items-center justify-center gap-2 p-2 rounded-lg transition-all duration-150 border-2 text-center
              ${o?"bg-actions-command-primary/20 border-actions-command-primary text-text-high-contrast":"bg-realm-map-viewport border-border-panel-divider hover:border-text-muted text-text-muted"}`,title:`Place ${c.label}`,"aria-label":`Select ${c.label} for placement`,children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center bg-realm-command-panel-surface",children:s.jsx(he,{name:c.icon,className:"w-8 h-8 text-text-high-contrast",strokeWidth:2})}),s.jsx("span",{className:"text-xs font-medium",children:c.label})]}),Nu=({title:c,items:o,type:d,paintPoi:u,setPaintPoi:m})=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-text-muted",children:c}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.map(h=>{const x=`${d}:${h.id}`;return s.jsx(Jp,{item:h,isSelected:u===x,onClick:()=>m(x)},x)})})]});function $p({paintPoi:c,setPaintPoi:o,onClose:d,onStartPicking:u,isPickingTile:m}){return w.useEffect(()=>{const h=x=>{(x.ctrlKey||x.metaKey)&&x.key.toLowerCase()==="i"&&(x.preventDefault(),u())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[u]),s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Points of Interest"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:u,className:`p-2 rounded-md transition-colors ${m?"bg-actions-command-primary text-text-high-contrast":"text-text-muted hover:bg-realm-command-panel-hover"}`,title:"Pick POI from Map (Ctrl+I)","aria-label":"Pick POI from Map",children:s.jsx(he,{name:"pipette",className:"w-5 h-5"})}),s.jsx("button",{onClick:d,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close POI Painter",children:s.jsx(he,{name:"close",className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-6",children:[m&&s.jsx("div",{className:"bg-feedback-info-panel/50 text-center text-sm text-text-subtle p-2 rounded-md mb-4 animate-pulse",children:"Click on the map to pick a POI."}),s.jsx("p",{className:"text-sm text-text-muted",children:"Select an item, then click a hex to place it."}),s.jsx(Nu,{title:"Actions",items:Q0,type:"action",paintPoi:c,setPaintPoi:o}),s.jsx(Nu,{title:"Holdings",items:Qs.holding,type:"holding",paintPoi:c,setPaintPoi:o}),s.jsx(Nu,{title:"Landmarks",items:Qs.landmark,type:"landmark",paintPoi:c,setPaintPoi:o})]})]})}function Fp({realm:c,selectedHex:o,onSelectHex:d,onUpdateMyth:u,onRemoveMyth:m,relocatingMythId:h,onToggleRelocateMyth:x,onClose:S}){const g=N=>c.hexes.find(j=>j.q===N.q&&j.r===N.r),y=N=>{if(h)return;const j=g(N);j&&d((o==null?void 0:o.myth)===N.id?null:j)},R=N=>{const j=g(N);j&&m(j)};return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Myth Tool"}),s.jsx("button",{onClick:S,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close Myth Tool",children:s.jsx(he,{name:"close",className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"All Myths"}),c.myths.length>0?s.jsx("ul",{className:"space-y-2",children:c.myths.sort((N,j)=>N.id-j.id).map(N=>{const j=(o==null?void 0:o.myth)===N.id,E=h===N.id;return s.jsxs("li",{className:"bg-realm-map-viewport rounded-md overflow-hidden transition-all duration-300",children:[s.jsxs("button",{onClick:()=>y(N),className:"w-full text-left p-3 hover:bg-realm-command-panel-hover transition-colors flex justify-between items-center disabled:cursor-not-allowed","aria-expanded":j||E,disabled:!!h,children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-text-accent-headline",children:["Myth #",N.id,":"," ",s.jsx("span",{className:"text-text-high-contrast",children:N.name})]}),s.jsxs("p",{className:"text-xs text-text-muted",children:["Location: (",N.q,", ",N.r,")"]})]}),s.jsx(he,{name:j||E?"chevron-up":"chevron-down",className:"w-5 h-5 text-text-muted flex-shrink-0"})]}),(j||E)&&s.jsxs("div",{className:"p-3 border-t border-border-panel-divider/50 bg-realm-map-viewport/50 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:`myth-name-${N.id}`,className:"block text-sm font-medium text-text-muted mb-1",children:"Edit Name"}),s.jsx("input",{id:`myth-name-${N.id}`,type:"text",value:N.name,onChange:q=>u({...N,name:q.target.value}),className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>x(N.id),className:`w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors ${E?"bg-realm-command-panel-hover/80 text-text-high-contrast hover:bg-realm-command-panel-hover":"bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover"}`,children:[s.jsx(he,{name:"move",className:"w-4 h-4"}),E?"Cancel Relocate":"Relocate"]}),s.jsxs("button",{onClick:()=>R(N),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-actions-danger-base/50 rounded-md hover:bg-actions-danger-base/80 border border-actions-danger-base transition-colors",children:[s.jsx(he,{name:"trash-2",className:"w-4 h-4"}),"Remove"]})]})]}),E&&s.jsx("div",{className:"p-3 bg-realm-command-panel-hover/50 text-center text-sm text-text-subtle",children:"Select a new hex on the map."})]},N.id)})}):s.jsx("p",{className:"text-text-muted text-center py-4",children:"No myths have been placed on the map."})]})})]})}class Wp{constructor(o=1){this.p=[];const d=()=>{const m=Math.sin(o++)*1e4;return m-Math.floor(m)},u=Array.from({length:256},(m,h)=>h);for(let m=u.length-1;m>0;m--){const h=Math.floor(d()*(m+1)),x=u[m],S=u[h];x!==void 0&&S!==void 0&&(u[m]=S,u[h]=x)}this.p=u.concat(u)}fade(o){return o*o*o*(o*(o*6-15)+10)}lerp(o,d,u){return d+o*(u-d)}grad(o,d,u){const m=o&15,h=m<8?d:u,x=m<4?u:m===12||m===14?d:0;return((m&1)===0?h:-h)+((m&2)===0?x:-x)}noise(o,d){const u=Math.floor(o)&255,m=Math.floor(d)&255;o-=Math.floor(o),d-=Math.floor(d);const h=this.fade(o),x=this.fade(d),S=this.p,g=(S[u]??0)+m,y=(S[u+1]??0)+m;return this.lerp(x,this.lerp(h,this.grad(S[g]??0,o,d),this.grad(S[y]??0,o-1,d)),this.lerp(h,this.grad(S[g+1]??0,o,d-1),this.grad(S[y+1]??0,o-1,d-1)))}}function Ip(c){const o=[];for(let d=-c;d<=c;d++)for(let u=-c;u<=c;u++){const m=-d-u;Math.abs(d)+Math.abs(u)+Math.abs(m)<=c*2&&_l({q:0,r:0},{q:d,r:u})<=c&&o.push({q:d,r:u,s:m,terrain:"",barrierEdges:[]})}return o}function Pp(c,o){const d=[],u=[];for(let g=0;g<o;g++)for(let y=0;y<c;y++){const R=y-Math.floor(g/2);u.push({q:R,r:g})}if(u.length===0)return[];const m=u.reduce((g,y)=>g+y.q,0)/u.length,h=u.reduce((g,y)=>g+y.r,0)/u.length,x=Math.round(m),S=Math.round(h);for(const g of u){const y=g.q-x,R=g.r-S;d.push({q:y,r:R,s:-y-R,terrain:"",barrierEdges:[]})}return d}function sh(c){if(c.length!==0)return c[Math.floor(Math.random()*c.length)]}function e2(c,o){var O;const d=new Wp(Math.random());if(c.length===0)return new Map;let u=1/0,m=-1/0,h=1/0,x=-1/0;c.forEach(V=>{u=Math.min(u,V.q),m=Math.max(m,V.q),h=Math.min(h,V.r),x=Math.max(x,V.r)});const S=Math.max(m-u,x-h,1),g=c.map(V=>{let B=0,Z=1,v=1;for(let $=0;$<5;$++)B+=d.noise(V.q*.1*Z,V.r*.1*Z)*v,Z*=2,v*=.5;let Y=0;if(o.highlandFormation!=="random"){const $=(u+m)/2,z=(h+x)/2,P=(V.q-$)/(S/2),ue=(V.r-z)/(S/2),ie=o.highlandFormationRotation*Math.PI/180,se=P*Math.cos(ie)-ue*Math.sin(ie),J=P*Math.sin(ie)+ue*Math.cos(ie);o.highlandFormation==="linear"?Y=-J:o.highlandFormation==="circle"&&(Y=1-Math.min(1,Math.sqrt(se*se+J*J)/Math.sqrt(2)))}return o.highlandFormationInverse===!0&&(o.highlandFormation==="circle"||o.highlandFormation==="triangle")&&(Y=-Y),B+=Y*1.5*o.highlandFormationStrength,{hex:V,elevation:B}});g.sort((V,B)=>B.elevation-V.elevation);const y=new Map,R=c.length;let N=0;const{terrainBiases:j,terrainHeightOrder:E}=o,q=Object.values(j).reduce((V,B)=>(V||0)+(B||0),0)||1,D=Object.entries(j).filter(([,V])=>(V||0)>0).sort(([V],[B])=>(E.indexOf(V)??-1)-(E.indexOf(B)??-1));for(const[V,B]of D){const Z=Math.round((B||0)/q*R),v=Math.min(N+Z,R);for(let Y=N;Y<v;Y++){const $=g[Y];$&&y.set(`${$.hex.q},${$.hex.r}`,V)}N=v}if(N<R&&D.length>0){const V=(O=D[D.length-1])==null?void 0:O[0];if(V)for(let B=N;B<R;B++){const Z=g[B];Z&&y.set(`${Z.hex.q},${Z.hex.r}`,V)}}return y}function t2(c,o){var S;const d=e2(c,o);c.forEach(g=>g.terrain=d.get(`${g.q},${g.r}`)||"plain");const u=4,m=Object.keys(o.terrainClusteringMatrix);let h=c.map(g=>({...g}));for(let g=0;g<u;g++){const y=h.map(N=>({...N})),R=new Map(h.map(N=>[`${N.q},${N.r}`,N]));for(const N of y){let j=N.terrain,E=-1/0;for(const q of m){let D=0;const O=Ks(N).map(V=>R.get(`${V.q},${V.r}`)).filter(V=>!!V);for(const V of O)D+=((S=o.terrainClusteringMatrix[q])==null?void 0:S[V.terrain])||0;q===d.get(`${N.q},${N.r}`)&&(D+=1.5),D>E&&(E=D,j=q)}N.terrain=j}h=y}const x=new Map(h.map(g=>[`${g.q},${g.r}`,g]));c.forEach(g=>{var y;g.terrain=((y=x.get(`${g.q},${g.r}`))==null?void 0:y.terrain)||g.terrain})}function a2(c){const o=Math.floor(c.length*6*V0/2);for(let d=0;d<o;d++){const u=sh(c);if(!u)continue;const m=Math.floor(Math.random()*6);if(!u.barrierEdges.includes(m)){u.barrierEdges.push(m);const h=Ks(u)[m];if(!h)continue;const x=c.find(S=>S.q===h.q&&S.r===h.r);if(x){const S=(m+3)%6;x.barrierEdges.includes(S)||x.barrierEdges.push(S)}}}}function l2(c,o,d){const u=c.filter(S=>!["peaks","crags","bog","lakes","marsh"].includes(S.terrain)),m=[];for(;m.length<d&&u.length>0;){const S=Math.floor(Math.random()*u.length),g=u.splice(S,1)[0];if(g&&!g.holding&&!m.some(y=>_l(y,g)<o/4)){const y=sh(G0);y!==void 0&&(g.holding=y,m.push(g))}}const h=m[0];if(h)return{q:h.q,r:h.r};const x=c.find(S=>S.q===0&&S.r===0)||c[0];return x?(x.holding="castle",{q:x.q,r:x.r}):{q:0,r:0}}function n2(c,o,d){const u=c.filter(S=>S.holding||S.landmark),m=c.filter(S=>!S.holding&&!S.landmark);u.length>0?m.sort((S,g)=>Math.min(...u.map(y=>_l(g,y)))-Math.min(...u.map(y=>_l(S,y)))):m.sort((S,g)=>_l({q:0,r:0},g)-_l({q:0,r:0},S));const h=[];for(const S of m){if(h.length>=o)break;h.every(g=>_l(S,g)>=d)&&h.push(S)}const x=[];return h.forEach((S,g)=>{const y=g+1;S.myth=y,x.push({id:y,name:`Myth #${y}`,q:S.q,r:S.r})}),x}function i2(c,o){const d=c.filter(u=>!u.holding&&!u.landmark);Object.entries(o).forEach(([u,m])=>{const h=m||0;for(let x=0;x<h&&d.length>0;x++){const S=Math.floor(Math.random()*d.length),g=d.splice(S,1)[0];g&&(g.landmark=u)}})}function s2(c,o){let d,u;const m={shape:c.shape};c.shape==="hex"?(d=Ip(c.radius),u=c.radius,m.radius=c.radius):(d=Pp(c.width,c.height),u=Math.max(c.width,c.height),m.width=c.width,m.height=c.height),t2(d,o),o.generateBarriers&&a2(d);const h=l2(d,u,o.numHoldings);i2(d,o.landmarks),d.forEach(S=>S.myth=void 0);const x=n2(d,o.numMyths,o.mythMinDistance);if(o.numMyths>0&&x.length<o.numMyths)throw new Error(`Could not place all myths. Only placed ${x.length} of ${o.numMyths}. Try reducing 'Myth Min Distance' or the number of myths.`);return{...m,hexes:d,myths:x,seatOfPower:h}}function c2(c){const o=JSON.stringify(c,null,2),d=new Blob([o],{type:"application/json"}),u=URL.createObjectURL(d),m=document.createElement("a");m.href=u,m.download="realm-data.json",document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(u)}async function r2(c,o,d={}){const u=document.getElementById(c);if(!u)return;const m=await u2(u,d),h=document.createElement("a");h.href=m,h.download=o,document.body.appendChild(h),h.click(),document.body.removeChild(h)}function u2(c,o={}){const{scale:d=2,hideSelectionHighlights:u=!1}=o,m=c.cloneNode(!0);u&&m.querySelectorAll(".hex-selection-highlight, .hex-hover-highlight").forEach(D=>{D.remove()});const x=new XMLSerializer().serializeToString(m),S=c.getBoundingClientRect(),g=document.createElement("canvas"),y=m.getAttribute("viewBox");let R=S.width,N=S.height;if(y){const[,,D,O]=y.split(" ").map(Number);Number.isFinite(D)&&Number.isFinite(O)&&D>0&&O>0&&(R=D,N=O)}m.getAttribute("width")||m.setAttribute("width",`${R}`),m.getAttribute("height")||m.setAttribute("height",`${N}`),g.width=Math.max(Math.round(R*d),1),g.height=Math.max(Math.round(N*d),1);const j=g.getContext("2d");if(!j)return Promise.reject(new Error("Canvas context is unavailable."));const E=new Image,q="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(x)));return new Promise((D,O)=>{E.onload=()=>{j.drawImage(E,0,0,g.width,g.height),D(g.toDataURL("image/png"))},E.onerror=()=>O(new Error("Failed to rasterize SVG element.")),E.src=q})}const fl=()=>{},o2=(()=>{});function d2({isOpen:c,onClose:o,onExport:d,settings:u,onSettingsChange:m,realm:h,tileSets:x,baseViewOptions:S,terrainTextures:g,isLoadingTextures:y,barrierColor:R,previewSvgId:N,isExporting:j,previewPadding:E=40}){const q=w.useMemo(()=>({...S,showGrid:u.includeGrid,showIconSpray:u.includeIconSpray,isGmView:u.viewMode==="referee"}),[S,u.includeGrid,u.includeIconSpray,u.viewMode]);return c?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-overlay-scrim p-4",role:"dialog","aria-modal":"true","aria-labelledby":"export-modal-title",children:s.jsxs("div",{className:"relative w-full max-w-5xl rounded-lg border border-border-panel-divider bg-realm-map-viewport shadow-xl",children:[s.jsxs("div",{className:"flex items-start justify-between border-b border-border-panel-divider px-6 py-4",children:[s.jsxs("div",{children:[s.jsx("h2",{id:"export-modal-title",className:"text-xl font-semibold text-text-high-contrast",children:"Export Map"}),s.jsx("p",{className:"text-sm text-text-muted",children:"Choose how the map should appear in the exported image and review it before saving."})]}),s.jsx("button",{type:"button",onClick:o,className:"text-text-muted hover:text-text-high-contrast transition-colors","aria-label":"Close export modal",children:s.jsx(he,{name:"x",className:"h-5 w-5"})})]}),s.jsxs("div",{className:"grid gap-6 px-6 py-6 lg:grid-cols-[260px,1fr]",children:[s.jsxs("section",{"aria-label":"Export settings",className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-text-muted",children:"View"}),s.jsx("div",{className:"mt-2 flex gap-2",children:["referee","knight"].map(D=>{const O=u.viewMode===D;return s.jsx("button",{type:"button",onClick:()=>m({...u,viewMode:D}),className:`flex-1 rounded-md border px-3 py-2 text-sm font-medium transition-colors ${O?"border-actions-command-primary bg-actions-command-primary/20 text-text-high-contrast":"border-border-panel-divider bg-realm-command-panel-surface text-text-muted hover:text-text-high-contrast"}`,children:D==="referee"?"Referee View":"Knight View"},D)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-text-muted",children:"Appearance"}),s.jsxs("div",{className:"mt-2 flex flex-col gap-2 text-sm text-text-high-contrast",children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:u.includeGrid,onChange:D=>m({...u,includeGrid:D.target.checked}),className:"h-4 w-4 rounded border-border-panel-divider bg-realm-command-panel-surface text-actions-command-primary focus:ring-actions-command-primary"}),s.jsx("span",{children:"Include grid lines"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:u.includeIconSpray,onChange:D=>m({...u,includeIconSpray:D.target.checked}),className:"h-4 w-4 rounded border-border-panel-divider bg-realm-command-panel-surface text-actions-command-primary focus:ring-actions-command-primary"}),s.jsx("span",{children:"Include icon spray"})]})]})]})]}),s.jsxs("section",{"aria-label":"Export preview",className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-text-muted",children:"Preview"}),s.jsx("span",{className:"text-xs text-text-subtle",children:"Export uses the preview exactly as shown (selection outlines hidden)."})]}),s.jsx("div",{className:"relative h-80 overflow-hidden rounded-md border border-border-panel-divider bg-realm-map-viewport",children:h?s.jsx("div",{className:"pointer-events-none absolute inset-0",children:s.jsx(Im,{realm:h,onUpdateHex:fl,viewOptions:q,selectedHex:null,onHexClick:fl,activeTool:"select",setActiveTool:fl,paintTerrain:"plain",paintPoi:null,onAddMyth:fl,onRemoveMyth:fl,relocatingMythId:null,onRelocateMyth:fl,onSetSeatOfPower:fl,tileSets:x,barrierColor:R,isSettingsOpen:!0,isPickingTile:!1,onTilePick:fl,setConfirmation:o2,terrainTextures:g,isLoadingTextures:y,svgId:N,isInteractive:!1,staticPadding:E})}):s.jsx("div",{className:"flex h-full items-center justify-center px-4 text-center text-sm text-text-muted",children:"Generate a realm to preview the export."})})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 border-t border-border-panel-divider px-6 py-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx("span",{className:"text-sm text-text-muted",children:"The exported PNG hides selection outlines and uses the maximum resolution."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:o,className:"rounded-md border border-border-panel-divider px-4 py-2 text-sm font-medium text-text-muted hover:text-text-high-contrast",children:"Cancel"}),s.jsx("button",{type:"button",onClick:()=>d(u),disabled:!h||j,className:"rounded-md bg-actions-command-primary px-4 py-2 text-sm font-semibold text-text-high-contrast transition-colors hover:bg-actions-command-primary/80 disabled:cursor-not-allowed disabled:bg-border-panel-divider disabled:text-text-muted",children:j?"Exporting...":"Export PNG"})]})]})]})}):null}const f2=c=>{const[o,d]=w.useState({past:[],present:c,future:[]}),u=o.past.length>0,m=o.future.length>0,h=w.useCallback(g=>{d(y=>{const{present:R}=y;return g===R?y:{past:[...y.past,R],present:g,future:[]}})},[]),x=w.useCallback(()=>{u&&d(g=>{const{past:y,present:R,future:N}=g,j=y[y.length-1],E=y.slice(0,y.length-1);return j===void 0?g:{past:E,present:j,future:[R,...N]}})},[u]),S=w.useCallback(()=>{m&&d(g=>{const{past:y,present:R,future:N}=g,j=N[0],E=N.slice(1);return j===void 0?g:{past:[...y,R],present:j,future:E}})},[m]);return{state:o.present,set:h,undo:x,redo:S,canUndo:u,canRedo:m}};function m2({onRemoveAllBarriers:c,onClose:o,barrierColor:d,onColorChange:u}){const m=w.useRef(null),h=d!==Zs;return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Barrier Painter"}),s.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close Barrier Painter",children:s.jsx(he,{name:"close",className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-6",children:[s.jsx("p",{className:"text-sm text-text-muted",children:"Click and drag on hex edges to add or remove barriers."}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-border-panel-divider",children:[s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Barrier Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>{var x;return h?u(Zs):(x=m.current)==null?void 0:x.click()},className:"w-10 h-10 rounded-md flex-shrink-0 border border-black/20 relative group",style:{backgroundColor:d},title:h?"Reset to default color":"Edit color","aria-label":h?"Reset barrier color to default":"Select custom barrier color",children:[s.jsx("input",{ref:m,type:"color",value:d,onChange:x=>u(x.target.value),className:"opacity-0 w-0 h-0 absolute pointer-events-none","aria-label":"Barrier color picker"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(he,{name:h?"reset":"pipette",className:"w-5 h-5 text-white"})})]}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center",children:d.toUpperCase()})]})]}),s.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-actions-danger-base/50 rounded-md hover:bg-actions-danger-base/80 border border-actions-danger-base transition-colors",children:[s.jsx(he,{name:"trash-2",className:"w-4 h-4"}),"Remove All Barriers"]})]})]})}function h2({isOpen:c,title:o,message:d,onConfirm:u,onCancel:m,confirmText:h="Confirm",cancelText:x="Cancel",isInfo:S=!1}){return c?s.jsxs("div",{className:"fixed inset-0 bg-overlay-scrim z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"confirmation-dialog-title",children:[s.jsxs("div",{className:"bg-realm-map-viewport border border-border-panel-divider rounded-lg shadow-xl w-full max-w-md p-6 animate-fade-in",children:[s.jsx("h2",{id:"confirmation-dialog-title",className:"text-xl font-bold text-text-high-contrast text-center mb-4",children:o}),s.jsx("p",{className:"text-text-muted mb-6 text-center",children:d}),s.jsxs("div",{className:"flex justify-center gap-4",children:[!S&&s.jsx("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-text-high-contrast bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors",children:x}),s.jsx("button",{onClick:u,className:`px-4 py-2 text-sm font-medium text-text-high-contrast rounded-md transition-colors ${S?"bg-feedback-info-panel hover:bg-feedback-mystic-highlight":"bg-actions-danger-base hover:bg-actions-danger-hover"}`,children:S?"OK":h})]})]}),s.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in { animation: fade-in 0.2s ease-out forwards; }
      `})]}):null}function y2({onUndo:c,onRedo:o,canUndo:d,canRedo:u}){return s.jsxs("div",{className:"absolute bottom-4 right-[21rem] bg-realm-canvas-backdrop/80 border border-border-panel-divider p-2 rounded-lg shadow-lg flex items-center gap-2 z-10",children:[s.jsx("button",{onClick:c,disabled:!d,className:"p-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-text-muted hover:bg-realm-command-panel-hover enabled:hover:text-text-high-contrast",title:"Undo (Ctrl+Z)",children:s.jsx(he,{name:"undo",className:"w-5 h-5"})}),s.jsx("button",{onClick:o,disabled:!u,className:"p-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-text-muted hover:bg-realm-command-panel-hover enabled:hover:text-text-high-contrast",title:"Redo (Ctrl+Y)",children:s.jsx(he,{name:"redo",className:"w-5 h-5"})})]})}const p2={"tree-pine":["M12 22v-3","M12 9c3.3 0 6-2.7 6-6s-2.7-6-6-6-6 2.7-6 6 2.7 6 6 6z","m14 14-2 2-2-2","m12 19-2 2-2-2"],leaf:["M11 20A7 7 0 0 1 4 13V7a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V7a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v6a7 7 0 0 1-7 7z","M12 20v-2"],feather:["M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z","M16 8L2 22","M17.5 15H9"],flower:["M12 7.5a4.5 4.5 0 1 1 4.5 4.5","M12 7.5A4.5 4.5 0 1 0 7.5 12","M16.5 12a4.5 4.5 0 1 1-4.5 4.5","M7.5 12A4.5 4.5 0 1 0 12 16.5","M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0-6 0"],grass:["M2 22v-2c2.2-1.3 4.5-2.5 6.8-3.5C11.5 15 12.5 15 13.2 15h0c.7 0 1.7 0 4-1.5c2.3-1.5 4.5-2.7 6.8-3.5v2c-2.2 1.3-4.5 2.5-6.8 3.5C14.5 17 13.5 17 12.8 17h0c-.7 0-1.7 0-4 1.5C6.5 20 4.2 21.2 2 22Z","M11 15v7","M11 8v2"],sprout:["M7 20h10","M10 20v-3a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v3","M12 15s2-2 2-3c0-1.1-1-2-2-2-1 0-2 .9-2 2 0 1 2 3 2 3Z","M12 3v1"],shrub:["M12 22v-6","M12 8V2","M6 12H2","M22 12h-4","M15 5.09a7 7 0 0 1 0 13.82","M9 18.91A7 7 0 0 1 9 5.08"],triangle:["M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 3.73 21h16a2 2 0 0 0 1.73-3Z"],waves:["M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1","M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1","M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"],droplet:["M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"],sun:["M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0-8 0","M12 2v2","M12 20v2","M5 5l1.5 1.5","M17.5 17.5L19 19","M2 12h2","M20 12h2","M5 19l1.5-1.5","M17.5 6.5L19 5"],wind:["M17.7 7.7a2.5 2.5 0 1 0-3.54 0L12 10l-2.12-2.12a2.5 2.5 0 1 0-3.54 0L6 8.17","M12 12l-2.12 2.12a2.5 2.5 0 1 0 3.54 0L14.12 12","M18.17 12l-2.12-2.12a2.5 2.5 0 1 0-3.54 0L12 10","M7 12l2.12 2.12a2.5 2.5 0 1 0 3.54 0L12 12.01"],star:["M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.77 5.82 22 7 14.14 2 9.27l6.91-1.01L12 2z"],sparkle:["M9.9 2.1c.2-.4.7-.4 1 0l1.2 2.5c.1.2.4.3.6.3h2.7c.5 0 .7.5.3.8l-2.2 1.6c-.2.1-.3.4-.2.6l1 2.7c.1.5-.3.9-.8.6l-2.3-1.7c-.2-.1-.5-.1-.7 0l-2.3 1.7c-.5.3-1-.1-.8-.6l1-2.7c.1-.2 0-.5-.2-.6L3.3 5.7c-.4-.3-.2-.8.3-.8H6c.3 0 .5-.1.6-.3l1.2-2.5z"],cloud:["M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"],rock:["M12 22l-4-4","m-4 0l-4-4","M4 14l4-4","m4 0l4-4","M12 6l4 4","m4 0l4 4","M20 18l-4-4","m-4 4l-4 4"],flag:["M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z","M4 22v-7"],snowflake:["M10 2l-2.5 4.5","M14 2l2.5 4.5","M12 2V8","m-4.5 2.5L2 10","m15.5 2.5L22 10","M16 8H8","M2 14l5.5 2.5","M22 14l-5.5 2.5","M8 16h8","M10 22l2.5-4.5","M14 22l-2.5-4.5","M12 16v6"],branch:["M5 22h14","M12 22V6","M12 6H8.5a2.5 2.5 0 0 1 0-5H12","M12 6h3.5a2.5 2.5 0 1 0 0-5H12"],river:["M3 17l6-6 4 4 6-6"],path:["M3 17l4-4 4 4 4-4","M3 7l4 4 4-4 4 4"],"wave-sine":["M2 12h3l3 3 3-6 3 3h2"],"chevron-up":["M18 15l-6-6-6 6"],skull:["M20 20a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2Z","M8 12h8","M9 16h6","M9 8h.01","M15 8h.01"],fish:["M6.5 13.5v-11","M10 12v-1.5","m10 3v1.5","M15.5 13.5v-11","M18 12v-1.5","m0 3v1.5","M2 13.5h20","M2 5.5h20","M13.5 12h-3","m0 3h3","M11 2v20","M15.5 5.5v-4","M6.5 5.5v-4","M6.5 13.5v8","M15.5 13.5v8","M4 12v1.5","M4 9v1.5"],"tree-deciduous":["M12 22v-6","M6 16H4.2c-1.2 0-2.2-1-2.2-2.2V12c0-1.2 1-2.2 2.2-2.2H6","M18 16h1.8c1.2 0 2.2-1 2.2-2.2V12c0-1.2-1-2.2-2.2-2.2H18","M12 16a6 6 0 0 0 6-6h-2a4 4 0 0 1-4 4V4a2 2 0 1 0-4 0v6a4 4 0 0 1-4-4H6a6 6 0 0 0 6 6z"],sparkles:["M9.5 2.1c.2-.4.7-.4 1 0l1.2 2.5c.1.2.4.3.6.3h2.7c.5 0 .7.5.3.8l-2.2 1.6c-.2.1-.3.4-.2.6l1 2.7c.1.5-.3.9-.8.6l-2.3-1.7c-.2-.1-.5-.1-.7 0l-2.3 1.7c-.5.3-1-.1-.8-.6l1-2.7c.1-.2 0-.5-.2-.6L3 5.7c-.4-.3-.2-.8.3-.8H6c.3 0 .5-.1.6-.3l1.2-2.5z","M15 15.3c.2-.4.7-.4 1 0l.6 1.2c.1.2.4.3.6.3h1.4c.5 0 .7.5.3.8l-1.1 1c-.2.1-.3.4-.2.6l.5 1.4c.1.5-.3.9-.8.6l-1.2-.9c-.2-.1-.5-.1-.7 0l-1.2.9c-.5.3-1-.1-.8-.6l.5-1.4c.1-.2 0-.5-.2-.6l-1.1-1c-.4-.3-.2-.8.3-.8H15c.3 0 .5-.1.6-.3l.6-1.2z"]},g2={x:50,y:50},x2=4;function b2(c,o,d){const u={q:0,r:0,terrain:o.id},m=ah(u,o,d);for(const h of m){const x=p2[h.name];if(!x)continue;c.save(),c.translate(h.x,h.y),c.rotate(h.rotation*Math.PI/180);const S=h.color||"#FF00FF";c.strokeStyle=S,c.lineWidth=2.5,c.lineJoin="round",c.lineCap="round",c.globalAlpha=h.opacity;const g=h.size/24;c.scale(g,g),c.translate(-12,-12);for(const y of x)try{const R=new Path2D(y);c.stroke(R)}catch(R){console.warn(`Could not draw path for icon '${h.name}':`,R)}c.restore()}}async function v2(c,o,d=g2){var R,N,j,E;const u={},m=document.createElement("canvas"),h={width:d.x*Math.sqrt(3),height:d.y*2},x=typeof window<"u"?window.devicePixelRatio??1:1,S=x2*x;m.width=Math.round(h.width*S),m.height=Math.round(h.height*S),m.style.width=`${h.width}px`,m.style.height=`${h.height}px`;const g=m.getContext("2d");if(!g)throw new Error("Could not get 2D rendering context");g.scale(S,S);const y=Ni("pointy",d);for(const q of c.terrain){const D=o[q.id]||"#cccccc";g.clearRect(0,0,h.width,h.height),g.save(),g.translate(h.width/2,h.height/2),g.beginPath(),g.moveTo(((R=y[0])==null?void 0:R.x)??0,((N=y[0])==null?void 0:N.y)??0);for(let B=1;B<6;B++)g.lineTo(((j=y[B])==null?void 0:j.x)??0,((E=y[B])==null?void 0:E.y)??0);g.closePath(),g.fillStyle=D,g.fill();const O=m.toDataURL("image/png");b2(g,q,d);const V=m.toDataURL("image/png");u[q.id]={withSpray:V,withoutSpray:O},g.restore()}return u}const Gm=(c,o)=>c===void 0?[o,!0]:[c,!1],ch=(c,o,d)=>{const u=c??Vs;let m=c===void 0;const h=o.holding.reduce((j,E)=>{var D;const q=(D=u.holdings)==null?void 0:D[E.id];return q===void 0?(m=!0,j[E.id]=!0):j[E.id]=q,j},{});if(u.holdings){for(const j of Object.keys(u.holdings))if(!(j in h)){m=!0;break}}const x=o.landmark.reduce((j,E)=>{var D;const q=(D=u.landmarks)==null?void 0:D[E.id];return q===void 0?(m=!0,j[E.id]=!1):j[E.id]=q,j},{});if(u.landmarks){for(const j of Object.keys(u.landmarks))if(!(j in x)){m=!0;break}}const S=d.reduce((j,E)=>{var D;const q=(D=u.myths)==null?void 0:D[E.id];return q===void 0?(m=!0,j[E.id]=!1):j[E.id]=q,j},{});if(u.myths){for(const j of Object.keys(u.myths))if(!(Number(j)in S)){m=!0;break}}const[g,y]=Gm(u.seatOfPower,Vs.seatOfPower),[R,N]=Gm(u.showBarriers,Vs.showBarriers);return m=m||y||N,{visibility:{holdings:h,seatOfPower:g,landmarks:x,myths:S,showBarriers:R},changed:m}},M2=ch(void 0,Qs,[]).visibility,Ym="hex-grid-export-preview",S2=6;function j2(){const{state:c,set:o,undo:d,redo:u,canUndo:m,canRedo:h}=f2(null),[x,S]=w.useState(null),[g,y]=w.useState(null),[R,N]=w.useState({showGrid:!0,isGmView:!0,orientation:"pointy",hexSize:{x:50,y:50},gridColor:Ys,gridWidth:Jm,showIconSpray:!0,visibility:{knight:M2}}),[j,E]=w.useState(()=>({viewMode:"referee",includeGrid:!0,includeIconSpray:!0})),[q,D]=w.useState("select"),[O,V]=w.useState(ml[0]??"plain"),[B,Z]=w.useState("holding:castle"),[v,Y]=w.useState(Qs),[$,z]=w.useState(()=>({...Zt})),[P,ue]=w.useState(Zs),[ie,se]=w.useState(!1),[J,de]=w.useState(!1);w.useEffect(()=>{document.documentElement.setAttribute("data-theme","dark")},[]),w.useEffect(()=>{const Q=(c==null?void 0:c.myths)??[];N(W=>{const{visibility:le,changed:Be}=ch(W.visibility.knight,v,Q);return Be?{...W,visibility:{...W.visibility,knight:le}}:W})},[c==null?void 0:c.myths,v,N]);const[Re,pe]=w.useState("square"),[T,K]=w.useState(Cn),[ee,ge]=w.useState(Cn),[xe,b]=w.useState(Cn),[L,F]=w.useState(null),[te,me]=w.useState(!1),[Me,be]=w.useState({tab:"general",focusId:null}),[Ze,Ge]=w.useState(!1),[qt,Ua]=w.useState(null),[xa,hl]=w.useState(!0),Qt=Y0.reduce((Q,W)=>(Q[W]=3,Q),{}),[I,re]=w.useState({numHoldings:4,numMyths:6,mythMinDistance:3,landmarks:Qt,generateBarriers:!1,highlandFormation:"linear",highlandFormationStrength:.7,highlandFormationRotation:0,highlandFormationInverse:!1,terrainRoughness:.5,terrainClusteringMatrix:gu,terrainBiases:$m,terrainHeightOrder:L0}),ye=w.useCallback(()=>{try{const W=s2(Re==="hex"?{shape:"hex",radius:T}:{shape:"square",width:ee,height:xe},I);o(W),S(null)}catch(Q){const W=Q instanceof Error?Q.message:"An unknown error occurred during realm generation.";F({isOpen:!0,title:"Generation Failed",message:W,onConfirm:()=>F(null),confirmText:"OK",isInfo:!0})}},[Re,T,ee,xe,I,o]);w.useEffect(()=>{c||ye()},[c,ye]),w.useEffect(()=>{if(Object.keys($).length===0)return;(async()=>{hl(!0);try{const W=await v2(v,$,R.hexSize);Ua(W)}catch(W){console.error("Failed to generate terrain textures:",W),F({isOpen:!0,title:"Texture Generation Failed",message:"Could not generate map textures. The map may not display correctly.",onConfirm:()=>F(null),isInfo:!0})}finally{hl(!1)}})()},[v,$,R.hexSize]),w.useEffect(()=>{(q==="terrain"||q==="barrier"||q==="poi"||q==="myth")&&S(null),q!=="myth"&&y(null),q!=="terrain"&&q!=="poi"&&Ge(!1)},[q]),w.useEffect(()=>{const Q=W=>{const le=W.ctrlKey||W.metaKey;W.key==="Escape"&&Ze?(W.preventDefault(),Ge(!1)):le&&W.key.toLowerCase()==="z"?(W.preventDefault(),W.shiftKey?h&&(u(),S(null)):m&&(d(),S(null))):le&&W.key.toLowerCase()==="y"&&(W.preventDefault(),h&&(u(),S(null)))};return window.addEventListener("keydown",Q),()=>{window.removeEventListener("keydown",Q)}},[m,h,d,u,Ze]);const _e=w.useCallback(Q=>{if(!c)return;const W=Array.isArray(Q)?Q:[Q];if(W.length===0)return;const le=new Map;W.forEach(we=>le.set(`${we.q},${we.r}`,we));const Be=c.hexes.map(we=>{const ze=`${we.q},${we.r}`;return le.get(ze)||we});if(o({...c,hexes:Be}),x){const we=W.find(ze=>ze.q===x.q&&ze.r===x.r);we&&S(we||null)}},[c,x,o]),Ne=w.useCallback((Q,W=!1)=>{if(!c)return;const le=c.hexes.find(Tt=>Tt.q===Q.q&&Tt.r===Q.r);if(!le||le.myth||le.holding||le.landmark){(le!=null&&le.holding||le!=null&&le.landmark)&&F({isOpen:!0,title:"Action Blocked",message:"Cannot add a myth to a hex with a holding or landmark.",onConfirm:()=>F(null),isInfo:!0});return}const Be=(c.myths.length>0?Math.max(...c.myths.map(Tt=>Tt.id)):0)+1,we={id:Be,name:`Myth #${Be}`,q:Q.q,r:Q.r},ze=[...c.myths,we];let at;const ca=c.hexes.map(Tt=>Tt.q===Q.q&&Tt.r===Q.r?(at={...Tt,myth:Be},at):Tt);o({...c,hexes:ca,myths:ze}),at&&(x&&x.q===Q.q&&x.r===Q.r||W)&&S(at)},[c,o,x]),De=w.useCallback(Q=>{if(!c||!Q.myth)return;const W=Q.myth,le=c.myths.filter(ze=>ze.id!==W).map(ze=>ze.id>W?{...ze,id:ze.id-1}:ze).sort((ze,at)=>ze.id-at.id);let Be;const we=c.hexes.map(ze=>{if(ze.q===Q.q&&ze.r===Q.r){const{myth:at,...ca}=ze;return Be=ca,ca}return ze.myth&&ze.myth>W?{...ze,myth:ze.myth-1}:ze});o({...c,hexes:we,myths:le}),x&&x.q===Q.q&&x.r===Q.r&&S(Be||null)},[c,o,x]),Ie=w.useCallback(Q=>{if(!c)return;const W=c.myths.map(le=>le.id===Q.id?Q:le);o({...c,myths:W})},[c,o]),gt=w.useCallback(Q=>{y(W=>W===Q?null:Q),g!==Q&&S(null)},[g]),ia=w.useCallback((Q,W)=>{if(!c)return;const le=c.hexes.find(mt=>mt.q===W.q&&mt.r===W.r);if(!le||le.myth||le.holding||le.landmark){le!=null&&le.myth&&F({isOpen:!0,title:"Relocation Blocked",message:"Cannot relocate to a hex that already has a myth.",onConfirm:()=>F(null),isInfo:!0}),(le!=null&&le.holding||le!=null&&le.landmark)&&F({isOpen:!0,title:"Relocation Blocked",message:"Cannot relocate a myth to a hex that has a holding or a landmark.",onConfirm:()=>F(null),isInfo:!0});return}const Be=c.myths.find(mt=>mt.id===Q);if(!Be)return;const we={q:Be.q,r:Be.r},ze={...Be,q:W.q,r:W.r},at=c.myths.map(mt=>mt.id===Q?ze:mt);let ca;const Tt=c.hexes.map(mt=>{if(mt.q===we.q&&mt.r===we.r){const{myth:Is,...Tn}=mt;return Tn}return mt.q===W.q&&mt.r===W.r?(ca={...mt,myth:Q},ca):mt});o({...c,hexes:Tt,myths:at}),y(null),ca&&S(ca)},[c,o]),Ke=Q=>{Q.myths||(Q.myths=[],Q.hexes.forEach(W=>{W.myth&&Q.myths.push({id:W.myth,name:`Myth #${W.myth}`,q:W.q,r:W.r})})),o(Q),S(null),pe(Q.shape),Q.shape==="hex"?K(Q.radius??Cn):(ge(Q.width??Cn),b(Q.height??Cn))},La=w.useCallback(()=>{c&&c2(c)},[c]),zt=w.useCallback(()=>{E(Q=>({...Q,includeGrid:R.showGrid,includeIconSpray:R.showIconSpray,viewMode:R.isGmView?"referee":"knight"})),se(!0)},[E,se,R.isGmView,R.showGrid,R.showIconSpray]),Kt=w.useCallback(async Q=>{if(!(!c||J)){de(!0);try{const W=Q.viewMode==="referee"?"realm-map-referee.png":"realm-map-knight.png";await r2(Ym,W,{scale:S2,hideSelectionHighlights:!0}),se(!1)}catch(W){console.error("Failed to export PNG",W),F({isOpen:!0,title:"Export Failed",message:"Something went wrong while exporting the PNG. Please try again or report the issue if it persists.",onConfirm:()=>F(null),isInfo:!0})}finally{de(!1)}}},[c,J,F,se]),ba=w.useCallback(Q=>{E(Q)},[]),ql=w.useCallback(Q=>{!c||!Q.holding||o({...c,seatOfPower:{q:Q.q,r:Q.r}})},[c,o]),da=w.useCallback((Q,W)=>{const le=Q.toLowerCase().replace(/\s+/g,"-");if(v.terrain.some(we=>we.id===le||we.label.toLowerCase()===Q.toLowerCase())){F({isOpen:!0,title:"Duplicate Terrain",message:"A terrain with this name already exists.",onConfirm:()=>F(null),isInfo:!0});return}const Be={id:le,label:Q,icon:"leaf",color:W,description:"Custom terrain created by the user.",sprayIcons:[]};Y(we=>({...we,terrain:[...we.terrain,Be]})),z(we=>({...we,[le]:W}))},[v.terrain]),Ga=w.useCallback(Q=>{if(ml.includes(Q)){F({isOpen:!0,title:"Action Blocked",message:"Cannot remove default terrain types.",onConfirm:()=>F(null),isInfo:!0});return}Y(W=>({...W,terrain:W.terrain.filter(le=>le.id!==Q)})),z(W=>{const le={...W};return delete le[Q],le}),c&&o({...c,hexes:c.hexes.map(W=>W.terrain===Q?{...W,terrain:"plain"}:W)}),O===Q&&V(ml[0]??"plain")},[c,o,O]),fa=w.useCallback((Q,W)=>z(le=>({...le,[Q]:W})),[]),sa=w.useCallback(Q=>{const W=Km(Q);z(le=>({...le,[Q]:W}))},[]),ot=w.useCallback(()=>{F({isOpen:!0,title:"Remove All Barriers",message:"Are you sure you want to remove all barriers? This action cannot be undone.",onConfirm:()=>{c&&(o({...c,hexes:c.hexes.map(Q=>({...Q,barrierEdges:[]}))}),F(null))}})},[c,o]),Jt=()=>F(null),Ct=w.useCallback((Q,W,le)=>{re(Be=>{const we=JSON.parse(JSON.stringify(Be.terrainClusteringMatrix)),ze=we[Q],at=we[W];return ze&&at&&(ze[W]=le,at[Q]=le),{...Be,terrainClusteringMatrix:we}})},[]),$s=w.useCallback((Q,W)=>re(le=>({...le,[Q]:W})),[]),Fs=w.useCallback((Q,W)=>re(le=>({...le,terrainBiases:{...le.terrainBiases,[Q]:W}})),[]),Ws=w.useCallback(Q=>re(W=>({...W,...Q})),[]),yl=w.useCallback(()=>{(q==="terrain"||q==="poi")&&Ge(!0)},[q]),Bl=w.useCallback(Q=>{Ze&&(q==="terrain"?V(Q.terrain):q==="poi"&&(Q.holding?Z(`holding:${Q.holding}`):Q.landmark?Z(`landmark:${Q.landmark}`):Q.myth&&Z("action:myth")),Ge(!1))},[Ze,q]);w.useEffect(()=>{var le;const Q=JSON.parse(JSON.stringify(gu)),W=2*(1-I.terrainRoughness);for(const Be of ml){const we=Q[Be];if(we)for(const ze of ml){const at=((le=gu[Be])==null?void 0:le[ze])??0;we[ze]=at===0?0:Math.max(.01,Math.min(1,at*W))}}re(Be=>JSON.stringify(Be.terrainClusteringMatrix)===JSON.stringify(Q)?Be:{...Be,terrainClusteringMatrix:Q})},[I.terrainRoughness,I.terrainClusteringMatrix]);const Ul=w.useCallback(Q=>{be({tab:"terrain",focusId:Q}),me(!0)},[]);return s.jsxs("div",{className:"flex flex-col h-screen w-screen bg-realm-canvas-backdrop overflow-hidden",children:[s.jsx(Gp,{onGenerate:ye,onExportJson:La,onExportPng:zt,onImportJson:Ke,viewOptions:R,setViewOptions:N,realmShape:Re,setRealmShape:pe,realmRadius:T,setRealmRadius:K,realmWidth:ee,setRealmWidth:ge,realmHeight:xe,setRealmHeight:b,generationOptions:I,setGenerationOptions:re,onGenerationOptionChange:$s,handleClusteringChange:Ct,handleTerrainBiasChange:Fs,onApplyTemplate:Ws,tileSets:v,setTileSets:Y,isSettingsOpen:te,setIsSettingsOpen:me,settingsView:Me,setSettingsView:be,setConfirmation:F,myths:(c==null?void 0:c.myths)??[]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("main",{className:"flex-1 bg-realm-map-viewport relative",children:c?s.jsx(Im,{realm:c,onUpdateHex:_e,viewOptions:R,selectedHex:x,onHexClick:S,activeTool:q,setActiveTool:D,paintTerrain:O,paintPoi:B,onAddMyth:Ne,onRemoveMyth:De,relocatingMythId:g,onRelocateMyth:ia,onSetSeatOfPower:ql,tileSets:v,terrainColors:$,barrierColor:P??"",isSettingsOpen:te,isPickingTile:Ze,onTilePick:Bl,setConfirmation:F,terrainTextures:qt,isLoadingTextures:xa}):s.jsx("div",{className:"flex items-center justify-center h-full text-text-muted",children:s.jsx("p",{children:"Generating initial realm..."})})}),q==="terrain"?s.jsx(Kp,{paintTerrain:O,setPaintTerrain:V,onClose:()=>D("select"),tileSets:v,terrainColors:$,onAddTerrain:da,onRemoveTerrain:Ga,onUpdateTerrainColor:fa,onResetTerrainColor:sa,onStartPicking:yl,isPickingTile:Ze,onOpenSpraySettings:Ul}):q==="poi"?s.jsx($p,{paintPoi:B,setPaintPoi:Z,onClose:()=>D("select"),onStartPicking:yl,isPickingTile:Ze}):q==="barrier"?s.jsx(m2,{onRemoveAllBarriers:ot,onClose:()=>D("select"),barrierColor:P??"",onColorChange:ue}):q==="myth"&&c?s.jsx(Fp,{realm:c,selectedHex:x,onSelectHex:S,onUpdateMyth:Ie,onRemoveMyth:De,relocatingMythId:g,onToggleRelocateMyth:gt,onClose:()=>D("select")}):q==="select"?s.jsx(Vp,{selectedHex:x,realm:c,onUpdateHex:_e,onDeselect:()=>S(null),onSetSeatOfPower:ql,onAddMyth:Ne,onRemoveMyth:De,tileSets:v}):null]}),s.jsx(d2,{isOpen:ie,onClose:()=>se(!1),onExport:Kt,settings:j,onSettingsChange:ba,realm:c,tileSets:v,baseViewOptions:R,terrainTextures:qt,isLoadingTextures:xa,barrierColor:P??"",previewSvgId:Ym,isExporting:J,previewPadding:Math.max(R.hexSize.x,R.hexSize.y)}),(L==null?void 0:L.isOpen)&&s.jsx(h2,{isOpen:L.isOpen,title:L.title,message:L.message,onConfirm:L.onConfirm,onCancel:Jt,confirmText:L.confirmText??"OK",isInfo:L.isInfo??!1}),!te&&s.jsx(y2,{onUndo:()=>{d(),S(null)},onRedo:()=>{u(),S(null)},canUndo:m,canRedo:h})]})}const rh=document.getElementById("root");if(!rh)throw new Error("Could not find root element to mount to");const N2=k0.createRoot(rh);N2.render(s.jsx(Ei.StrictMode,{children:s.jsx(j2,{})}));
