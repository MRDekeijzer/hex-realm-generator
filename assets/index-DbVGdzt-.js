(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function d(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerPolicy&&(h.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?h.credentials="include":m.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(m){if(m.ep)return;m.ep=!0;const h=d(m);fetch(m.href,h)}})();function Qm(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var du={exports:{}},bi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function N0(){if(Nm)return bi;Nm=1;var c=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(u,m,h){var g=null;if(h!==void 0&&(g=""+h),m.key!==void 0&&(g=""+m.key),"key"in m){h={};for(var b in m)b!=="key"&&(h[b]=m[b])}else h=m;return m=h.ref,{$$typeof:c,type:u,key:g,ref:m!==void 0?m:null,props:h}}return bi.Fragment=o,bi.jsx=d,bi.jsxs=d,bi}var Cm;function C0(){return Cm||(Cm=1,du.exports=N0()),du.exports}var s=C0(),fu={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function E0(){if(Em)return ve;Em=1;var c=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.iterator;function z(v){return v===null||typeof v!="object"?null:(v=j&&v[j]||v["@@iterator"],typeof v=="function"?v:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,D={};function G(v,L,F){this.props=v,this.context=L,this.refs=D,this.updater=F||H}G.prototype.isReactComponent={},G.prototype.setState=function(v,L){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,L,"setState")},G.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function B(){}B.prototype=G.prototype;function Z(v,L,F){this.props=v,this.context=L,this.refs=D,this.updater=F||H}var S=Z.prototype=new B;S.constructor=Z,O(S,G.prototype),S.isPureReactComponent=!0;var V=Array.isArray;function $(){}var T={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function ue(v,L,F){var te=F.ref;return{$$typeof:c,type:v,key:L,ref:te!==void 0?te:null,props:F}}function ie(v,L){return ue(v.type,L,v.props)}function se(v){return typeof v=="object"&&v!==null&&v.$$typeof===c}function J(v){var L={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(F){return L[F]})}var de=/\/+/g;function Re(v,L){return typeof v=="object"&&v!==null&&v.key!=null?J(""+v.key):L.toString(36)}function pe(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then($,$):(v.status="pending",v.then(function(L){v.status==="pending"&&(v.status="fulfilled",v.value=L)},function(L){v.status==="pending"&&(v.status="rejected",v.reason=L)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function w(v,L,F,te,me){var Se=typeof v;(Se==="undefined"||Se==="boolean")&&(v=null);var be=!1;if(v===null)be=!0;else switch(Se){case"bigint":case"string":case"number":be=!0;break;case"object":switch(v.$$typeof){case c:case o:be=!0;break;case E:return be=v._init,w(be(v._payload),L,F,te,me)}}if(be)return me=me(v),be=te===""?"."+Re(v,0):te,V(me)?(F="",be!=null&&(F=be.replace(de,"$&/")+"/"),w(me,L,F,"",function(Bt){return Bt})):me!=null&&(se(me)&&(me=ie(me,F+(me.key==null||v&&v.key===me.key?"":(""+me.key).replace(de,"$&/")+"/")+be)),L.push(me)),1;be=0;var Ze=te===""?".":te+":";if(V(v))for(var Ge=0;Ge<v.length;Ge++)te=v[Ge],Se=Ze+Re(te,Ge),be+=w(te,L,F,Se,me);else if(Ge=z(v),typeof Ge=="function")for(v=Ge.call(v),Ge=0;!(te=v.next()).done;)te=te.value,Se=Ze+Re(te,Ge++),be+=w(te,L,F,Se,me);else if(Se==="object"){if(typeof v.then=="function")return w(pe(v),L,F,te,me);throw L=String(v),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(v,L,F){if(v==null)return v;var te=[],me=0;return w(v,te,"","",function(Se){return L.call(F,Se,me++)}),te}function ee(v){if(v._status===-1){var L=v._result;L=L(),L.then(function(F){(v._status===0||v._status===-1)&&(v._status=1,v._result=F)},function(F){(v._status===0||v._status===-1)&&(v._status=2,v._result=F)}),v._status===-1&&(v._status=0,v._result=L)}if(v._status===1)return v._result.default;throw v._result}var ge=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},xe={map:K,forEach:function(v,L,F){K(v,function(){L.apply(this,arguments)},F)},count:function(v){var L=0;return K(v,function(){L++}),L},toArray:function(v){return K(v,function(L){return L})||[]},only:function(v){if(!se(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return ve.Activity=N,ve.Children=xe,ve.Component=G,ve.Fragment=d,ve.Profiler=m,ve.PureComponent=Z,ve.StrictMode=u,ve.Suspense=p,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,ve.__COMPILER_RUNTIME={__proto__:null,c:function(v){return T.H.useMemoCache(v)}},ve.cache=function(v){return function(){return v.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(v,L,F){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var te=O({},v.props),me=v.key;if(L!=null)for(Se in L.key!==void 0&&(me=""+L.key),L)!P.call(L,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&L.ref===void 0||(te[Se]=L[Se]);var Se=arguments.length-2;if(Se===1)te.children=F;else if(1<Se){for(var be=Array(Se),Ze=0;Ze<Se;Ze++)be[Ze]=arguments[Ze+2];te.children=be}return ue(v.type,me,te)},ve.createContext=function(v){return v={$$typeof:g,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:h,_context:v},v},ve.createElement=function(v,L,F){var te,me={},Se=null;if(L!=null)for(te in L.key!==void 0&&(Se=""+L.key),L)P.call(L,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(me[te]=L[te]);var be=arguments.length-2;if(be===1)me.children=F;else if(1<be){for(var Ze=Array(be),Ge=0;Ge<be;Ge++)Ze[Ge]=arguments[Ge+2];me.children=Ze}if(v&&v.defaultProps)for(te in be=v.defaultProps,be)me[te]===void 0&&(me[te]=be[te]);return ue(v,Se,me)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(v){return{$$typeof:b,render:v}},ve.isValidElement=se,ve.lazy=function(v){return{$$typeof:E,_payload:{_status:-1,_result:v},_init:ee}},ve.memo=function(v,L){return{$$typeof:y,type:v,compare:L===void 0?null:L}},ve.startTransition=function(v){var L=T.T,F={};T.T=F;try{var te=v(),me=T.S;me!==null&&me(F,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then($,ge)}catch(Se){ge(Se)}finally{L!==null&&F.types!==null&&(L.types=F.types),T.T=L}},ve.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},ve.use=function(v){return T.H.use(v)},ve.useActionState=function(v,L,F){return T.H.useActionState(v,L,F)},ve.useCallback=function(v,L){return T.H.useCallback(v,L)},ve.useContext=function(v){return T.H.useContext(v)},ve.useDebugValue=function(){},ve.useDeferredValue=function(v,L){return T.H.useDeferredValue(v,L)},ve.useEffect=function(v,L){return T.H.useEffect(v,L)},ve.useEffectEvent=function(v){return T.H.useEffectEvent(v)},ve.useId=function(){return T.H.useId()},ve.useImperativeHandle=function(v,L,F){return T.H.useImperativeHandle(v,L,F)},ve.useInsertionEffect=function(v,L){return T.H.useInsertionEffect(v,L)},ve.useLayoutEffect=function(v,L){return T.H.useLayoutEffect(v,L)},ve.useMemo=function(v,L){return T.H.useMemo(v,L)},ve.useOptimistic=function(v,L){return T.H.useOptimistic(v,L)},ve.useReducer=function(v,L,F){return T.H.useReducer(v,L,F)},ve.useRef=function(v){return T.H.useRef(v)},ve.useState=function(v){return T.H.useState(v)},ve.useSyncExternalStore=function(v,L,F){return T.H.useSyncExternalStore(v,L,F)},ve.useTransition=function(){return T.H.useTransition()},ve.version="19.2.0",ve}var zm;function Tu(){return zm||(zm=1,fu.exports=E0()),fu.exports}var A=Tu();const Ti=Qm(A);var mu={exports:{}},vi={},hu={exports:{}},yu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function z0(){return Tm||(Tm=1,(function(c){function o(w,K){var ee=w.length;w.push(K);e:for(;0<ee;){var ge=ee-1>>>1,xe=w[ge];if(0<m(xe,K))w[ge]=K,w[ee]=xe,ee=ge;else break e}}function d(w){return w.length===0?null:w[0]}function u(w){if(w.length===0)return null;var K=w[0],ee=w.pop();if(ee!==K){w[0]=ee;e:for(var ge=0,xe=w.length,v=xe>>>1;ge<v;){var L=2*(ge+1)-1,F=w[L],te=L+1,me=w[te];if(0>m(F,ee))te<xe&&0>m(me,F)?(w[ge]=me,w[te]=ee,ge=te):(w[ge]=F,w[L]=ee,ge=L);else if(te<xe&&0>m(me,ee))w[ge]=me,w[te]=ee,ge=te;else break e}}return K}function m(w,K){var ee=w.sortIndex-K.sortIndex;return ee!==0?ee:w.id-K.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;c.unstable_now=function(){return h.now()}}else{var g=Date,b=g.now();c.unstable_now=function(){return g.now()-b}}var p=[],y=[],E=1,N=null,j=3,z=!1,H=!1,O=!1,D=!1,G=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function S(w){for(var K=d(y);K!==null;){if(K.callback===null)u(y);else if(K.startTime<=w)u(y),K.sortIndex=K.expirationTime,o(p,K);else break;K=d(y)}}function V(w){if(O=!1,S(w),!H)if(d(p)!==null)H=!0,$||($=!0,J());else{var K=d(y);K!==null&&pe(V,K.startTime-w)}}var $=!1,T=-1,P=5,ue=-1;function ie(){return D?!0:!(c.unstable_now()-ue<P)}function se(){if(D=!1,$){var w=c.unstable_now();ue=w;var K=!0;try{e:{H=!1,O&&(O=!1,B(T),T=-1),z=!0;var ee=j;try{t:{for(S(w),N=d(p);N!==null&&!(N.expirationTime>w&&ie());){var ge=N.callback;if(typeof ge=="function"){N.callback=null,j=N.priorityLevel;var xe=ge(N.expirationTime<=w);if(w=c.unstable_now(),typeof xe=="function"){N.callback=xe,S(w),K=!0;break t}N===d(p)&&u(p),S(w)}else u(p);N=d(p)}if(N!==null)K=!0;else{var v=d(y);v!==null&&pe(V,v.startTime-w),K=!1}}break e}finally{N=null,j=ee,z=!1}K=void 0}}finally{K?J():$=!1}}}var J;if(typeof Z=="function")J=function(){Z(se)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Re=de.port2;de.port1.onmessage=se,J=function(){Re.postMessage(null)}}else J=function(){G(se,0)};function pe(w,K){T=G(function(){w(c.unstable_now())},K)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(w){w.callback=null},c.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<w?Math.floor(1e3/w):5},c.unstable_getCurrentPriorityLevel=function(){return j},c.unstable_next=function(w){switch(j){case 1:case 2:case 3:var K=3;break;default:K=j}var ee=j;j=K;try{return w()}finally{j=ee}},c.unstable_requestPaint=function(){D=!0},c.unstable_runWithPriority=function(w,K){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var ee=j;j=w;try{return K()}finally{j=ee}},c.unstable_scheduleCallback=function(w,K,ee){var ge=c.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ge+ee:ge):ee=ge,w){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ee+xe,w={id:E++,callback:K,priorityLevel:w,startTime:ee,expirationTime:xe,sortIndex:-1},ee>ge?(w.sortIndex=ee,o(y,w),d(p)===null&&w===d(y)&&(O?(B(T),T=-1):O=!0,pe(V,ee-ge))):(w.sortIndex=xe,o(p,w),H||z||(H=!0,$||($=!0,J()))),w},c.unstable_shouldYield=ie,c.unstable_wrapCallback=function(w){var K=j;return function(){var ee=j;j=K;try{return w.apply(this,arguments)}finally{j=ee}}}})(yu)),yu}var wm;function T0(){return wm||(wm=1,hu.exports=z0()),hu.exports}var pu={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function w0(){if(km)return jt;km=1;var c=Tu();function o(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var u={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function h(p,y,E){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:N==null?null:""+N,children:p,containerInfo:y,implementation:E}}var g=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,jt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(o(299));return h(p,y,null,E)},jt.flushSync=function(p){var y=g.T,E=u.p;try{if(g.T=null,u.p=2,p)return p()}finally{g.T=y,u.p=E,u.d.f()}},jt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,u.d.C(p,y))},jt.prefetchDNS=function(p){typeof p=="string"&&u.d.D(p)},jt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,N=b(E,y.crossOrigin),j=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?u.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:j,fetchPriority:z}):E==="script"&&u.d.X(p,{crossOrigin:N,integrity:j,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},jt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=b(y.as,y.crossOrigin);u.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&u.d.M(p)},jt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,N=b(E,y.crossOrigin);u.d.L(p,E,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},jt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=b(y.as,y.crossOrigin);u.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else u.d.m(p)},jt.requestFormReset=function(p){u.d.r(p)},jt.unstable_batchedUpdates=function(p,y){return p(y)},jt.useFormState=function(p,y,E){return g.H.useFormState(p,y,E)},jt.useFormStatus=function(){return g.H.useHostTransitionStatus()},jt.version="19.2.0",jt}var Am;function Km(){if(Am)return pu.exports;Am=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(o){console.error(o)}}return c(),pu.exports=w0(),pu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function k0(){if(Rm)return vi;Rm=1;var c=T0(),o=Tu(),d=Km();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(h(e)!==e)throw Error(u(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return p(n),e;if(i===l)return p(n),t;i=i.sibling}throw Error(u(188))}if(a.return!==l.return)a=n,l=i;else{for(var r=!1,f=n.child;f;){if(f===a){r=!0,a=n,l=i;break}if(f===l){r=!0,l=n,a=i;break}f=f.sibling}if(!r){for(f=i.child;f;){if(f===a){r=!0,a=i,l=n;break}if(f===l){r=!0,l=i,a=n;break}f=f.sibling}if(!r)throw Error(u(189))}}if(a.alternate!==l)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function E(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=E(e),t!==null)return t;e=e.sibling}return null}var N=Object.assign,j=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case G:return"Profiler";case D:return"StrictMode";case V:return"Suspense";case $:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case Z:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T:return t=e.displayName||null,t!==null?t:Re(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return Re(e(t))}catch{}}return null}var pe=Array.isArray,w=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ge=[],xe=-1;function v(e){return{current:e}}function L(e){0>xe||(e.current=ge[xe],ge[xe]=null,xe--)}function F(e,t){xe++,ge[xe]=e.current,e.current=t}var te=v(null),me=v(null),Se=v(null),be=v(null);function Ze(e,t){switch(F(Se,t),F(me,e),F(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kf(t),e=Jf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(te),F(te,e)}function Ge(){L(te),L(me),L(Se)}function Bt(e){e.memoizedState!==null&&F(be,e);var t=te.current,a=Jf(t,e.type);t!==a&&(F(me,e),F(te,a))}function La(e){me.current===e&&(L(te),L(me)),be.current===e&&(L(be),yi._currentValue=ee)}var va,yl;function Kt(e){if(va===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);va=t&&t[1]||"",yl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+e+yl}var I=!1;function re(e,t){if(!e||I)return"";I=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var _=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){_=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){_=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&_&&typeof q.stack=="string")return[q.stack,_.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),r=i[0],f=i[1];if(r&&f){var x=r.split(`
`),R=f.split(`
`);for(n=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;n<R.length&&!R[n].includes("DetermineComponentFrameRoot");)n++;if(l===x.length||n===R.length)for(l=x.length-1,n=R.length-1;1<=l&&0<=n&&x[l]!==R[n];)n--;for(;1<=l&&0<=n;l--,n--)if(x[l]!==R[n]){if(l!==1||n!==1)do if(l--,n--,0>n||x[l]!==R[n]){var U=`
`+x[l].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=l&&0<=n);break}}}finally{I=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Kt(a):""}function he(e,t){switch(e.tag){case 26:case 27:case 5:return Kt(e.type);case 16:return Kt("Lazy");case 13:return e.child!==t&&t!==null?Kt("Suspense Fallback"):Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return re(e.type,!1);case 11:return re(e.type.render,!1);case 1:return re(e.type,!0);case 31:return Kt("Activity");default:return""}}function _e(e){try{var t="",a=null;do t+=he(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ne=Object.prototype.hasOwnProperty,De=c.unstable_scheduleCallback,Ie=c.unstable_cancelCallback,gt=c.unstable_shouldYield,sa=c.unstable_requestPaint,Ke=c.unstable_now,Ga=c.unstable_getCurrentPriorityLevel,Tt=c.unstable_ImmediatePriority,Jt=c.unstable_UserBlockingPriority,Sa=c.unstable_NormalPriority,Bl=c.unstable_LowPriority,fa=c.unstable_IdlePriority,Ya=c.log,ma=c.unstable_setDisableYieldValue,ca=null,ot=null;function $t(e){if(typeof Ya=="function"&&ma(e),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(ca,e)}catch{}}var Ct=Math.clz32?Math.clz32:Ps,Ws=Math.log,Is=Math.LN2;function Ps(e){return e>>>=0,e===0?32:31-(Ws(e)/Is|0)|0}var pl=256,Ul=262144,Ll=4194304;function Q(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function W(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var f=l&134217727;return f!==0?(l=f&~i,l!==0?n=Q(l):(r&=f,r!==0?n=Q(r):a||(a=f&~e,a!==0&&(n=Q(a))))):(f=l&~i,f!==0?n=Q(f):r!==0?n=Q(r):a||(a=l&~e,a!==0&&(n=Q(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function ae(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Be(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ke(){var e=Ll;return Ll<<=1,(Ll&62914560)===0&&(Ll=4194304),e}function ze(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function at(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ra(e,t,a,l,n,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,x=e.expirationTimes,R=e.hiddenUpdates;for(a=r&~a;0<a;){var U=31-Ct(a),X=1<<U;f[U]=0,x[U]=-1;var _=R[U];if(_!==null)for(R[U]=null,U=0;U<_.length;U++){var q=_[U];q!==null&&(q.lane&=-536870913)}a&=~X}l!==0&&wt(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function wt(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ct(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function mt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Ct(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function ec(e,t){var a=t&-t;return a=(a&42)!==0?1:wn(a),(a&(e.suspendedLanes|t))!==0?0:a}function wn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ku(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:gm(e.type))}function Au(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var Va=Math.random().toString(36).slice(2),xt="__reactFiber$"+Va,kt="__reactProps$"+Va,Gl="__reactContainer$"+Va,ac="__reactEvents$"+Va,mh="__reactListeners$"+Va,hh="__reactHandles$"+Va,Ru="__reactResources$"+Va,kn="__reactMarker$"+Va;function lc(e){delete e[xt],delete e[kt],delete e[ac],delete e[mh],delete e[hh]}function Yl(e){var t=e[xt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Gl]||a[xt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=tm(e);e!==null;){if(a=e[xt])return a;e=tm(e)}return t}e=a,a=e.parentNode}return null}function Vl(e){if(e=e[xt]||e[Gl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function An(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Xl(e){var t=e[Ru];return t||(t=e[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[kn]=!0}var Du=new Set,_u={};function gl(e,t){Zl(e,t),Zl(e+"Capture",t)}function Zl(e,t){for(_u[e]=t,e=0;e<t.length;e++)Du.add(t[e])}var yh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ou={},qu={};function ph(e){return Ne.call(qu,e)?!0:Ne.call(Ou,e)?!1:yh.test(e)?qu[e]=!0:(Ou[e]=!0,!1)}function wi(e,t,a){if(ph(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ki(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ma(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gh(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nc(e){if(!e._valueTracker){var t=Hu(e)?"checked":"value";e._valueTracker=gh(e,t,""+e[t])}}function Bu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Hu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xh=/[\n"\\]/g;function Wt(e){return e.replace(xh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ic(e,t,a,l,n,i,r,f){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ft(t)):e.value!==""+Ft(t)&&(e.value=""+Ft(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?sc(e,r,Ft(t)):a!=null?sc(e,r,Ft(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+Ft(f):e.removeAttribute("name")}function Uu(e,t,a,l,n,i,r,f){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){nc(e);return}a=a!=null?""+Ft(a):"",t=t!=null?""+Ft(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=f?e.checked:!!l,e.defaultChecked=!!l,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),nc(e)}function sc(e,t,a){t==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ql(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ft(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Lu(e,t,a){if(t!=null&&(t=""+Ft(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ft(a):""}function Gu(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(u(92));if(pe(l)){if(1<l.length)throw Error(u(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Ft(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),nc(e)}function Kl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||bh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Vu(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&Yu(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&Yu(e,i,t[i])}function cc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(e){return Sh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ja(){}var rc=null;function uc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jl=null,$l=null;function Xu(e){var t=Vl(e);if(t&&(e=t.stateNode)){var a=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ic(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Wt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[kt]||null;if(!n)throw Error(u(90));ic(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Bu(l)}break e;case"textarea":Lu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ql(e,!!a.multiple,t,!1)}}}var oc=!1;function Zu(e,t,a){if(oc)return e(t,a);oc=!0;try{var l=e(t);return l}finally{if(oc=!1,(Jl!==null||$l!==null)&&(bs(),Jl&&(t=Jl,e=$l,$l=Jl=null,Xu(t),e)))for(t=0;t<e.length;t++)Xu(e[t])}}function Rn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dc=!1;if(Na)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){dc=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{dc=!1}var Xa=null,fc=null,Di=null;function Qu(){if(Di)return Di;var e,t=fc,a=t.length,l,n="value"in Xa?Xa.value:Xa.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var r=a-e;for(l=1;l<=r&&t[a-l]===n[i-l];l++);return Di=n.slice(e,1<l?1-l:void 0)}function _i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Ku(){return!1}function At(e){function t(a,l,n,i,r){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oi:Ku,this.isPropagationStopped=Ku,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),t}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=At(xl),_n=N({},xl,{view:0,detail:0}),Mh=At(_n),mc,hc,On,Hi=N({},_n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==On&&(On&&e.type==="mousemove"?(mc=e.screenX-On.screenX,hc=e.screenY-On.screenY):hc=mc=0,On=e),mc)},movementY:function(e){return"movementY"in e?e.movementY:hc}}),Ju=At(Hi),jh=N({},Hi,{dataTransfer:0}),Nh=At(jh),Ch=N({},_n,{relatedTarget:0}),yc=At(Ch),Eh=N({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),zh=At(Eh),Th=N({},xl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wh=At(Th),kh=N({},xl,{data:0}),$u=At(kh),Ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _h(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dh[e])?!!t[e]:!1}function pc(){return _h}var Oh=N({},_n,{key:function(e){if(e.key){var t=Ah[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qh=At(Oh),Hh=N({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fu=At(Hh),Bh=N({},_n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),Uh=At(Bh),Lh=N({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gh=At(Lh),Yh=N({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vh=At(Yh),Xh=N({},xl,{newState:0,oldState:0}),Zh=At(Xh),Qh=[9,13,27,32],gc=Na&&"CompositionEvent"in window,qn=null;Na&&"documentMode"in document&&(qn=document.documentMode);var Kh=Na&&"TextEvent"in window&&!qn,Wu=Na&&(!gc||qn&&8<qn&&11>=qn),Iu=" ",Pu=!1;function eo(e,t){switch(e){case"keyup":return Qh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function to(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fl=!1;function Jh(e,t){switch(e){case"compositionend":return to(t);case"keypress":return t.which!==32?null:(Pu=!0,Iu);case"textInput":return e=t.data,e===Iu&&Pu?null:e;default:return null}}function $h(e,t){if(Fl)return e==="compositionend"||!gc&&eo(e,t)?(e=Qu(),Di=fc=Xa=null,Fl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wu&&t.locale!=="ko"?null:t.data;default:return null}}var Fh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ao(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fh[e.type]:t==="textarea"}function lo(e,t,a,l){Jl?$l?$l.push(l):$l=[l]:Jl=l,t=Es(t,"onChange"),0<t.length&&(a=new qi("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Hn=null,Bn=null;function Wh(e){Gf(e,0)}function Bi(e){var t=An(e);if(Bu(t))return e}function no(e,t){if(e==="change")return t}var io=!1;if(Na){var xc;if(Na){var bc="oninput"in document;if(!bc){var so=document.createElement("div");so.setAttribute("oninput","return;"),bc=typeof so.oninput=="function"}xc=bc}else xc=!1;io=xc&&(!document.documentMode||9<document.documentMode)}function co(){Hn&&(Hn.detachEvent("onpropertychange",ro),Bn=Hn=null)}function ro(e){if(e.propertyName==="value"&&Bi(Bn)){var t=[];lo(t,Bn,e,uc(e)),Zu(Wh,t)}}function Ih(e,t,a){e==="focusin"?(co(),Hn=t,Bn=a,Hn.attachEvent("onpropertychange",ro)):e==="focusout"&&co()}function Ph(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi(Bn)}function e1(e,t){if(e==="click")return Bi(t)}function t1(e,t){if(e==="input"||e==="change")return Bi(t)}function a1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:a1;function Un(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Ne.call(t,n)||!Ut(e[n],t[n]))return!1}return!0}function uo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oo(e,t){var a=uo(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=uo(a)}}function fo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ai(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ai(e.document)}return t}function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var l1=Na&&"documentMode"in document&&11>=document.documentMode,Wl=null,Sc=null,Ln=null,Mc=!1;function ho(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mc||Wl==null||Wl!==Ai(l)||(l=Wl,"selectionStart"in l&&vc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ln&&Un(Ln,l)||(Ln=l,l=Es(Sc,"onSelect"),0<l.length&&(t=new qi("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Wl)))}function bl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Il={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionrun:bl("Transition","TransitionRun"),transitionstart:bl("Transition","TransitionStart"),transitioncancel:bl("Transition","TransitionCancel"),transitionend:bl("Transition","TransitionEnd")},jc={},yo={};Na&&(yo=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function vl(e){if(jc[e])return jc[e];if(!Il[e])return e;var t=Il[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in yo)return jc[e]=t[a];return e}var po=vl("animationend"),go=vl("animationiteration"),xo=vl("animationstart"),n1=vl("transitionrun"),i1=vl("transitionstart"),s1=vl("transitioncancel"),bo=vl("transitionend"),vo=new Map,Nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nc.push("scrollEnd");function ua(e,t){vo.set(e,t),gl(t,[e])}var Ui=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Pl=0,Cc=0;function Li(){for(var e=Pl,t=Cc=Pl=0;t<e;){var a=It[t];It[t++]=null;var l=It[t];It[t++]=null;var n=It[t];It[t++]=null;var i=It[t];if(It[t++]=null,l!==null&&n!==null){var r=l.pending;r===null?n.next=n:(n.next=r.next,r.next=n),l.pending=n}i!==0&&So(a,n,i)}}function Gi(e,t,a,l){It[Pl++]=e,It[Pl++]=t,It[Pl++]=a,It[Pl++]=l,Cc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ec(e,t,a,l){return Gi(e,t,a,l),Yi(e)}function Sl(e,t){return Gi(e,null,null,t),Yi(e)}function So(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Ct(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),i):null}function Yi(e){if(50<ri)throw ri=0,Or=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var en={};function c1(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,a,l){return new c1(e,t,a,l)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ca(e,t){var a=e.alternate;return a===null?(a=Lt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Mo(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vi(e,t,a,l,n,i){var r=0;if(l=e,typeof e=="function")zc(e)&&(r=1);else if(typeof e=="string")r=f0(e,a,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=Lt(31,a,t,n),e.elementType=ue,e.lanes=i,e;case O:return Ml(a.children,n,i,t);case D:r=8,n|=24;break;case G:return e=Lt(12,a,t,n|2),e.elementType=G,e.lanes=i,e;case V:return e=Lt(13,a,t,n),e.elementType=V,e.lanes=i,e;case $:return e=Lt(19,a,t,n),e.elementType=$,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:r=10;break e;case B:r=9;break e;case S:r=11;break e;case T:r=14;break e;case P:r=16,l=null;break e}r=29,a=Error(u(130,e===null?"null":typeof e,"")),l=null}return t=Lt(r,a,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function Ml(e,t,a,l){return e=Lt(7,e,l,t),e.lanes=a,e}function Tc(e,t,a){return e=Lt(6,e,null,t),e.lanes=a,e}function jo(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function wc(e,t,a){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var No=new WeakMap;function Pt(e,t){if(typeof e=="object"&&e!==null){var a=No.get(e);return a!==void 0?a:(t={value:e,source:t,stack:_e(t)},No.set(e,t),t)}return{value:e,source:t,stack:_e(t)}}var tn=[],an=0,Xi=null,Gn=0,ea=[],ta=0,Za=null,ha=1,ya="";function Ea(e,t){tn[an++]=Gn,tn[an++]=Xi,Xi=e,Gn=t}function Co(e,t,a){ea[ta++]=ha,ea[ta++]=ya,ea[ta++]=Za,Za=e;var l=ha;e=ya;var n=32-Ct(l)-1;l&=~(1<<n),a+=1;var i=32-Ct(t)+n;if(30<i){var r=n-n%5;i=(l&(1<<r)-1).toString(32),l>>=r,n-=r,ha=1<<32-Ct(t)+n|a<<n|l,ya=i+e}else ha=1<<i|a<<n|l,ya=e}function kc(e){e.return!==null&&(Ea(e,1),Co(e,1,0))}function Ac(e){for(;e===Xi;)Xi=tn[--an],tn[an]=null,Gn=tn[--an],tn[an]=null;for(;e===Za;)Za=ea[--ta],ea[ta]=null,ya=ea[--ta],ea[ta]=null,ha=ea[--ta],ea[ta]=null}function Eo(e,t){ea[ta++]=ha,ea[ta++]=ya,ea[ta++]=Za,ha=t.id,ya=t.overflow,Za=e}var bt=null,$e=null,Ae=!1,Qa=null,aa=!1,Rc=Error(u(519));function Ka(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yn(Pt(t,e)),Rc}function zo(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[xt]=e,t[kt]=l,a){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(a=0;a<oi.length;a++)Ee(oi[a],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Uu(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),Gu(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Zf(t.textContent,a)?(l.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),l.onScroll!=null&&Ee("scroll",t),l.onScrollEnd!=null&&Ee("scrollend",t),l.onClick!=null&&(t.onclick=ja),t=!0):t=!1,t||Ka(e,!0)}function To(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:bt=bt.return}}function ln(e){if(e!==bt)return!1;if(!Ae)return To(e),Ae=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Fr(e.type,e.memoizedProps)),a=!a),a&&$e&&Ka(e),To(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));$e=em(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));$e=em(e)}else t===27?(t=$e,cl(e.type)?(e=tu,tu=null,$e=e):$e=t):$e=bt?na(e.stateNode.nextSibling):null;return!0}function jl(){$e=bt=null,Ae=!1}function Dc(){var e=Qa;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),Qa=null),e}function Yn(e){Qa===null?Qa=[e]:Qa.push(e)}var _c=v(null),Nl=null,za=null;function Ja(e,t,a){F(_c,t._currentValue),t._currentValue=a}function Ta(e){e._currentValue=_c.current,L(_c)}function Oc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function qc(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var f=i;i=n;for(var x=0;x<t.length;x++)if(f.context===t[x]){i.lanes|=a,f=i.alternate,f!==null&&(f.lanes|=a),Oc(i.return,a,e),l||(r=null);break e}i=f.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(u(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),Oc(r,a,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function nn(e,t,a,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(u(387));if(r=r.memoizedProps,r!==null){var f=n.type;Ut(n.pendingProps.value,r.value)||(e!==null?e.push(f):e=[f])}}else if(n===be.current){if(r=n.alternate,r===null)throw Error(u(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(yi):e=[yi])}n=n.return}e!==null&&qc(t,e,a,l),t.flags|=262144}function Zi(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cl(e){Nl=e,za=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return wo(Nl,e)}function Qi(e,t){return Nl===null&&Cl(e),wo(e,t)}function wo(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},za===null){if(e===null)throw Error(u(308));za=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else za=za.next=t;return a}var r1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},u1=c.unstable_scheduleCallback,o1=c.unstable_NormalPriority,it={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hc(){return{controller:new r1,data:new Map,refCount:0}}function Vn(e){e.refCount--,e.refCount===0&&u1(o1,function(){e.controller.abort()})}var Xn=null,Bc=0,sn=0,cn=null;function d1(e,t){if(Xn===null){var a=Xn=[];Bc=0,sn=Gr(),cn={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bc++,t.then(ko,ko),t}function ko(){if(--Bc===0&&Xn!==null){cn!==null&&(cn.status="fulfilled");var e=Xn;Xn=null,sn=0,cn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function f1(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var Ao=w.S;w.S=function(e,t){yf=Ke(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&d1(e,t),Ao!==null&&Ao(e,t)};var El=v(null);function Uc(){var e=El.current;return e!==null?e:Qe.pooledCache}function Ki(e,t){t===null?F(El,El.current):F(El,t.pool)}function Ro(){var e=Uc();return e===null?null:{parent:it._currentValue,pool:e}}var rn=Error(u(460)),Lc=Error(u(474)),Ji=Error(u(542)),$i={then:function(){}};function Do(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _o(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ja,ja),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qo(e),e;default:if(typeof t.status=="string")t.then(ja,ja);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qo(e),e}throw Tl=t,rn}}function zl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Tl=a,rn):a}}var Tl=null;function Oo(){if(Tl===null)throw Error(u(459));var e=Tl;return Tl=null,e}function qo(e){if(e===rn||e===Ji)throw Error(u(483))}var un=null,Zn=0;function Fi(e){var t=Zn;return Zn+=1,un===null&&(un=[]),_o(un,e,t)}function Qn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Wi(e,t){throw t.$$typeof===j?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ho(e){function t(C,M){if(e){var k=C.deletions;k===null?(C.deletions=[M],C.flags|=16):k.push(M)}}function a(C,M){if(!e)return null;for(;M!==null;)t(C,M),M=M.sibling;return null}function l(C){for(var M=new Map;C!==null;)C.key!==null?M.set(C.key,C):M.set(C.index,C),C=C.sibling;return M}function n(C,M){return C=Ca(C,M),C.index=0,C.sibling=null,C}function i(C,M,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<M?(C.flags|=67108866,M):k):(C.flags|=67108866,M)):(C.flags|=1048576,M)}function r(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function f(C,M,k,Y){return M===null||M.tag!==6?(M=Tc(k,C.mode,Y),M.return=C,M):(M=n(M,k),M.return=C,M)}function x(C,M,k,Y){var oe=k.type;return oe===O?U(C,M,k.props.children,Y,k.key):M!==null&&(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===P&&zl(oe)===M.type)?(M=n(M,k.props),Qn(M,k),M.return=C,M):(M=Vi(k.type,k.key,k.props,null,C.mode,Y),Qn(M,k),M.return=C,M)}function R(C,M,k,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=wc(k,C.mode,Y),M.return=C,M):(M=n(M,k.children||[]),M.return=C,M)}function U(C,M,k,Y,oe){return M===null||M.tag!==7?(M=Ml(k,C.mode,Y,oe),M.return=C,M):(M=n(M,k),M.return=C,M)}function X(C,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Tc(""+M,C.mode,k),M.return=C,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z:return k=Vi(M.type,M.key,M.props,null,C.mode,k),Qn(k,M),k.return=C,k;case H:return M=wc(M,C.mode,k),M.return=C,M;case P:return M=zl(M),X(C,M,k)}if(pe(M)||J(M))return M=Ml(M,C.mode,k,null),M.return=C,M;if(typeof M.then=="function")return X(C,Fi(M),k);if(M.$$typeof===Z)return X(C,Qi(C,M),k);Wi(C,M)}return null}function _(C,M,k,Y){var oe=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return oe!==null?null:f(C,M,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case z:return k.key===oe?x(C,M,k,Y):null;case H:return k.key===oe?R(C,M,k,Y):null;case P:return k=zl(k),_(C,M,k,Y)}if(pe(k)||J(k))return oe!==null?null:U(C,M,k,Y,null);if(typeof k.then=="function")return _(C,M,Fi(k),Y);if(k.$$typeof===Z)return _(C,M,Qi(C,k),Y);Wi(C,k)}return null}function q(C,M,k,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return C=C.get(k)||null,f(M,C,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:return C=C.get(Y.key===null?k:Y.key)||null,x(M,C,Y,oe);case H:return C=C.get(Y.key===null?k:Y.key)||null,R(M,C,Y,oe);case P:return Y=zl(Y),q(C,M,k,Y,oe)}if(pe(Y)||J(Y))return C=C.get(k)||null,U(M,C,Y,oe,null);if(typeof Y.then=="function")return q(C,M,k,Fi(Y),oe);if(Y.$$typeof===Z)return q(C,M,k,Qi(M,Y),oe);Wi(M,Y)}return null}function ne(C,M,k,Y){for(var oe=null,Oe=null,ce=M,je=M=0,we=null;ce!==null&&je<k.length;je++){ce.index>je?(we=ce,ce=null):we=ce.sibling;var qe=_(C,ce,k[je],Y);if(qe===null){ce===null&&(ce=we);break}e&&ce&&qe.alternate===null&&t(C,ce),M=i(qe,M,je),Oe===null?oe=qe:Oe.sibling=qe,Oe=qe,ce=we}if(je===k.length)return a(C,ce),Ae&&Ea(C,je),oe;if(ce===null){for(;je<k.length;je++)ce=X(C,k[je],Y),ce!==null&&(M=i(ce,M,je),Oe===null?oe=ce:Oe.sibling=ce,Oe=ce);return Ae&&Ea(C,je),oe}for(ce=l(ce);je<k.length;je++)we=q(ce,C,je,k[je],Y),we!==null&&(e&&we.alternate!==null&&ce.delete(we.key===null?je:we.key),M=i(we,M,je),Oe===null?oe=we:Oe.sibling=we,Oe=we);return e&&ce.forEach(function(fl){return t(C,fl)}),Ae&&Ea(C,je),oe}function fe(C,M,k,Y){if(k==null)throw Error(u(151));for(var oe=null,Oe=null,ce=M,je=M=0,we=null,qe=k.next();ce!==null&&!qe.done;je++,qe=k.next()){ce.index>je?(we=ce,ce=null):we=ce.sibling;var fl=_(C,ce,qe.value,Y);if(fl===null){ce===null&&(ce=we);break}e&&ce&&fl.alternate===null&&t(C,ce),M=i(fl,M,je),Oe===null?oe=fl:Oe.sibling=fl,Oe=fl,ce=we}if(qe.done)return a(C,ce),Ae&&Ea(C,je),oe;if(ce===null){for(;!qe.done;je++,qe=k.next())qe=X(C,qe.value,Y),qe!==null&&(M=i(qe,M,je),Oe===null?oe=qe:Oe.sibling=qe,Oe=qe);return Ae&&Ea(C,je),oe}for(ce=l(ce);!qe.done;je++,qe=k.next())qe=q(ce,C,je,qe.value,Y),qe!==null&&(e&&qe.alternate!==null&&ce.delete(qe.key===null?je:qe.key),M=i(qe,M,je),Oe===null?oe=qe:Oe.sibling=qe,Oe=qe);return e&&ce.forEach(function(j0){return t(C,j0)}),Ae&&Ea(C,je),oe}function Xe(C,M,k,Y){if(typeof k=="object"&&k!==null&&k.type===O&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case z:e:{for(var oe=k.key;M!==null;){if(M.key===oe){if(oe=k.type,oe===O){if(M.tag===7){a(C,M.sibling),Y=n(M,k.props.children),Y.return=C,C=Y;break e}}else if(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===P&&zl(oe)===M.type){a(C,M.sibling),Y=n(M,k.props),Qn(Y,k),Y.return=C,C=Y;break e}a(C,M);break}else t(C,M);M=M.sibling}k.type===O?(Y=Ml(k.props.children,C.mode,Y,k.key),Y.return=C,C=Y):(Y=Vi(k.type,k.key,k.props,null,C.mode,Y),Qn(Y,k),Y.return=C,C=Y)}return r(C);case H:e:{for(oe=k.key;M!==null;){if(M.key===oe)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){a(C,M.sibling),Y=n(M,k.children||[]),Y.return=C,C=Y;break e}else{a(C,M);break}else t(C,M);M=M.sibling}Y=wc(k,C.mode,Y),Y.return=C,C=Y}return r(C);case P:return k=zl(k),Xe(C,M,k,Y)}if(pe(k))return ne(C,M,k,Y);if(J(k)){if(oe=J(k),typeof oe!="function")throw Error(u(150));return k=oe.call(k),fe(C,M,k,Y)}if(typeof k.then=="function")return Xe(C,M,Fi(k),Y);if(k.$$typeof===Z)return Xe(C,M,Qi(C,k),Y);Wi(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(a(C,M.sibling),Y=n(M,k),Y.return=C,C=Y):(a(C,M),Y=Tc(k,C.mode,Y),Y.return=C,C=Y),r(C)):a(C,M)}return function(C,M,k,Y){try{Zn=0;var oe=Xe(C,M,k,Y);return un=null,oe}catch(ce){if(ce===rn||ce===Ji)throw ce;var Oe=Lt(29,ce,null,C.mode);return Oe.lanes=Y,Oe.return=C,Oe}finally{}}}var wl=Ho(!0),Bo=Ho(!1),$a=!1;function Gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=Yi(e),So(e,null,a),t}return Gi(e,l,t,a),Yi(e)}function Kn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,mt(e,a)}}function Vc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Xc=!1;function Jn(){if(Xc){var e=cn;if(e!==null)throw e}}function $n(e,t,a,l){Xc=!1;var n=e.updateQueue;$a=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,f=n.shared.pending;if(f!==null){n.shared.pending=null;var x=f,R=x.next;x.next=null,r===null?i=R:r.next=R,r=x;var U=e.alternate;U!==null&&(U=U.updateQueue,f=U.lastBaseUpdate,f!==r&&(f===null?U.firstBaseUpdate=R:f.next=R,U.lastBaseUpdate=x))}if(i!==null){var X=n.baseState;r=0,U=R=x=null,f=i;do{var _=f.lane&-536870913,q=_!==f.lane;if(q?(Te&_)===_:(l&_)===_){_!==0&&_===sn&&(Xc=!0),U!==null&&(U=U.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var ne=e,fe=f;_=t;var Xe=a;switch(fe.tag){case 1:if(ne=fe.payload,typeof ne=="function"){X=ne.call(Xe,X,_);break e}X=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=fe.payload,_=typeof ne=="function"?ne.call(Xe,X,_):ne,_==null)break e;X=N({},X,_);break e;case 2:$a=!0}}_=f.callback,_!==null&&(e.flags|=64,q&&(e.flags|=8192),q=n.callbacks,q===null?n.callbacks=[_]:q.push(_))}else q={lane:_,tag:f.tag,payload:f.payload,callback:f.callback,next:null},U===null?(R=U=q,x=X):U=U.next=q,r|=_;if(f=f.next,f===null){if(f=n.shared.pending,f===null)break;q=f,f=q.next,q.next=null,n.lastBaseUpdate=q,n.shared.pending=null}}while(!0);U===null&&(x=X),n.baseState=x,n.firstBaseUpdate=R,n.lastBaseUpdate=U,i===null&&(n.shared.lanes=0),al|=r,e.lanes=r,e.memoizedState=X}}function Uo(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function Lo(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Uo(a[e],t)}var on=v(null),Ii=v(0);function Go(e,t){e=Ha,F(Ii,e),F(on,t),Ha=e|t.baseLanes}function Zc(){F(Ii,Ha),F(on,on.current)}function Qc(){Ha=Ii.current,L(on),L(Ii)}var Gt=v(null),la=null;function Ia(e){var t=e.alternate;F(lt,lt.current&1),F(Gt,e),la===null&&(t===null||on.current!==null||t.memoizedState!==null)&&(la=e)}function Kc(e){F(lt,lt.current),F(Gt,e),la===null&&(la=e)}function Yo(e){e.tag===22?(F(lt,lt.current),F(Gt,e),la===null&&(la=e)):Pa()}function Pa(){F(lt,lt.current),F(Gt,Gt.current)}function Yt(e){L(Gt),la===e&&(la=null),L(lt)}var lt=v(0);function Pi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pr(a)||eu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wa=0,Me=null,Ye=null,st=null,es=!1,dn=!1,kl=!1,ts=0,Fn=0,fn=null,m1=0;function Pe(){throw Error(u(321))}function Jc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ut(e[a],t[a]))return!1;return!0}function $c(e,t,a,l,n,i){return wa=i,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?Cd:or,kl=!1,i=a(l,n),kl=!1,dn&&(i=Xo(t,a,l,n)),Vo(e),i}function Vo(e){w.H=Pn;var t=Ye!==null&&Ye.next!==null;if(wa=0,st=Ye=Me=null,es=!1,Fn=0,fn=null,t)throw Error(u(300));e===null||ct||(e=e.dependencies,e!==null&&Zi(e)&&(ct=!0))}function Xo(e,t,a,l){Me=e;var n=0;do{if(dn&&(fn=null),Fn=0,dn=!1,25<=n)throw Error(u(301));if(n+=1,st=Ye=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}w.H=Ed,i=t(a,l)}while(dn);return i}function h1(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?Wn(t):t,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Me.flags|=1024),t}function Fc(){var e=ts!==0;return ts=0,e}function Wc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ic(e){if(es){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}es=!1}wa=0,st=Ye=Me=null,dn=!1,Fn=ts=0,fn=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Me.memoizedState=st=e:st=st.next=e,st}function nt(){if(Ye===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=st===null?Me.memoizedState:st.next;if(t!==null)st=t,Ye=e;else{if(e===null)throw Me.alternate===null?Error(u(467)):Error(u(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},st===null?Me.memoizedState=st=e:st=st.next=e}return st}function as(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wn(e){var t=Fn;return Fn+=1,fn===null&&(fn=[]),e=_o(fn,e,t),t=Me,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?Cd:or),e}function ls(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wn(e);if(e.$$typeof===Z)return vt(e)}throw Error(u(438,String(e)))}function Pc(e){var t=null,a=Me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=as(),Me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=ie;return t.index++,a}function ka(e,t){return typeof t=="function"?t(e):t}function ns(e){var t=nt();return er(t,Ye,e)}function er(e,t,a){var l=e.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var f=r=null,x=null,R=t,U=!1;do{var X=R.lane&-536870913;if(X!==R.lane?(Te&X)===X:(wa&X)===X){var _=R.revertLane;if(_===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),X===sn&&(U=!0);else if((wa&_)===_){R=R.next,_===sn&&(U=!0);continue}else X={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},x===null?(f=x=X,r=i):x=x.next=X,Me.lanes|=_,al|=_;X=R.action,kl&&a(i,X),i=R.hasEagerState?R.eagerState:a(i,X)}else _={lane:X,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},x===null?(f=x=_,r=i):x=x.next=_,Me.lanes|=X,al|=X;R=R.next}while(R!==null&&R!==t);if(x===null?r=i:x.next=f,!Ut(i,e.memoizedState)&&(ct=!0,U&&(a=cn,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=x,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function tr(e){var t=nt(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);Ut(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function Zo(e,t,a){var l=Me,n=nt(),i=Ae;if(i){if(a===void 0)throw Error(u(407));a=a()}else a=t();var r=!Ut((Ye||n).memoizedState,a);if(r&&(n.memoizedState=a,ct=!0),n=n.queue,nr(Jo.bind(null,l,n,e),[e]),n.getSnapshot!==t||r||st!==null&&st.memoizedState.tag&1){if(l.flags|=2048,mn(9,{destroy:void 0},Ko.bind(null,l,n,a,t),null),Qe===null)throw Error(u(349));i||(wa&127)!==0||Qo(l,t,a)}return a}function Qo(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Me.updateQueue,t===null?(t=as(),Me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ko(e,t,a,l){t.value=a,t.getSnapshot=l,$o(t)&&Fo(e)}function Jo(e,t,a){return a(function(){$o(t)&&Fo(e)})}function $o(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ut(e,a)}catch{return!0}}function Fo(e){var t=Sl(e,2);t!==null&&qt(t,e,2)}function ar(e){var t=Et();if(typeof e=="function"){var a=e;if(e=a(),kl){$t(!0);try{a()}finally{$t(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t}function Wo(e,t,a,l){return e.baseState=a,er(e,Ye,typeof l=="function"?l:ka)}function y1(e,t,a,l,n){if(cs(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};w.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,Io(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Io(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=w.T,r={};w.T=r;try{var f=a(n,l),x=w.S;x!==null&&x(r,f),Po(e,t,f)}catch(R){lr(e,t,R)}finally{i!==null&&r.types!==null&&(i.types=r.types),w.T=i}}else try{i=a(n,l),Po(e,t,i)}catch(R){lr(e,t,R)}}function Po(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ed(e,t,l)},function(l){return lr(e,t,l)}):ed(e,t,a)}function ed(e,t,a){t.status="fulfilled",t.value=a,td(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Io(e,a)))}function lr(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,td(t),t=t.next;while(t!==l)}e.action=null}function td(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ad(e,t){return t}function ld(e,t){if(Ae){var a=Qe.formState;if(a!==null){e:{var l=Me;if(Ae){if($e){t:{for(var n=$e,i=aa;n.nodeType!==8;){if(!i){n=null;break t}if(n=na(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){$e=na(n.nextSibling),l=n.data==="F!";break e}}Ka(l)}l=!1}l&&(t=a[0])}}return a=Et(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:t},a.queue=l,a=Md.bind(null,Me,l),l.dispatch=a,l=ar(!1),i=ur.bind(null,Me,!1,l.queue),l=Et(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=y1.bind(null,Me,n,i,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function nd(e){var t=nt();return id(t,Ye,e)}function id(e,t,a){if(t=er(e,t,ad)[0],e=ns(ka)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Wn(t)}catch(r){throw r===rn?Ji:r}else l=t;t=nt();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(Me.flags|=2048,mn(9,{destroy:void 0},p1.bind(null,n,a),null)),[l,i,e]}function p1(e,t){e.action=t}function sd(e){var t=nt(),a=Ye;if(a!==null)return id(t,a,e);nt(),t=t.memoizedState,a=nt();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function mn(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Me.updateQueue,t===null&&(t=as(),Me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function cd(){return nt().memoizedState}function is(e,t,a,l){var n=Et();Me.flags|=e,n.memoizedState=mn(1|t,{destroy:void 0},a,l===void 0?null:l)}function ss(e,t,a,l){var n=nt();l=l===void 0?null:l;var i=n.memoizedState.inst;Ye!==null&&l!==null&&Jc(l,Ye.memoizedState.deps)?n.memoizedState=mn(t,i,a,l):(Me.flags|=e,n.memoizedState=mn(1|t,i,a,l))}function rd(e,t){is(8390656,8,e,t)}function nr(e,t){ss(2048,8,e,t)}function g1(e){Me.flags|=4;var t=Me.updateQueue;if(t===null)t=as(),Me.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function ud(e){var t=nt().memoizedState;return g1({ref:t,nextImpl:e}),function(){if((He&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function od(e,t){return ss(4,2,e,t)}function dd(e,t){return ss(4,4,e,t)}function fd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function md(e,t,a){a=a!=null?a.concat([e]):null,ss(4,4,fd.bind(null,t,e),a)}function ir(){}function hd(e,t){var a=nt();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Jc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function yd(e,t){var a=nt();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Jc(t,l[1]))return l[0];if(l=e(),kl){$t(!0);try{e()}finally{$t(!1)}}return a.memoizedState=[l,t],l}function sr(e,t,a){return a===void 0||(wa&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=gf(),Me.lanes|=e,al|=e,a)}function pd(e,t,a,l){return Ut(a,t)?a:on.current!==null?(e=sr(e,a,l),Ut(e,t)||(ct=!0),e):(wa&42)===0||(wa&1073741824)!==0&&(Te&261930)===0?(ct=!0,e.memoizedState=a):(e=gf(),Me.lanes|=e,al|=e,t)}function gd(e,t,a,l,n){var i=K.p;K.p=i!==0&&8>i?i:8;var r=w.T,f={};w.T=f,ur(e,!1,t,a);try{var x=n(),R=w.S;if(R!==null&&R(f,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var U=f1(x,l);In(e,t,U,Zt(e))}else In(e,t,l,Zt(e))}catch(X){In(e,t,{then:function(){},status:"rejected",reason:X},Zt())}finally{K.p=i,r!==null&&f.types!==null&&(r.types=f.types),w.T=r}}function x1(){}function cr(e,t,a,l){if(e.tag!==5)throw Error(u(476));var n=xd(e).queue;gd(e,n,t,ee,a===null?x1:function(){return bd(e),a(l)})}function xd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function bd(e){var t=xd(e);t.next===null&&(t=e.alternate.memoizedState),In(e,t.next.queue,{},Zt())}function rr(){return vt(yi)}function vd(){return nt().memoizedState}function Sd(){return nt().memoizedState}function b1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Zt();e=Fa(a);var l=Wa(t,e,a);l!==null&&(qt(l,t,a),Kn(l,t,a)),t={cache:Hc()},e.payload=t;return}t=t.return}}function v1(e,t,a){var l=Zt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cs(e)?jd(t,a):(a=Ec(e,t,a,l),a!==null&&(qt(a,e,l),Nd(a,t,l)))}function Md(e,t,a){var l=Zt();In(e,t,a,l)}function In(e,t,a,l){var n={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cs(e))jd(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,f=i(r,a);if(n.hasEagerState=!0,n.eagerState=f,Ut(f,r))return Gi(e,t,n,0),Qe===null&&Li(),!1}catch{}finally{}if(a=Ec(e,t,n,l),a!==null)return qt(a,e,l),Nd(a,t,l),!0}return!1}function ur(e,t,a,l){if(l={lane:2,revertLane:Gr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cs(e)){if(t)throw Error(u(479))}else t=Ec(e,a,l,2),t!==null&&qt(t,e,2)}function cs(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function jd(e,t){dn=es=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Nd(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,mt(e,a)}}var Pn={readContext:vt,use:ls,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Pn.useEffectEvent=Pe;var Cd={readContext:vt,use:ls,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:rd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,is(4194308,4,fd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return is(4194308,4,e,t)},useInsertionEffect:function(e,t){is(4,2,e,t)},useMemo:function(e,t){var a=Et();t=t===void 0?null:t;var l=e();if(kl){$t(!0);try{e()}finally{$t(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Et();if(a!==void 0){var n=a(t);if(kl){$t(!0);try{a(t)}finally{$t(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=v1.bind(null,Me,e),[l.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=ar(e);var t=e.queue,a=Md.bind(null,Me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ir,useDeferredValue:function(e,t){var a=Et();return sr(a,e,t)},useTransition:function(){var e=ar(!1);return e=gd.bind(null,Me,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Me,n=Et();if(Ae){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),Qe===null)throw Error(u(349));(Te&127)!==0||Qo(l,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,rd(Jo.bind(null,l,i,e),[e]),l.flags|=2048,mn(9,{destroy:void 0},Ko.bind(null,l,i,a,t),null),a},useId:function(){var e=Et(),t=Qe.identifierPrefix;if(Ae){var a=ya,l=ha;a=(l&~(1<<32-Ct(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ts++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=m1++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rr,useFormState:ld,useActionState:ld,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ur.bind(null,Me,!0,a),a.dispatch=t,[e,t]},useMemoCache:Pc,useCacheRefresh:function(){return Et().memoizedState=b1.bind(null,Me)},useEffectEvent:function(e){var t=Et(),a={impl:e};return t.memoizedState=a,function(){if((He&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}},or={readContext:vt,use:ls,useCallback:hd,useContext:vt,useEffect:nr,useImperativeHandle:md,useInsertionEffect:od,useLayoutEffect:dd,useMemo:yd,useReducer:ns,useRef:cd,useState:function(){return ns(ka)},useDebugValue:ir,useDeferredValue:function(e,t){var a=nt();return pd(a,Ye.memoizedState,e,t)},useTransition:function(){var e=ns(ka)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Wn(e),t]},useSyncExternalStore:Zo,useId:vd,useHostTransitionStatus:rr,useFormState:nd,useActionState:nd,useOptimistic:function(e,t){var a=nt();return Wo(a,Ye,e,t)},useMemoCache:Pc,useCacheRefresh:Sd};or.useEffectEvent=ud;var Ed={readContext:vt,use:ls,useCallback:hd,useContext:vt,useEffect:nr,useImperativeHandle:md,useInsertionEffect:od,useLayoutEffect:dd,useMemo:yd,useReducer:tr,useRef:cd,useState:function(){return tr(ka)},useDebugValue:ir,useDeferredValue:function(e,t){var a=nt();return Ye===null?sr(a,e,t):pd(a,Ye.memoizedState,e,t)},useTransition:function(){var e=tr(ka)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Wn(e),t]},useSyncExternalStore:Zo,useId:vd,useHostTransitionStatus:rr,useFormState:sd,useActionState:sd,useOptimistic:function(e,t){var a=nt();return Ye!==null?Wo(a,Ye,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Pc,useCacheRefresh:Sd};Ed.useEffectEvent=ud;function dr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:N({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var fr={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Zt(),n=Fa(l);n.payload=t,a!=null&&(n.callback=a),t=Wa(e,n,l),t!==null&&(qt(t,e,l),Kn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Zt(),n=Fa(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Wa(e,n,l),t!==null&&(qt(t,e,l),Kn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Zt(),l=Fa(a);l.tag=2,t!=null&&(l.callback=t),t=Wa(e,l,a),t!==null&&(qt(t,e,a),Kn(t,e,a))}};function zd(e,t,a,l,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,r):t.prototype&&t.prototype.isPureReactComponent?!Un(a,l)||!Un(n,i):!0}function Td(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&fr.enqueueReplaceState(t,t.state,null)}function Al(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=N({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function wd(e){Ui(e)}function kd(e){console.error(e)}function Ad(e){Ui(e)}function rs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Rd(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function mr(e,t,a){return a=Fa(a),a.tag=3,a.payload={element:null},a.callback=function(){rs(e,t)},a}function Dd(e){return e=Fa(e),e.tag=3,e}function _d(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){Rd(t,a,l)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Rd(t,a,l),typeof n!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var f=l.stack;this.componentDidCatch(l.value,{componentStack:f!==null?f:""})})}function S1(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&nn(t,a,n,!0),a=Gt.current,a!==null){switch(a.tag){case 31:case 13:return la===null?vs():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===$i?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Br(e,l,n)),!1;case 22:return a.flags|=65536,l===$i?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Br(e,l,n)),!1}throw Error(u(435,a.tag))}return Br(e,l,n),vs(),!1}if(Ae)return t=Gt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==Rc&&(e=Error(u(422),{cause:l}),Yn(Pt(e,a)))):(l!==Rc&&(t=Error(u(423),{cause:l}),Yn(Pt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=Pt(l,a),n=mr(e.stateNode,l,n),Vc(e,n),et!==4&&(et=2)),!1;var i=Error(u(520),{cause:l});if(i=Pt(i,a),ci===null?ci=[i]:ci.push(i),et!==4&&(et=2),t===null)return!0;l=Pt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=mr(a.stateNode,l,e),Vc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ll===null||!ll.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Dd(n),_d(n,e,a,l),Vc(a,n),!1}a=a.return}while(a!==null);return!1}var hr=Error(u(461)),ct=!1;function St(e,t,a,l){t.child=e===null?Bo(t,null,a,l):wl(t,e.child,a,l)}function Od(e,t,a,l,n){a=a.render;var i=t.ref;if("ref"in l){var r={};for(var f in l)f!=="ref"&&(r[f]=l[f])}else r=l;return Cl(t),l=$c(e,t,a,r,i,n),f=Fc(),e!==null&&!ct?(Wc(e,t,n),Aa(e,t,n)):(Ae&&f&&kc(t),t.flags|=1,St(e,t,l,n),t.child)}function qd(e,t,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!zc(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Hd(e,t,i,l,n)):(e=Vi(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Mr(e,n)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:Un,a(r,l)&&e.ref===t.ref)return Aa(e,t,n)}return t.flags|=1,e=Ca(i,l),e.ref=t.ref,e.return=t,t.child=e}function Hd(e,t,a,l,n){if(e!==null){var i=e.memoizedProps;if(Un(i,l)&&e.ref===t.ref)if(ct=!1,t.pendingProps=l=i,Mr(e,n))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,Aa(e,t,n)}return yr(e,t,a,l,n)}function Bd(e,t,a,l){var n=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~i}else l=0,t.child=null;return Ud(e,t,i,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ki(t,i!==null?i.cachePool:null),i!==null?Go(t,i):Zc(),Yo(t);else return l=t.lanes=536870912,Ud(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(Ki(t,i.cachePool),Go(t,i),Pa(),t.memoizedState=null):(e!==null&&Ki(t,null),Zc(),Pa());return St(e,t,n,a),t.child}function ei(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ud(e,t,a,l,n){var i=Uc();return i=i===null?null:{parent:it._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Ki(t,null),Zc(),Yo(t),e!==null&&nn(e,t,l,!0),t.childLanes=n,null}function us(e,t){return t=ds({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ld(e,t,a){return wl(t,e.child,null,a),e=us(t,t.pendingProps),e.flags|=2,Yt(t),t.memoizedState=null,e}function M1(e,t,a){var l=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(l.mode==="hidden")return e=us(t,l),t.lanes=536870912,ei(null,e);if(Kc(t),(e=$e)?(e=Pf(e,aa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Za!==null?{id:ha,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},a=jo(e),a.return=t,t.child=a,bt=t,$e=null)):e=null,e===null)throw Ka(t);return t.lanes=536870912,null}return us(t,l)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Kc(t),n)if(t.flags&256)t.flags&=-257,t=Ld(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(ct||nn(e,t,a,!1),n=(a&e.childLanes)!==0,ct||n){if(l=Qe,l!==null&&(r=ec(l,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,Sl(e,r),qt(l,e,r),hr;vs(),t=Ld(e,t,a)}else e=i.treeContext,$e=na(r.nextSibling),bt=t,Ae=!0,Qa=null,aa=!1,e!==null&&Eo(t,e),t=us(t,l),t.flags|=4096;return t}return e=Ca(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function os(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function yr(e,t,a,l,n){return Cl(t),a=$c(e,t,a,l,void 0,n),l=Fc(),e!==null&&!ct?(Wc(e,t,n),Aa(e,t,n)):(Ae&&l&&kc(t),t.flags|=1,St(e,t,a,n),t.child)}function Gd(e,t,a,l,n,i){return Cl(t),t.updateQueue=null,a=Xo(t,l,a,n),Vo(e),l=Fc(),e!==null&&!ct?(Wc(e,t,i),Aa(e,t,i)):(Ae&&l&&kc(t),t.flags|=1,St(e,t,a,i),t.child)}function Yd(e,t,a,l,n){if(Cl(t),t.stateNode===null){var i=en,r=a.contextType;typeof r=="object"&&r!==null&&(i=vt(r)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=fr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Gc(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?vt(r):en,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(dr(t,a,r,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&fr.enqueueReplaceState(i,i.state,null),$n(t,l,i,n),Jn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var f=t.memoizedProps,x=Al(a,f);i.props=x;var R=i.context,U=a.contextType;r=en,typeof U=="object"&&U!==null&&(r=vt(U));var X=a.getDerivedStateFromProps;U=typeof X=="function"||typeof i.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,U||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f||R!==r)&&Td(t,i,l,r),$a=!1;var _=t.memoizedState;i.state=_,$n(t,l,i,n),Jn(),R=t.memoizedState,f||_!==R||$a?(typeof X=="function"&&(dr(t,a,X,l),R=t.memoizedState),(x=$a||zd(t,a,x,l,_,R,r))?(U||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=R),i.props=l,i.state=R,i.context=r,l=x):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Yc(e,t),r=t.memoizedProps,U=Al(a,r),i.props=U,X=t.pendingProps,_=i.context,R=a.contextType,x=en,typeof R=="object"&&R!==null&&(x=vt(R)),f=a.getDerivedStateFromProps,(R=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==X||_!==x)&&Td(t,i,l,x),$a=!1,_=t.memoizedState,i.state=_,$n(t,l,i,n),Jn();var q=t.memoizedState;r!==X||_!==q||$a||e!==null&&e.dependencies!==null&&Zi(e.dependencies)?(typeof f=="function"&&(dr(t,a,f,l),q=t.memoizedState),(U=$a||zd(t,a,U,l,_,q,x)||e!==null&&e.dependencies!==null&&Zi(e.dependencies))?(R||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,q,x),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,q,x)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=q),i.props=l,i.state=q,i.context=x,l=U):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,os(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=wl(t,e.child,null,n),t.child=wl(t,null,a,n)):St(e,t,a,n),t.memoizedState=i.state,e=t.child):e=Aa(e,t,n),e}function Vd(e,t,a,l){return jl(),t.flags|=256,St(e,t,a,l),t.child}var pr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gr(e){return{baseLanes:e,cachePool:Ro()}}function xr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Xt),e}function Xd(e,t,a){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(n?Ia(t):Pa(),(e=$e)?(e=Pf(e,aa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Za!==null?{id:ha,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},a=jo(e),a.return=t,t.child=a,bt=t,$e=null)):e=null,e===null)throw Ka(t);return eu(e)?t.lanes=32:t.lanes=536870912,null}var f=l.children;return l=l.fallback,n?(Pa(),n=t.mode,f=ds({mode:"hidden",children:f},n),l=Ml(l,n,a,null),f.return=t,l.return=t,f.sibling=l,t.child=f,l=t.child,l.memoizedState=gr(a),l.childLanes=xr(e,r,a),t.memoizedState=pr,ei(null,l)):(Ia(t),br(t,f))}var x=e.memoizedState;if(x!==null&&(f=x.dehydrated,f!==null)){if(i)t.flags&256?(Ia(t),t.flags&=-257,t=vr(e,t,a)):t.memoizedState!==null?(Pa(),t.child=e.child,t.flags|=128,t=null):(Pa(),f=l.fallback,n=t.mode,l=ds({mode:"visible",children:l.children},n),f=Ml(f,n,a,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,wl(t,e.child,null,a),l=t.child,l.memoizedState=gr(a),l.childLanes=xr(e,r,a),t.memoizedState=pr,t=ei(null,l));else if(Ia(t),eu(f)){if(r=f.nextSibling&&f.nextSibling.dataset,r)var R=r.dgst;r=R,l=Error(u(419)),l.stack="",l.digest=r,Yn({value:l,source:null,stack:null}),t=vr(e,t,a)}else if(ct||nn(e,t,a,!1),r=(a&e.childLanes)!==0,ct||r){if(r=Qe,r!==null&&(l=ec(r,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Sl(e,l),qt(r,e,l),hr;Pr(f)||vs(),t=vr(e,t,a)}else Pr(f)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,$e=na(f.nextSibling),bt=t,Ae=!0,Qa=null,aa=!1,e!==null&&Eo(t,e),t=br(t,l.children),t.flags|=4096);return t}return n?(Pa(),f=l.fallback,n=t.mode,x=e.child,R=x.sibling,l=Ca(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,R!==null?f=Ca(R,f):(f=Ml(f,n,a,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,ei(null,l),l=t.child,f=e.child.memoizedState,f===null?f=gr(a):(n=f.cachePool,n!==null?(x=it._currentValue,n=n.parent!==x?{parent:x,pool:x}:n):n=Ro(),f={baseLanes:f.baseLanes|a,cachePool:n}),l.memoizedState=f,l.childLanes=xr(e,r,a),t.memoizedState=pr,ei(e.child,l)):(Ia(t),a=e.child,e=a.sibling,a=Ca(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function br(e,t){return t=ds({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ds(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function vr(e,t,a){return wl(t,e.child,null,a),e=br(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zd(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Oc(e.return,t,a)}function Sr(e,t,a,l,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=n,r.treeForkCount=i)}function Qd(e,t,a){var l=t.pendingProps,n=l.revealOrder,i=l.tail;l=l.children;var r=lt.current,f=(r&2)!==0;if(f?(r=r&1|2,t.flags|=128):r&=1,F(lt,r),St(e,t,l,a),l=Ae?Gn:0,!f&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,a,t);else if(e.tag===19)Zd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Pi(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Sr(t,!1,n,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Pi(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Sr(t,!0,a,null,i,l);break;case"together":Sr(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Aa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),al|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(nn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=Ca(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ca(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Mr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Zi(e)))}function j1(e,t,a){switch(t.tag){case 3:Ze(t,t.stateNode.containerInfo),Ja(t,it,e.memoizedState.cache),jl();break;case 27:case 5:Bt(t);break;case 4:Ze(t,t.stateNode.containerInfo);break;case 10:Ja(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Kc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ia(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Xd(e,t,a):(Ia(t),e=Aa(e,t,a),e!==null?e.sibling:null);Ia(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(nn(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Qd(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),F(lt,lt.current),l)break;return null;case 22:return t.lanes=0,Bd(e,t,a,t.pendingProps);case 24:Ja(t,it,e.memoizedState.cache)}return Aa(e,t,a)}function Kd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!Mr(e,a)&&(t.flags&128)===0)return ct=!1,j1(e,t,a);ct=(e.flags&131072)!==0}else ct=!1,Ae&&(t.flags&1048576)!==0&&Co(t,Gn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=zl(t.elementType),t.type=e,typeof e=="function")zc(e)?(l=Al(e,l),t.tag=1,t=Yd(null,t,e,l,a)):(t.tag=0,t=yr(null,t,e,l,a));else{if(e!=null){var n=e.$$typeof;if(n===S){t.tag=11,t=Od(null,t,e,l,a);break e}else if(n===T){t.tag=14,t=qd(null,t,e,l,a);break e}}throw t=Re(e)||e,Error(u(306,t,""))}}return t;case 0:return yr(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=Al(l,t.pendingProps),Yd(e,t,l,n,a);case 3:e:{if(Ze(t,t.stateNode.containerInfo),e===null)throw Error(u(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,Yc(e,t),$n(t,l,null,a);var r=t.memoizedState;if(l=r.cache,Ja(t,it,l),l!==i.cache&&qc(t,[it],a,!0),Jn(),l=r.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Vd(e,t,l,a);break e}else if(l!==n){n=Pt(Error(u(424)),t),Yn(n),t=Vd(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=na(e.firstChild),bt=t,Ae=!0,Qa=null,aa=!0,a=Bo(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jl(),l===n){t=Aa(e,t,a);break e}St(e,t,l,a)}t=t.child}return t;case 26:return os(e,t),e===null?(a=im(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ae||(a=t.type,e=t.pendingProps,l=zs(Se.current).createElement(a),l[xt]=t,l[kt]=e,Mt(l,a,e),ht(l),t.stateNode=l):t.memoizedState=im(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Bt(t),e===null&&Ae&&(l=t.stateNode=am(t.type,t.pendingProps,Se.current),bt=t,aa=!0,n=$e,cl(t.type)?(tu=n,$e=na(l.firstChild)):$e=n),St(e,t,t.pendingProps.children,a),os(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((n=l=$e)&&(l=P1(l,t.type,t.pendingProps,aa),l!==null?(t.stateNode=l,bt=t,$e=na(l.firstChild),aa=!1,n=!0):n=!1),n||Ka(t)),Bt(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,l=i.children,Fr(n,i)?l=null:r!==null&&Fr(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=$c(e,t,h1,null,null,a),yi._currentValue=n),os(e,t),St(e,t,l,a),t.child;case 6:return e===null&&Ae&&((e=a=$e)&&(a=e0(a,t.pendingProps,aa),a!==null?(t.stateNode=a,bt=t,$e=null,e=!0):e=!1),e||Ka(t)),null;case 13:return Xd(e,t,a);case 4:return Ze(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=wl(t,null,l,a):St(e,t,l,a),t.child;case 11:return Od(e,t,t.type,t.pendingProps,a);case 7:return St(e,t,t.pendingProps,a),t.child;case 8:return St(e,t,t.pendingProps.children,a),t.child;case 12:return St(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Ja(t,t.type,l.value),St(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Cl(t),n=vt(n),l=l(n),t.flags|=1,St(e,t,l,a),t.child;case 14:return qd(e,t,t.type,t.pendingProps,a);case 15:return Hd(e,t,t.type,t.pendingProps,a);case 19:return Qd(e,t,a);case 31:return M1(e,t,a);case 22:return Bd(e,t,a,t.pendingProps);case 24:return Cl(t),l=vt(it),e===null?(n=Uc(),n===null&&(n=Qe,i=Hc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:l,cache:n},Gc(t),Ja(t,it,n)):((e.lanes&a)!==0&&(Yc(e,t),$n(t,null,null,a),Jn()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Ja(t,it,l)):(l=i.cache,Ja(t,it,l),l!==n.cache&&qc(t,[it],a,!0))),St(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function Ra(e){e.flags|=4}function jr(e,t,a,l,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Sf())e.flags|=8192;else throw Tl=$i,Lc}else e.flags&=-16777217}function Jd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!om(t))if(Sf())e.flags|=8192;else throw Tl=$i,Lc}function fs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ke():536870912,e.lanes|=t,gn|=t)}function ti(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function N1(e,t,a){var l=t.pendingProps;switch(Ac(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Fe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ta(it),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ln(t)?Ra(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dc())),Fe(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Ra(t),i!==null?(Fe(t),Jd(t,i)):(Fe(t),jr(t,n,null,l,a))):i?i!==e.memoizedState?(Ra(t),Fe(t),Jd(t,i)):(Fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ra(t),Fe(t),jr(t,n,e,l,a)),null;case 27:if(La(t),a=Se.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ra(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return Fe(t),null}e=te.current,ln(t)?zo(t):(e=am(n,l,a),t.stateNode=e,Ra(t))}return Fe(t),null;case 5:if(La(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ra(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return Fe(t),null}if(i=te.current,ln(t))zo(t);else{var r=zs(Se.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?r.createElement("select",{is:l.is}):r.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?r.createElement(n,{is:l.is}):r.createElement(n)}}i[xt]=t,i[kt]=l;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Mt(i,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ra(t)}}return Fe(t),jr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ra(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(u(166));if(e=Se.current,ln(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=bt,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[xt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zf(e.nodeValue,a)),e||Ka(t,!0)}else e=zs(e).createTextNode(l),e[xt]=t,t.stateNode=e}return Fe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=ln(t),a!==null){if(e===null){if(!l)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[xt]=t}else jl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),e=!1}else a=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Yt(t),t):(Yt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Fe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=ln(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(u(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(u(317));n[xt]=t}else jl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),n=!1}else n=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Yt(t),t):(Yt(t),null)}return Yt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),fs(t,t.updateQueue),Fe(t),null);case 4:return Ge(),e===null&&Zr(t.stateNode.containerInfo),Fe(t),null;case 10:return Ta(t.type),Fe(t),null;case 19:if(L(lt),l=t.memoizedState,l===null)return Fe(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)ti(l,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Pi(e),i!==null){for(t.flags|=128,ti(l,!1),e=i.updateQueue,t.updateQueue=e,fs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Mo(a,e),a=a.sibling;return F(lt,lt.current&1|2),Ae&&Ea(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ke()>gs&&(t.flags|=128,n=!0,ti(l,!1),t.lanes=4194304)}else{if(!n)if(e=Pi(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,fs(t,e),ti(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Ae)return Fe(t),null}else 2*Ke()-l.renderingStartTime>gs&&a!==536870912&&(t.flags|=128,n=!0,ti(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ke(),e.sibling=null,a=lt.current,F(lt,n?a&1|2:a&1),Ae&&Ea(t,l.treeForkCount),e):(Fe(t),null);case 22:case 23:return Yt(t),Qc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),a=t.updateQueue,a!==null&&fs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&L(El),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ta(it),Fe(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function C1(e,t){switch(Ac(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(it),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return La(t),null;case 31:if(t.memoizedState!==null){if(Yt(t),t.alternate===null)throw Error(u(340));jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Yt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(lt),null;case 4:return Ge(),null;case 10:return Ta(t.type),null;case 22:case 23:return Yt(t),Qc(),e!==null&&L(El),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ta(it),null;case 25:return null;default:return null}}function $d(e,t){switch(Ac(t),t.tag){case 3:Ta(it),Ge();break;case 26:case 27:case 5:La(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&Yt(t);break;case 13:Yt(t);break;case 19:L(lt);break;case 10:Ta(t.type);break;case 22:case 23:Yt(t),Qc(),e!==null&&L(El);break;case 24:Ta(it)}}function ai(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,r=a.inst;l=i(),r.destroy=l}a=a.next}while(a!==n)}}catch(f){Le(t,t.return,f)}}function el(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var r=l.inst,f=r.destroy;if(f!==void 0){r.destroy=void 0,n=t;var x=a,R=f;try{R()}catch(U){Le(n,x,U)}}}l=l.next}while(l!==i)}}catch(U){Le(t,t.return,U)}}function Fd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Lo(t,a)}catch(l){Le(e,e.return,l)}}}function Wd(e,t,a){a.props=Al(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Le(e,t,l)}}function li(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){Le(e,t,n)}}function pa(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){Le(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Le(e,t,n)}else a.current=null}function Id(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){Le(e,e.return,n)}}function Nr(e,t,a){try{var l=e.stateNode;K1(l,e.type,a,t),l[kt]=t}catch(n){Le(e,e.return,n)}}function Pd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cl(e.type)||e.tag===4}function Cr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Er(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ja));else if(l!==4&&(l===27&&cl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Er(e,t,a),e=e.sibling;e!==null;)Er(e,t,a),e=e.sibling}function ms(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&cl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ms(e,t,a),e=e.sibling;e!==null;)ms(e,t,a),e=e.sibling}function ef(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Mt(t,l,a),t[xt]=e,t[kt]=a}catch(i){Le(e,e.return,i)}}var Da=!1,rt=!1,zr=!1,tf=typeof WeakSet=="function"?WeakSet:Set,yt=null;function E1(e,t){if(e=e.containerInfo,Jr=_s,e=mo(e),vc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,f=-1,x=-1,R=0,U=0,X=e,_=null;t:for(;;){for(var q;X!==a||n!==0&&X.nodeType!==3||(f=r+n),X!==i||l!==0&&X.nodeType!==3||(x=r+l),X.nodeType===3&&(r+=X.nodeValue.length),(q=X.firstChild)!==null;)_=X,X=q;for(;;){if(X===e)break t;if(_===a&&++R===n&&(f=r),_===i&&++U===l&&(x=r),(q=X.nextSibling)!==null)break;X=_,_=X.parentNode}X=q}a=f===-1||x===-1?null:{start:f,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for($r={focusedElem:e,selectionRange:a},_s=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){switch(t=yt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var ne=Al(a.type,n);e=l.getSnapshotBeforeUpdate(ne,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Le(a,a.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ir(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ir(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}}function af(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Oa(e,a),l&4&&ai(5,a);break;case 1:if(Oa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){Le(a,a.return,r)}else{var n=Al(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Le(a,a.return,r)}}l&64&&Fd(a),l&512&&li(a,a.return);break;case 3:if(Oa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Lo(e,t)}catch(r){Le(a,a.return,r)}}break;case 27:t===null&&l&4&&ef(a);case 26:case 5:Oa(e,a),t===null&&l&4&&Id(a),l&512&&li(a,a.return);break;case 12:Oa(e,a);break;case 31:Oa(e,a),l&4&&sf(e,a);break;case 13:Oa(e,a),l&4&&cf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=O1.bind(null,a),t0(e,a))));break;case 22:if(l=a.memoizedState!==null||Da,!l){t=t!==null&&t.memoizedState!==null||rt,n=Da;var i=rt;Da=l,(rt=t)&&!i?qa(e,a,(a.subtreeFlags&8772)!==0):Oa(e,a),Da=n,rt=i}break;case 30:break;default:Oa(e,a)}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&lc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,Rt=!1;function _a(e,t,a){for(a=a.child;a!==null;)nf(e,t,a),a=a.sibling}function nf(e,t,a){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(ca,a)}catch{}switch(a.tag){case 26:rt||pa(a,t),_a(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||pa(a,t);var l=We,n=Rt;cl(a.type)&&(We=a.stateNode,Rt=!1),_a(e,t,a),fi(a.stateNode),We=l,Rt=n;break;case 5:rt||pa(a,t);case 6:if(l=We,n=Rt,We=null,_a(e,t,a),We=l,Rt=n,We!==null)if(Rt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(a.stateNode)}catch(i){Le(a,t,i)}else try{We.removeChild(a.stateNode)}catch(i){Le(a,t,i)}break;case 18:We!==null&&(Rt?(e=We,Wf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Cn(e)):Wf(We,a.stateNode));break;case 4:l=We,n=Rt,We=a.stateNode.containerInfo,Rt=!0,_a(e,t,a),We=l,Rt=n;break;case 0:case 11:case 14:case 15:el(2,a,t),rt||el(4,a,t),_a(e,t,a);break;case 1:rt||(pa(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wd(a,t,l)),_a(e,t,a);break;case 21:_a(e,t,a);break;case 22:rt=(l=rt)||a.memoizedState!==null,_a(e,t,a),rt=l;break;default:_a(e,t,a)}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Cn(e)}catch(a){Le(t,t.return,a)}}}function cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cn(e)}catch(a){Le(t,t.return,a)}}function z1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new tf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new tf),t;default:throw Error(u(435,e.tag))}}function hs(e,t){var a=z1(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var n=q1.bind(null,e,l);l.then(n,n)}})}function Dt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,r=t,f=r;e:for(;f!==null;){switch(f.tag){case 27:if(cl(f.type)){We=f.stateNode,Rt=!1;break e}break;case 5:We=f.stateNode,Rt=!1;break e;case 3:case 4:We=f.stateNode.containerInfo,Rt=!0;break e}f=f.return}if(We===null)throw Error(u(160));nf(i,r,n),We=null,Rt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)rf(t,e),t=t.sibling}var oa=null;function rf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),_t(e),l&4&&(el(3,e,e.return),ai(3,e),el(5,e,e.return));break;case 1:Dt(t,e),_t(e),l&512&&(rt||a===null||pa(a,a.return)),l&64&&Da&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=oa;if(Dt(t,e),_t(e),l&512&&(rt||a===null||pa(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[kn]||i[xt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),Mt(i,l,a),i[xt]=e,ht(i),l=i;break e;case"link":var r=rm("link","href",n).get(l+(a.href||""));if(r){for(var f=0;f<r.length;f++)if(i=r[f],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(f,1);break t}}i=n.createElement(l),Mt(i,l,a),n.head.appendChild(i);break;case"meta":if(r=rm("meta","content",n).get(l+(a.content||""))){for(f=0;f<r.length;f++)if(i=r[f],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(f,1);break t}}i=n.createElement(l),Mt(i,l,a),n.head.appendChild(i);break;default:throw Error(u(468,l))}i[xt]=e,ht(i),l=i}e.stateNode=l}else um(n,e.type,e.stateNode);else e.stateNode=cm(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?um(n,e.type,e.stateNode):cm(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Nr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Dt(t,e),_t(e),l&512&&(rt||a===null||pa(a,a.return)),a!==null&&l&4&&Nr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Dt(t,e),_t(e),l&512&&(rt||a===null||pa(a,a.return)),e.flags&32){n=e.stateNode;try{Kl(n,"")}catch(ne){Le(e,e.return,ne)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Nr(e,n,a!==null?a.memoizedProps:n)),l&1024&&(zr=!0);break;case 6:if(Dt(t,e),_t(e),l&4){if(e.stateNode===null)throw Error(u(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ne){Le(e,e.return,ne)}}break;case 3:if(ks=null,n=oa,oa=Ts(t.containerInfo),Dt(t,e),oa=n,_t(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cn(t.containerInfo)}catch(ne){Le(e,e.return,ne)}zr&&(zr=!1,uf(e));break;case 4:l=oa,oa=Ts(e.stateNode.containerInfo),Dt(t,e),_t(e),oa=l;break;case 12:Dt(t,e),_t(e);break;case 31:Dt(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hs(e,l)));break;case 13:Dt(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ps=Ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hs(e,l)));break;case 22:n=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,R=Da,U=rt;if(Da=R||n,rt=U||x,Dt(t,e),rt=U,Da=R,_t(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||x||Da||rt||Rl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){x=a=t;try{if(i=x.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{f=x.stateNode;var X=x.memoizedProps.style,_=X!=null&&X.hasOwnProperty("display")?X.display:null;f.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(ne){Le(x,x.return,ne)}}}else if(t.tag===6){if(a===null){x=t;try{x.stateNode.nodeValue=n?"":x.memoizedProps}catch(ne){Le(x,x.return,ne)}}}else if(t.tag===18){if(a===null){x=t;try{var q=x.stateNode;n?If(q,!0):If(x.stateNode,!1)}catch(ne){Le(x,x.return,ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hs(e,a))));break;case 19:Dt(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hs(e,l)));break;case 30:break;case 21:break;default:Dt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Pd(l)){a=l;break}l=l.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var n=a.stateNode,i=Cr(e);ms(e,i,n);break;case 5:var r=a.stateNode;a.flags&32&&(Kl(r,""),a.flags&=-33);var f=Cr(e);ms(e,f,r);break;case 3:case 4:var x=a.stateNode.containerInfo,R=Cr(e);Er(e,R,x);break;default:throw Error(u(161))}}catch(U){Le(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;uf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Oa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)af(e,t.alternate,t),t=t.sibling}function Rl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:el(4,t,t.return),Rl(t);break;case 1:pa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Wd(t,t.return,a),Rl(t);break;case 27:fi(t.stateNode);case 26:case 5:pa(t,t.return),Rl(t);break;case 22:t.memoizedState===null&&Rl(t);break;case 30:Rl(t);break;default:Rl(t)}e=e.sibling}}function qa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:qa(n,i,a),ai(4,i);break;case 1:if(qa(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(R){Le(l,l.return,R)}if(l=i,n=l.updateQueue,n!==null){var f=l.stateNode;try{var x=n.shared.hiddenCallbacks;if(x!==null)for(n.shared.hiddenCallbacks=null,n=0;n<x.length;n++)Uo(x[n],f)}catch(R){Le(l,l.return,R)}}a&&r&64&&Fd(i),li(i,i.return);break;case 27:ef(i);case 26:case 5:qa(n,i,a),a&&l===null&&r&4&&Id(i),li(i,i.return);break;case 12:qa(n,i,a);break;case 31:qa(n,i,a),a&&r&4&&sf(n,i);break;case 13:qa(n,i,a),a&&r&4&&cf(n,i);break;case 22:i.memoizedState===null&&qa(n,i,a),li(i,i.return);break;case 30:break;default:qa(n,i,a)}t=t.sibling}}function Tr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vn(a))}function wr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vn(e))}function da(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)of(e,t,a,l),t=t.sibling}function of(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:da(e,t,a,l),n&2048&&ai(9,t);break;case 1:da(e,t,a,l);break;case 3:da(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vn(e)));break;case 12:if(n&2048){da(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,f=i.onPostCommit;typeof f=="function"&&f(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Le(t,t.return,x)}}else da(e,t,a,l);break;case 31:da(e,t,a,l);break;case 13:da(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?da(e,t,a,l):ni(e,t):i._visibility&2?da(e,t,a,l):(i._visibility|=2,hn(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Tr(r,t);break;case 24:da(e,t,a,l),n&2048&&wr(t.alternate,t);break;default:da(e,t,a,l)}}function hn(e,t,a,l,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,f=a,x=l,R=r.flags;switch(r.tag){case 0:case 11:case 15:hn(i,r,f,x,n),ai(8,r);break;case 23:break;case 22:var U=r.stateNode;r.memoizedState!==null?U._visibility&2?hn(i,r,f,x,n):ni(i,r):(U._visibility|=2,hn(i,r,f,x,n)),n&&R&2048&&Tr(r.alternate,r);break;case 24:hn(i,r,f,x,n),n&&R&2048&&wr(r.alternate,r);break;default:hn(i,r,f,x,n)}t=t.sibling}}function ni(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:ni(a,l),n&2048&&Tr(l.alternate,l);break;case 24:ni(a,l),n&2048&&wr(l.alternate,l);break;default:ni(a,l)}t=t.sibling}}var ii=8192;function yn(e,t,a){if(e.subtreeFlags&ii)for(e=e.child;e!==null;)df(e,t,a),e=e.sibling}function df(e,t,a){switch(e.tag){case 26:yn(e,t,a),e.flags&ii&&e.memoizedState!==null&&m0(a,oa,e.memoizedState,e.memoizedProps);break;case 5:yn(e,t,a);break;case 3:case 4:var l=oa;oa=Ts(e.stateNode.containerInfo),yn(e,t,a),oa=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ii,ii=16777216,yn(e,t,a),ii=l):yn(e,t,a));break;default:yn(e,t,a)}}function ff(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function si(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];yt=l,hf(l,e)}ff(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mf(e),e=e.sibling}function mf(e){switch(e.tag){case 0:case 11:case 15:si(e),e.flags&2048&&el(9,e,e.return);break;case 3:si(e);break;case 12:si(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ys(e)):si(e);break;default:si(e)}}function ys(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];yt=l,hf(l,e)}ff(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:el(8,t,t.return),ys(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ys(t));break;default:ys(t)}e=e.sibling}}function hf(e,t){for(;yt!==null;){var a=yt;switch(a.tag){case 0:case 11:case 15:el(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,yt=l;else e:for(a=e;yt!==null;){l=yt;var n=l.sibling,i=l.return;if(lf(l),l===a){yt=null;break e}if(n!==null){n.return=i,yt=n;break e}yt=i}}}var T1={getCacheForType:function(e){var t=vt(it),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return vt(it).controller.signal}},w1=typeof WeakMap=="function"?WeakMap:Map,He=0,Qe=null,Ce=null,Te=0,Ue=0,Vt=null,tl=!1,pn=!1,kr=!1,Ha=0,et=0,al=0,Dl=0,Ar=0,Xt=0,gn=0,ci=null,Ot=null,Rr=!1,ps=0,yf=0,gs=1/0,xs=null,ll=null,dt=0,nl=null,xn=null,Ba=0,Dr=0,_r=null,pf=null,ri=0,Or=null;function Zt(){return(He&2)!==0&&Te!==0?Te&-Te:w.T!==null?Gr():ku()}function gf(){if(Xt===0)if((Te&536870912)===0||Ae){var e=Ul;Ul<<=1,(Ul&3932160)===0&&(Ul=262144),Xt=e}else Xt=536870912;return e=Gt.current,e!==null&&(e.flags|=32),Xt}function qt(e,t,a){(e===Qe&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(bn(e,0),il(e,Te,Xt,!1)),at(e,a),((He&2)===0||e!==Qe)&&(e===Qe&&((He&2)===0&&(Dl|=a),et===4&&il(e,Te,Xt,!1)),ga(e))}function xf(e,t,a){if((He&6)!==0)throw Error(u(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ae(e,t),n=l?R1(e,t):Hr(e,t,!0),i=l;do{if(n===0){pn&&!l&&il(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!k1(a)){n=Hr(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var f=e;n=ci;var x=f.current.memoizedState.isDehydrated;if(x&&(bn(f,r).flags|=256),r=Hr(f,r,!1),r!==2){if(kr&&!x){f.errorRecoveryDisabledLanes|=i,Dl|=i,n=4;break e}i=Ot,Ot=n,i!==null&&(Ot===null?Ot=i:Ot.push.apply(Ot,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){bn(e,0),il(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:il(l,t,Xt,!tl);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(n=ps+300-Ke(),10<n)){if(il(l,t,Xt,!tl),W(l,0,!0)!==0)break e;Ba=t,l.timeoutHandle=$f(bf.bind(null,l,a,Ot,xs,Rr,t,Xt,Dl,gn,tl,i,"Throttled",-0,0),n);break e}bf(l,a,Ot,xs,Rr,t,Xt,Dl,gn,tl,i,null,-0,0)}}break}while(!0);ga(e)}function bf(e,t,a,l,n,i,r,f,x,R,U,X,_,q){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ja},df(t,i,X);var ne=(i&62914560)===i?ps-Ke():(i&4194048)===i?yf-Ke():0;if(ne=h0(X,ne),ne!==null){Ba=i,e.cancelPendingCommit=ne(zf.bind(null,e,t,i,a,l,n,r,f,x,U,X,null,_,q)),il(e,i,r,!R);return}}zf(e,t,i,a,l,n,r,f,x)}function k1(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!Ut(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function il(e,t,a,l){t&=~Ar,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-Ct(n),r=1<<i;l[i]=-1,n&=~r}a!==0&&wt(e,a,t)}function bs(){return(He&6)===0?(ui(0),!1):!0}function qr(){if(Ce!==null){if(Ue===0)var e=Ce.return;else e=Ce,za=Nl=null,Ic(e),un=null,Zn=0,e=Ce;for(;e!==null;)$d(e.alternate,e),e=e.return;Ce=null}}function bn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,F1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ba=0,qr(),Qe=e,Ce=a=Ca(e.current,null),Te=t,Ue=0,Vt=null,tl=!1,pn=ae(e,t),kr=!1,gn=Xt=Ar=Dl=al=et=0,Ot=ci=null,Rr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-Ct(l),i=1<<n;t|=e[n],l&=~i}return Ha=t,Li(),a}function vf(e,t){Me=null,w.H=Pn,t===rn||t===Ji?(t=Oo(),Ue=3):t===Lc?(t=Oo(),Ue=4):Ue=t===hr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,Ce===null&&(et=1,rs(e,Pt(t,e.current)))}function Sf(){var e=Gt.current;return e===null?!0:(Te&4194048)===Te?la===null:(Te&62914560)===Te||(Te&536870912)!==0?e===la:!1}function Mf(){var e=w.H;return w.H=Pn,e===null?Pn:e}function jf(){var e=w.A;return w.A=T1,e}function vs(){et=4,tl||(Te&4194048)!==Te&&Gt.current!==null||(pn=!0),(al&134217727)===0&&(Dl&134217727)===0||Qe===null||il(Qe,Te,Xt,!1)}function Hr(e,t,a){var l=He;He|=2;var n=Mf(),i=jf();(Qe!==e||Te!==t)&&(xs=null,bn(e,t)),t=!1;var r=et;e:do try{if(Ue!==0&&Ce!==null){var f=Ce,x=Vt;switch(Ue){case 8:qr(),r=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(t=!0);var R=Ue;if(Ue=0,Vt=null,vn(e,f,x,R),a&&pn){r=0;break e}break;default:R=Ue,Ue=0,Vt=null,vn(e,f,x,R)}}A1(),r=et;break}catch(U){vf(e,U)}while(!0);return t&&e.shellSuspendCounter++,za=Nl=null,He=l,w.H=n,w.A=i,Ce===null&&(Qe=null,Te=0,Li()),r}function A1(){for(;Ce!==null;)Nf(Ce)}function R1(e,t){var a=He;He|=2;var l=Mf(),n=jf();Qe!==e||Te!==t?(xs=null,gs=Ke()+500,bn(e,t)):pn=ae(e,t);e:do try{if(Ue!==0&&Ce!==null){t=Ce;var i=Vt;t:switch(Ue){case 1:Ue=0,Vt=null,vn(e,t,i,1);break;case 2:case 9:if(Do(i)){Ue=0,Vt=null,Cf(t);break}t=function(){Ue!==2&&Ue!==9||Qe!==e||(Ue=7),ga(e)},i.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Do(i)?(Ue=0,Vt=null,Cf(t)):(Ue=0,Vt=null,vn(e,t,i,7));break;case 5:var r=null;switch(Ce.tag){case 26:r=Ce.memoizedState;case 5:case 27:var f=Ce;if(r?om(r):f.stateNode.complete){Ue=0,Vt=null;var x=f.sibling;if(x!==null)Ce=x;else{var R=f.return;R!==null?(Ce=R,Ss(R)):Ce=null}break t}}Ue=0,Vt=null,vn(e,t,i,5);break;case 6:Ue=0,Vt=null,vn(e,t,i,6);break;case 8:qr(),et=6;break e;default:throw Error(u(462))}}D1();break}catch(U){vf(e,U)}while(!0);return za=Nl=null,w.H=l,w.A=n,He=a,Ce!==null?0:(Qe=null,Te=0,Li(),et)}function D1(){for(;Ce!==null&&!gt();)Nf(Ce)}function Nf(e){var t=Kd(e.alternate,e,Ha);e.memoizedProps=e.pendingProps,t===null?Ss(e):Ce=t}function Cf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Gd(a,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Gd(a,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Ic(t);default:$d(a,t),t=Ce=Mo(t,Ha),t=Kd(a,t,Ha)}e.memoizedProps=e.pendingProps,t===null?Ss(e):Ce=t}function vn(e,t,a,l){za=Nl=null,Ic(t),un=null,Zn=0;var n=t.return;try{if(S1(e,n,t,a,Te)){et=1,rs(e,Pt(a,e.current)),Ce=null;return}}catch(i){if(n!==null)throw Ce=n,i;et=1,rs(e,Pt(a,e.current)),Ce=null;return}t.flags&32768?(Ae||l===1?e=!0:pn||(Te&536870912)!==0?e=!1:(tl=e=!0,(l===2||l===9||l===3||l===6)&&(l=Gt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ef(t,e)):Ss(t)}function Ss(e){var t=e;do{if((t.flags&32768)!==0){Ef(t,tl);return}e=t.return;var a=N1(t.alternate,t,Ha);if(a!==null){Ce=a;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);et===0&&(et=5)}function Ef(e,t){do{var a=C1(e.alternate,e);if(a!==null){a.flags&=32767,Ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=a}while(e!==null);et=6,Ce=null}function zf(e,t,a,l,n,i,r,f,x){e.cancelPendingCommit=null;do Ms();while(dt!==0);if((He&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=Cc,ra(e,a,i,r,f,x),e===Qe&&(Ce=Qe=null,Te=0),xn=t,nl=e,Ba=a,Dr=i,_r=n,pf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,H1(Sa,function(){return Rf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=w.T,w.T=null,n=K.p,K.p=2,r=He,He|=4;try{E1(e,t,a)}finally{He=r,K.p=n,w.T=l}}dt=1,Tf(),wf(),kf()}}function Tf(){if(dt===1){dt=0;var e=nl,t=xn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=w.T,w.T=null;var l=K.p;K.p=2;var n=He;He|=4;try{rf(t,e);var i=$r,r=mo(e.containerInfo),f=i.focusedElem,x=i.selectionRange;if(r!==f&&f&&f.ownerDocument&&fo(f.ownerDocument.documentElement,f)){if(x!==null&&vc(f)){var R=x.start,U=x.end;if(U===void 0&&(U=R),"selectionStart"in f)f.selectionStart=R,f.selectionEnd=Math.min(U,f.value.length);else{var X=f.ownerDocument||document,_=X&&X.defaultView||window;if(_.getSelection){var q=_.getSelection(),ne=f.textContent.length,fe=Math.min(x.start,ne),Xe=x.end===void 0?fe:Math.min(x.end,ne);!q.extend&&fe>Xe&&(r=Xe,Xe=fe,fe=r);var C=oo(f,fe),M=oo(f,Xe);if(C&&M&&(q.rangeCount!==1||q.anchorNode!==C.node||q.anchorOffset!==C.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var k=X.createRange();k.setStart(C.node,C.offset),q.removeAllRanges(),fe>Xe?(q.addRange(k),q.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),q.addRange(k))}}}}for(X=[],q=f;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<X.length;f++){var Y=X[f];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}_s=!!Jr,$r=Jr=null}finally{He=n,K.p=l,w.T=a}}e.current=t,dt=2}}function wf(){if(dt===2){dt=0;var e=nl,t=xn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=w.T,w.T=null;var l=K.p;K.p=2;var n=He;He|=4;try{af(e,t.alternate,t)}finally{He=n,K.p=l,w.T=a}}dt=3}}function kf(){if(dt===4||dt===3){dt=0,sa();var e=nl,t=xn,a=Ba,l=pf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,xn=nl=null,Af(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ll=null),tc(a),t=t.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(ca,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=w.T,n=K.p,K.p=2,w.T=null;try{for(var i=e.onRecoverableError,r=0;r<l.length;r++){var f=l[r];i(f.value,{componentStack:f.stack})}}finally{w.T=t,K.p=n}}(Ba&3)!==0&&Ms(),ga(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===Or?ri++:(ri=0,Or=e):ri=0,ui(0)}}function Af(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vn(t)))}function Ms(){return Tf(),wf(),kf(),Rf()}function Rf(){if(dt!==5)return!1;var e=nl,t=Dr;Dr=0;var a=tc(Ba),l=w.T,n=K.p;try{K.p=32>a?32:a,w.T=null,a=_r,_r=null;var i=nl,r=Ba;if(dt=0,xn=nl=null,Ba=0,(He&6)!==0)throw Error(u(331));var f=He;if(He|=4,mf(i.current),of(i,i.current,r,a),He=f,ui(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(ca,i)}catch{}return!0}finally{K.p=n,w.T=l,Af(e,t)}}function Df(e,t,a){t=Pt(a,t),t=mr(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&(at(e,2),ga(e))}function Le(e,t,a){if(e.tag===3)Df(e,e,a);else for(;t!==null;){if(t.tag===3){Df(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ll===null||!ll.has(l))){e=Pt(a,e),a=Dd(2),l=Wa(t,a,2),l!==null&&(_d(a,l,t,e),at(l,2),ga(l));break}}t=t.return}}function Br(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new w1;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(kr=!0,n.add(a),e=_1.bind(null,e,t,a),t.then(e,e))}function _1(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Qe===e&&(Te&a)===a&&(et===4||et===3&&(Te&62914560)===Te&&300>Ke()-ps?(He&2)===0&&bn(e,0):Ar|=a,gn===Te&&(gn=0)),ga(e)}function _f(e,t){t===0&&(t=ke()),e=Sl(e,t),e!==null&&(at(e,t),ga(e))}function O1(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),_f(e,a)}function q1(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(u(314))}l!==null&&l.delete(t),_f(e,a)}function H1(e,t){return De(e,t)}var js=null,Sn=null,Ur=!1,Ns=!1,Lr=!1,sl=0;function ga(e){e!==Sn&&e.next===null&&(Sn===null?js=Sn=e:Sn=Sn.next=e),Ns=!0,Ur||(Ur=!0,U1())}function ui(e,t){if(!Lr&&Ns){Lr=!0;do for(var a=!1,l=js;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var r=l.suspendedLanes,f=l.pingedLanes;i=(1<<31-Ct(42|e)+1)-1,i&=n&~(r&~f),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Bf(l,i))}else i=Te,i=W(l,l===Qe?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||ae(l,i)||(a=!0,Bf(l,i));l=l.next}while(a);Lr=!1}}function B1(){Of()}function Of(){Ns=Ur=!1;var e=0;sl!==0&&$1()&&(e=sl);for(var t=Ke(),a=null,l=js;l!==null;){var n=l.next,i=qf(l,t);i===0?(l.next=null,a===null?js=n:a.next=n,n===null&&(Sn=a)):(a=l,(e!==0||(i&3)!==0)&&(Ns=!0)),l=n}dt!==0&&dt!==5||ui(e),sl!==0&&(sl=0)}function qf(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-Ct(i),f=1<<r,x=n[r];x===-1?((f&a)===0||(f&l)!==0)&&(n[r]=Be(f,t)):x<=t&&(e.expiredLanes|=f),i&=~f}if(t=Qe,a=Te,a=W(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ie(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ae(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Ie(l),tc(a)){case 2:case 8:a=Jt;break;case 32:a=Sa;break;case 268435456:a=fa;break;default:a=Sa}return l=Hf.bind(null,e),a=De(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Ie(l),e.callbackPriority=2,e.callbackNode=null,2}function Hf(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ms()&&e.callbackNode!==a)return null;var l=Te;return l=W(e,e===Qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(xf(e,l,t),qf(e,Ke()),e.callbackNode!=null&&e.callbackNode===a?Hf.bind(null,e):null)}function Bf(e,t){if(Ms())return null;xf(e,t,!0)}function U1(){W1(function(){(He&6)!==0?De(Tt,B1):Of()})}function Gr(){if(sl===0){var e=sn;e===0&&(e=pl,pl<<=1,(pl&261888)===0&&(pl=256)),sl=e}return sl}function Uf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ri(""+e)}function Lf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function L1(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var i=Uf((n[kt]||null).action),r=l.submitter;r&&(t=(t=r[kt]||null)?Uf(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var f=new qi("action","action",null,l,n);e.push({event:f,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sl!==0){var x=r?Lf(n,r):new FormData(n);cr(a,{pending:!0,data:x,method:n.method,action:i},null,x)}}else typeof i=="function"&&(f.preventDefault(),x=r?Lf(n,r):new FormData(n),cr(a,{pending:!0,data:x,method:n.method,action:i},i,x))},currentTarget:n}]})}}for(var Yr=0;Yr<Nc.length;Yr++){var Vr=Nc[Yr],G1=Vr.toLowerCase(),Y1=Vr[0].toUpperCase()+Vr.slice(1);ua(G1,"on"+Y1)}ua(po,"onAnimationEnd"),ua(go,"onAnimationIteration"),ua(xo,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(n1,"onTransitionRun"),ua(i1,"onTransitionStart"),ua(s1,"onTransitionCancel"),ua(bo,"onTransitionEnd"),Zl("onMouseEnter",["mouseout","mouseover"]),Zl("onMouseLeave",["mouseout","mouseover"]),Zl("onPointerEnter",["pointerout","pointerover"]),Zl("onPointerLeave",["pointerout","pointerover"]),gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gl("onBeforeInput",["compositionend","keypress","textInput","paste"]),gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oi));function Gf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var r=l.length-1;0<=r;r--){var f=l[r],x=f.instance,R=f.currentTarget;if(f=f.listener,x!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=R;try{i(n)}catch(U){Ui(U)}n.currentTarget=null,i=x}else for(r=0;r<l.length;r++){if(f=l[r],x=f.instance,R=f.currentTarget,f=f.listener,x!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=R;try{i(n)}catch(U){Ui(U)}n.currentTarget=null,i=x}}}}function Ee(e,t){var a=t[ac];a===void 0&&(a=t[ac]=new Set);var l=e+"__bubble";a.has(l)||(Yf(t,e,2,!1),a.add(l))}function Xr(e,t,a){var l=0;t&&(l|=4),Yf(a,e,l,t)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Cs]){e[Cs]=!0,Du.forEach(function(a){a!=="selectionchange"&&(V1.has(a)||Xr(a,!1,e),Xr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cs]||(t[Cs]=!0,Xr("selectionchange",!1,t))}}function Yf(e,t,a,l){switch(gm(t)){case 2:var n=g0;break;case 8:n=x0;break;default:n=su}a=n.bind(null,t,a,e),n=void 0,!dc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Qr(e,t,a,l,n){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var r=l.tag;if(r===3||r===4){var f=l.stateNode.containerInfo;if(f===n)break;if(r===4)for(r=l.return;r!==null;){var x=r.tag;if((x===3||x===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;f!==null;){if(r=Yl(f),r===null)return;if(x=r.tag,x===5||x===6||x===26||x===27){l=i=r;continue e}f=f.parentNode}}l=l.return}Zu(function(){var R=i,U=uc(a),X=[];e:{var _=vo.get(e);if(_!==void 0){var q=qi,ne=e;switch(e){case"keypress":if(_i(a)===0)break e;case"keydown":case"keyup":q=qh;break;case"focusin":ne="focus",q=yc;break;case"focusout":ne="blur",q=yc;break;case"beforeblur":case"afterblur":q=yc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Uh;break;case po:case go:case xo:q=zh;break;case bo:q=Gh;break;case"scroll":case"scrollend":q=Mh;break;case"wheel":q=Vh;break;case"copy":case"cut":case"paste":q=wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Fu;break;case"toggle":case"beforetoggle":q=Zh}var fe=(t&4)!==0,Xe=!fe&&(e==="scroll"||e==="scrollend"),C=fe?_!==null?_+"Capture":null:_;fe=[];for(var M=R,k;M!==null;){var Y=M;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||C===null||(Y=Rn(M,C),Y!=null&&fe.push(di(M,Y,k))),Xe)break;M=M.return}0<fe.length&&(_=new q(_,ne,null,a,U),X.push({event:_,listeners:fe}))}}if((t&7)===0){e:{if(_=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",_&&a!==rc&&(ne=a.relatedTarget||a.fromElement)&&(Yl(ne)||ne[Gl]))break e;if((q||_)&&(_=U.window===U?U:(_=U.ownerDocument)?_.defaultView||_.parentWindow:window,q?(ne=a.relatedTarget||a.toElement,q=R,ne=ne?Yl(ne):null,ne!==null&&(Xe=h(ne),fe=ne.tag,ne!==Xe||fe!==5&&fe!==27&&fe!==6)&&(ne=null)):(q=null,ne=R),q!==ne)){if(fe=Ju,Y="onMouseLeave",C="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Fu,Y="onPointerLeave",C="onPointerEnter",M="pointer"),Xe=q==null?_:An(q),k=ne==null?_:An(ne),_=new fe(Y,M+"leave",q,a,U),_.target=Xe,_.relatedTarget=k,Y=null,Yl(U)===R&&(fe=new fe(C,M+"enter",ne,a,U),fe.target=k,fe.relatedTarget=Xe,Y=fe),Xe=Y,q&&ne)t:{for(fe=X1,C=q,M=ne,k=0,Y=C;Y;Y=fe(Y))k++;Y=0;for(var oe=M;oe;oe=fe(oe))Y++;for(;0<k-Y;)C=fe(C),k--;for(;0<Y-k;)M=fe(M),Y--;for(;k--;){if(C===M||M!==null&&C===M.alternate){fe=C;break t}C=fe(C),M=fe(M)}fe=null}else fe=null;q!==null&&Vf(X,_,q,fe,!1),ne!==null&&Xe!==null&&Vf(X,Xe,ne,fe,!0)}}e:{if(_=R?An(R):window,q=_.nodeName&&_.nodeName.toLowerCase(),q==="select"||q==="input"&&_.type==="file")var Oe=no;else if(ao(_))if(io)Oe=t1;else{Oe=Ph;var ce=Ih}else q=_.nodeName,!q||q.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?R&&cc(R.elementType)&&(Oe=no):Oe=e1;if(Oe&&(Oe=Oe(e,R))){lo(X,Oe,a,U);break e}ce&&ce(e,_,R),e==="focusout"&&R&&_.type==="number"&&R.memoizedProps.value!=null&&sc(_,"number",_.value)}switch(ce=R?An(R):window,e){case"focusin":(ao(ce)||ce.contentEditable==="true")&&(Wl=ce,Sc=R,Ln=null);break;case"focusout":Ln=Sc=Wl=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,ho(X,a,U);break;case"selectionchange":if(l1)break;case"keydown":case"keyup":ho(X,a,U)}var je;if(gc)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Fl?eo(e,a)&&(we="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Wu&&a.locale!=="ko"&&(Fl||we!=="onCompositionStart"?we==="onCompositionEnd"&&Fl&&(je=Qu()):(Xa=U,fc="value"in Xa?Xa.value:Xa.textContent,Fl=!0)),ce=Es(R,we),0<ce.length&&(we=new $u(we,e,null,a,U),X.push({event:we,listeners:ce}),je?we.data=je:(je=to(a),je!==null&&(we.data=je)))),(je=Kh?Jh(e,a):$h(e,a))&&(we=Es(R,"onBeforeInput"),0<we.length&&(ce=new $u("onBeforeInput","beforeinput",null,a,U),X.push({event:ce,listeners:we}),ce.data=je)),L1(X,e,R,a,U)}Gf(X,t)})}function di(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Es(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Rn(e,a),n!=null&&l.unshift(di(e,n,i)),n=Rn(e,t),n!=null&&l.push(di(e,n,i))),e.tag===3)return l;e=e.return}return[]}function X1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vf(e,t,a,l,n){for(var i=t._reactName,r=[];a!==null&&a!==l;){var f=a,x=f.alternate,R=f.stateNode;if(f=f.tag,x!==null&&x===l)break;f!==5&&f!==26&&f!==27||R===null||(x=R,n?(R=Rn(a,i),R!=null&&r.unshift(di(a,R,x))):n||(R=Rn(a,i),R!=null&&r.push(di(a,R,x)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var Z1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function Xf(e){return(typeof e=="string"?e:""+e).replace(Z1,`
`).replace(Q1,"")}function Zf(e,t){return t=Xf(t),Xf(e)===t}function Ve(e,t,a,l,n,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Kl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Kl(e,""+l);break;case"className":ki(e,"class",l);break;case"tabIndex":ki(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(e,a,l);break;case"style":Vu(e,l,i);break;case"data":if(t!=="object"){ki(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ri(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Ve(e,t,"name",n.name,n,null),Ve(e,t,"formEncType",n.formEncType,n,null),Ve(e,t,"formMethod",n.formMethod,n,null),Ve(e,t,"formTarget",n.formTarget,n,null)):(Ve(e,t,"encType",n.encType,n,null),Ve(e,t,"method",n.method,n,null),Ve(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ri(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ja);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ri(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),wi(e,"popover",l);break;case"xlinkActuate":Ma(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ma(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ma(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ma(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ma(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ma(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ma(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ma(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ma(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vh.get(a)||a,wi(e,a,l))}}function Kr(e,t,a,l,n,i){switch(a){case"style":Vu(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Kl(e,l):(typeof l=="number"||typeof l=="bigint")&&Kl(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_u.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[kt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):wi(e,a,l)}}}function Mt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Ve(e,t,i,r,a,null)}}n&&Ve(e,t,"srcSet",a.srcSet,a,null),l&&Ve(e,t,"src",a.src,a,null);return;case"input":Ee("invalid",e);var f=i=r=n=null,x=null,R=null;for(l in a)if(a.hasOwnProperty(l)){var U=a[l];if(U!=null)switch(l){case"name":n=U;break;case"type":r=U;break;case"checked":x=U;break;case"defaultChecked":R=U;break;case"value":i=U;break;case"defaultValue":f=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(u(137,t));break;default:Ve(e,t,l,U,a,null)}}Uu(e,i,f,x,R,r,n,!1);return;case"select":Ee("invalid",e),l=r=i=null;for(n in a)if(a.hasOwnProperty(n)&&(f=a[n],f!=null))switch(n){case"value":i=f;break;case"defaultValue":r=f;break;case"multiple":l=f;default:Ve(e,t,n,f,a,null)}t=i,a=r,e.multiple=!!l,t!=null?Ql(e,!!l,t,!1):a!=null&&Ql(e,!!l,a,!0);return;case"textarea":Ee("invalid",e),i=n=l=null;for(r in a)if(a.hasOwnProperty(r)&&(f=a[r],f!=null))switch(r){case"value":l=f;break;case"defaultValue":n=f;break;case"children":i=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(u(91));break;default:Ve(e,t,r,f,a,null)}Gu(e,l,n,i);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ve(e,t,x,l,a,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<oi.length;l++)Ee(oi[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Ve(e,t,R,l,a,null)}return;default:if(cc(t)){for(U in a)a.hasOwnProperty(U)&&(l=a[U],l!==void 0&&Kr(e,t,U,l,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(l=a[f],l!=null&&Ve(e,t,f,l,a,null))}function K1(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,f=null,x=null,R=null,U=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=X;default:l.hasOwnProperty(q)||Ve(e,t,q,null,l,X)}}for(var _ in l){var q=l[_];if(X=a[_],l.hasOwnProperty(_)&&(q!=null||X!=null))switch(_){case"type":i=q;break;case"name":n=q;break;case"checked":R=q;break;case"defaultChecked":U=q;break;case"value":r=q;break;case"defaultValue":f=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(u(137,t));break;default:q!==X&&Ve(e,t,_,q,l,X)}}ic(e,r,f,x,R,U,i,n);return;case"select":q=r=f=_=null;for(i in a)if(x=a[i],a.hasOwnProperty(i)&&x!=null)switch(i){case"value":break;case"multiple":q=x;default:l.hasOwnProperty(i)||Ve(e,t,i,null,l,x)}for(n in l)if(i=l[n],x=a[n],l.hasOwnProperty(n)&&(i!=null||x!=null))switch(n){case"value":_=i;break;case"defaultValue":f=i;break;case"multiple":r=i;default:i!==x&&Ve(e,t,n,i,l,x)}t=f,a=r,l=q,_!=null?Ql(e,!!a,_,!1):!!l!=!!a&&(t!=null?Ql(e,!!a,t,!0):Ql(e,!!a,a?[]:"",!1));return;case"textarea":q=_=null;for(f in a)if(n=a[f],a.hasOwnProperty(f)&&n!=null&&!l.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Ve(e,t,f,null,l,n)}for(r in l)if(n=l[r],i=a[r],l.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":_=n;break;case"defaultValue":q=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(u(91));break;default:n!==i&&Ve(e,t,r,n,l,i)}Lu(e,_,q);return;case"option":for(var ne in a)if(_=a[ne],a.hasOwnProperty(ne)&&_!=null&&!l.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:Ve(e,t,ne,null,l,_)}for(x in l)if(_=l[x],q=a[x],l.hasOwnProperty(x)&&_!==q&&(_!=null||q!=null))switch(x){case"selected":e.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Ve(e,t,x,_,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)_=a[fe],a.hasOwnProperty(fe)&&_!=null&&!l.hasOwnProperty(fe)&&Ve(e,t,fe,null,l,_);for(R in l)if(_=l[R],q=a[R],l.hasOwnProperty(R)&&_!==q&&(_!=null||q!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(u(137,t));break;default:Ve(e,t,R,_,l,q)}return;default:if(cc(t)){for(var Xe in a)_=a[Xe],a.hasOwnProperty(Xe)&&_!==void 0&&!l.hasOwnProperty(Xe)&&Kr(e,t,Xe,void 0,l,_);for(U in l)_=l[U],q=a[U],!l.hasOwnProperty(U)||_===q||_===void 0&&q===void 0||Kr(e,t,U,_,l,q);return}}for(var C in a)_=a[C],a.hasOwnProperty(C)&&_!=null&&!l.hasOwnProperty(C)&&Ve(e,t,C,null,l,_);for(X in l)_=l[X],q=a[X],!l.hasOwnProperty(X)||_===q||_==null&&q==null||Ve(e,t,X,_,l,q)}function Qf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var n=a[l],i=n.transferSize,r=n.initiatorType,f=n.duration;if(i&&f&&Qf(r)){for(r=0,f=n.responseEnd,l+=1;l<a.length;l++){var x=a[l],R=x.startTime;if(R>f)break;var U=x.transferSize,X=x.initiatorType;U&&Qf(X)&&(x=x.responseEnd,r+=U*(x<f?1:(f-R)/(x-R)))}if(--l,t+=8*(i+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jr=null,$r=null;function zs(e){return e.nodeType===9?e:e.ownerDocument}function Kf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wr=null;function $1(){var e=window.event;return e&&e.type==="popstate"?e===Wr?!1:(Wr=e,!0):(Wr=null,!1)}var $f=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(e){return Ff.resolve(null).then(e).catch(I1)}:$f;function I1(e){setTimeout(function(){throw e})}function cl(e){return e==="head"}function Wf(e,t){var a=t,l=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(n),Cn(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")fi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fi(a);for(var i=a.firstChild;i;){var r=i.nextSibling,f=i.nodeName;i[kn]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&fi(e.ownerDocument.body);a=n}while(a);Cn(t)}function If(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Ir(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ir(a),lc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function P1(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[kn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=na(e.nextSibling),e===null)break}return null}function e0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=na(e.nextSibling),e===null))return null;return e}function Pf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=na(e.nextSibling),e===null))return null;return e}function Pr(e){return e.data==="$?"||e.data==="$~"}function eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function t0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var tu=null;function em(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return na(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function am(e,t,a){switch(t=zs(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function fi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);lc(e)}var ia=new Map,lm=new Set;function Ts(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ua=K.d;K.d={f:a0,r:l0,D:n0,C:i0,L:s0,m:c0,X:u0,S:r0,M:o0};function a0(){var e=Ua.f(),t=bs();return e||t}function l0(e){var t=Vl(e);t!==null&&t.tag===5&&t.type==="form"?bd(t):Ua.r(e)}var Mn=typeof document>"u"?null:document;function nm(e,t,a){var l=Mn;if(l&&typeof t=="string"&&t){var n=Wt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),lm.has(n)||(lm.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),Mt(t,"link",e),ht(t),l.head.appendChild(t)))}}function n0(e){Ua.D(e),nm("dns-prefetch",e,null)}function i0(e,t){Ua.C(e,t),nm("preconnect",e,t)}function s0(e,t,a){Ua.L(e,t,a);var l=Mn;if(l&&e&&t){var n='link[rel="preload"][as="'+Wt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Wt(a.imageSizes)+'"]')):n+='[href="'+Wt(e)+'"]';var i=n;switch(t){case"style":i=jn(e);break;case"script":i=Nn(e)}ia.has(i)||(e=N({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ia.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(mi(i))||t==="script"&&l.querySelector(hi(i))||(t=l.createElement("link"),Mt(t,"link",e),ht(t),l.head.appendChild(t)))}}function c0(e,t){Ua.m(e,t);var a=Mn;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Wt(l)+'"][href="'+Wt(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Nn(e)}if(!ia.has(i)&&(e=N({rel:"modulepreload",href:e},t),ia.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hi(i)))return}l=a.createElement("link"),Mt(l,"link",e),ht(l),a.head.appendChild(l)}}}function r0(e,t,a){Ua.S(e,t,a);var l=Mn;if(l&&e){var n=Xl(l).hoistableStyles,i=jn(e);t=t||"default";var r=n.get(i);if(!r){var f={loading:0,preload:null};if(r=l.querySelector(mi(i)))f.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ia.get(i))&&au(e,a);var x=r=l.createElement("link");ht(x),Mt(x,"link",e),x._p=new Promise(function(R,U){x.onload=R,x.onerror=U}),x.addEventListener("load",function(){f.loading|=1}),x.addEventListener("error",function(){f.loading|=2}),f.loading|=4,ws(r,t,l)}r={type:"stylesheet",instance:r,count:1,state:f},n.set(i,r)}}}function u0(e,t){Ua.X(e,t);var a=Mn;if(a&&e){var l=Xl(a).hoistableScripts,n=Nn(e),i=l.get(n);i||(i=a.querySelector(hi(n)),i||(e=N({src:e,async:!0},t),(t=ia.get(n))&&lu(e,t),i=a.createElement("script"),ht(i),Mt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function o0(e,t){Ua.M(e,t);var a=Mn;if(a&&e){var l=Xl(a).hoistableScripts,n=Nn(e),i=l.get(n);i||(i=a.querySelector(hi(n)),i||(e=N({src:e,async:!0,type:"module"},t),(t=ia.get(n))&&lu(e,t),i=a.createElement("script"),ht(i),Mt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function im(e,t,a,l){var n=(n=Se.current)?Ts(n):null;if(!n)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=jn(a.href),a=Xl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=jn(a.href);var i=Xl(n).hoistableStyles,r=i.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=n.querySelector(mi(e)))&&!i._p&&(r.instance=i,r.state.loading=5),ia.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ia.set(e,a),i||d0(n,e,a,r.state))),t&&l===null)throw Error(u(528,""));return r}if(t&&l!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Nn(a),a=Xl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function jn(e){return'href="'+Wt(e)+'"'}function mi(e){return'link[rel="stylesheet"]['+e+"]"}function sm(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function d0(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Mt(t,"link",a),ht(t),e.head.appendChild(t))}function Nn(e){return'[src="'+Wt(e)+'"]'}function hi(e){return"script[async]"+e}function cm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Wt(a.href)+'"]');if(l)return t.instance=l,ht(l),l;var n=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ht(l),Mt(l,"style",n),ws(l,a.precedence,e),t.instance=l;case"stylesheet":n=jn(a.href);var i=e.querySelector(mi(n));if(i)return t.state.loading|=4,t.instance=i,ht(i),i;l=sm(a),(n=ia.get(n))&&au(l,n),i=(e.ownerDocument||e).createElement("link"),ht(i);var r=i;return r._p=new Promise(function(f,x){r.onload=f,r.onerror=x}),Mt(i,"link",l),t.state.loading|=4,ws(i,a.precedence,e),t.instance=i;case"script":return i=Nn(a.src),(n=e.querySelector(hi(i)))?(t.instance=n,ht(n),n):(l=a,(n=ia.get(i))&&(l=N({},a),lu(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),ht(n),Mt(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ws(l,a.precedence,e));return t.instance}function ws(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,r=0;r<l.length;r++){var f=l[r];if(f.dataset.precedence===t)i=f;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ks=null;function rm(e,t,a){if(ks===null){var l=new Map,n=ks=new Map;n.set(a,l)}else n=ks,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[kn]||i[xt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var f=l.get(r);f?f.push(i):l.set(r,[i])}}return l}function um(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function f0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function om(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function m0(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=jn(l.href),i=t.querySelector(mi(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=As.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,ht(i);return}i=t.ownerDocument||t,l=sm(l),(n=ia.get(n))&&au(l,n),i=i.createElement("link"),ht(i);var r=i;r._p=new Promise(function(f,x){r.onload=f,r.onerror=x}),Mt(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=As.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var nu=0;function h0(e,t){return e.stylesheets&&e.count===0&&Ds(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Ds(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&nu===0&&(nu=62500*J1());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ds(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>nu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function As(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ds(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rs=null;function Ds(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rs=new Map,t.forEach(y0,e),Rs=null,As.call(e))}function y0(e,t){if(!(t.state.loading&4)){var a=Rs.get(e);if(a)var l=a.get(null);else{a=new Map,Rs.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),l=r)}l&&a.set(null,l)}n=t.instance,r=n.getAttribute("data-precedence"),i=a.get(r)||l,i===l&&a.set(null,n),a.set(r,n),this.count++,l=As.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var yi={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function p0(e,t,a,l,n,i,r,f,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function dm(e,t,a,l,n,i,r,f,x,R,U,X){return e=new p0(e,t,a,r,x,R,U,X,f),t=1,i===!0&&(t|=24),i=Lt(3,null,null,t),e.current=i,i.stateNode=e,t=Hc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},Gc(i),e}function fm(e){return e?(e=en,e):en}function mm(e,t,a,l,n,i){n=fm(n),l.context===null?l.context=n:l.pendingContext=n,l=Fa(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=Wa(e,l,t),a!==null&&(qt(a,e,t),Kn(a,e,t))}function hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function iu(e,t){hm(e,t),(e=e.alternate)&&hm(e,t)}function ym(e){if(e.tag===13||e.tag===31){var t=Sl(e,67108864);t!==null&&qt(t,e,67108864),iu(e,67108864)}}function pm(e){if(e.tag===13||e.tag===31){var t=Zt();t=wn(t);var a=Sl(e,t);a!==null&&qt(a,e,t),iu(e,t)}}var _s=!0;function g0(e,t,a,l){var n=w.T;w.T=null;var i=K.p;try{K.p=2,su(e,t,a,l)}finally{K.p=i,w.T=n}}function x0(e,t,a,l){var n=w.T;w.T=null;var i=K.p;try{K.p=8,su(e,t,a,l)}finally{K.p=i,w.T=n}}function su(e,t,a,l){if(_s){var n=cu(l);if(n===null)Qr(e,t,l,Os,a),xm(e,l);else if(v0(n,e,t,a,l))l.stopPropagation();else if(xm(e,l),t&4&&-1<b0.indexOf(e)){for(;n!==null;){var i=Vl(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=Q(i.pendingLanes);if(r!==0){var f=i;for(f.pendingLanes|=2,f.entangledLanes|=2;r;){var x=1<<31-Ct(r);f.entanglements[1]|=x,r&=~x}ga(i),(He&6)===0&&(gs=Ke()+500,ui(0))}}break;case 31:case 13:f=Sl(i,2),f!==null&&qt(f,i,2),bs(),iu(i,2)}if(i=cu(l),i===null&&Qr(e,t,l,Os,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else Qr(e,t,l,null,a)}}function cu(e){return e=uc(e),ru(e)}var Os=null;function ru(e){if(Os=null,e=Yl(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=g(t),e!==null)return e;e=null}else if(a===31){if(e=b(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Os=e,null}function gm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ga()){case Tt:return 2;case Jt:return 8;case Sa:case Bl:return 32;case fa:return 268435456;default:return 32}default:return 32}}var uu=!1,rl=null,ul=null,ol=null,pi=new Map,gi=new Map,dl=[],b0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xm(e,t){switch(e){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":ul=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(t.pointerId)}}function xi(e,t,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Vl(t),t!==null&&ym(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function v0(e,t,a,l,n){switch(t){case"focusin":return rl=xi(rl,e,t,a,l,n),!0;case"dragenter":return ul=xi(ul,e,t,a,l,n),!0;case"mouseover":return ol=xi(ol,e,t,a,l,n),!0;case"pointerover":var i=n.pointerId;return pi.set(i,xi(pi.get(i)||null,e,t,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,gi.set(i,xi(gi.get(i)||null,e,t,a,l,n)),!0}return!1}function bm(e){var t=Yl(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=g(a),t!==null){e.blockedOn=t,Au(e.priority,function(){pm(a)});return}}else if(t===31){if(t=b(a),t!==null){e.blockedOn=t,Au(e.priority,function(){pm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=cu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);rc=l,a.target.dispatchEvent(l),rc=null}else return t=Vl(a),t!==null&&ym(t),e.blockedOn=a,!1;t.shift()}return!0}function vm(e,t,a){qs(e)&&a.delete(t)}function S0(){uu=!1,rl!==null&&qs(rl)&&(rl=null),ul!==null&&qs(ul)&&(ul=null),ol!==null&&qs(ol)&&(ol=null),pi.forEach(vm),gi.forEach(vm)}function Hs(e,t){e.blockedOn===t&&(e.blockedOn=null,uu||(uu=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,S0)))}var Bs=null;function Sm(e){Bs!==e&&(Bs=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Bs===e&&(Bs=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(ru(l||a)===null)continue;break}var i=Vl(a);i!==null&&(e.splice(t,3),t-=3,cr(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Cn(e){function t(x){return Hs(x,e)}rl!==null&&Hs(rl,e),ul!==null&&Hs(ul,e),ol!==null&&Hs(ol,e),pi.forEach(t),gi.forEach(t);for(var a=0;a<dl.length;a++){var l=dl[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<dl.length&&(a=dl[0],a.blockedOn===null);)bm(a),a.blockedOn===null&&dl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],r=n[kt]||null;if(typeof i=="function")r||Sm(a);else if(r){var f=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[kt]||null)f=r.formAction;else if(ru(n)!==null)continue}else f=r.action;typeof f=="function"?a[l+1]=f:(a.splice(l,3),l-=3),Sm(a)}}}function Mm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function ou(e){this._internalRoot=e}Us.prototype.render=ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,l=Zt();mm(a,l,e,t,null,null)},Us.prototype.unmount=ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mm(e.current,2,null,e,null,null),bs(),t[Gl]=null}};function Us(e){this._internalRoot=e}Us.prototype.unstable_scheduleHydration=function(e){if(e){var t=ku();e={blockedOn:null,target:e,priority:t};for(var a=0;a<dl.length&&t!==0&&t<dl[a].priority;a++);dl.splice(a,0,e),a===0&&bm(e)}};var jm=o.version;if(jm!=="19.2.0")throw Error(u(527,jm,"19.2.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=y(t),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var M0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{ca=Ls.inject(M0),ot=Ls}catch{}}return vi.createRoot=function(e,t){if(!m(e))throw Error(u(299));var a=!1,l="",n=wd,i=kd,r=Ad;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=dm(e,1,!1,null,null,a,l,null,n,i,r,Mm),e[Gl]=t.current,Zr(e),new ou(t)},vi.hydrateRoot=function(e,t,a){if(!m(e))throw Error(u(299));var l=!1,n="",i=wd,r=kd,f=Ad,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),t=dm(e,1,!0,t,a??null,l,n,x,i,r,f,Mm),t.context=fm(null),a=t.current,l=Zt(),l=wn(l),n=Fa(l),n.callback=null,Wa(a,n,l),a=l,t.current.lanes=a,at(t,a),ga(t),e[Gl]=t.current,Zr(e),new Us(t)},vi.version="19.2.0",vi}var Dm;function A0(){if(Dm)return mu.exports;Dm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(o){console.error(o)}}return c(),mu.exports=k0(),mu.exports}var R0=A0();const D0=Qm(R0);function _l(c,o,d){let u,m;return o==="pointy"?(u=d.x*(Math.sqrt(3)*c.q+Math.sqrt(3)/2*c.r),m=d.y*(3/2*c.r)):(u=d.x*(3/2*c.q),m=d.y*(Math.sqrt(3)/2*c.q+Math.sqrt(3)*c.r)),{x:u,y:m}}function Ei(c,o,d=1){const u=[];for(let m=0;m<6;m++){const h=Math.PI/180*(60*m-(c==="pointy"?30:0));u.push({x:o.x*Math.cos(h)*d,y:o.y*Math.sin(h)*d})}return u}function Ni(c,o){const d=o[c],u=o[(c+1)%6];return!d||!u?"":`M ${d.x} ${d.y} L ${u.x} ${u.y}`}function gu(c,o){let d=1/0,u=-1;for(let m=0;m<6;m++){const h=o[m],g=o[(m+1)%6];if(!h||!g)continue;const b=g.x-h.x,p=g.y-h.y,y=((c.x-h.x)*b+(c.y-h.y)*p)/(b*b+p*p),E=y<0?h.x:y>1?g.x:h.x+y*b,N=y<0?h.y:y>1?g.y:h.y+y*p,j=Math.sqrt(Math.pow(c.x-E,2)+Math.pow(c.y-N,2));j<d&&(d=j,u=m)}return u}const _0=[{q:1,r:0},{q:0,r:1},{q:-1,r:1},{q:-1,r:0},{q:0,r:-1},{q:1,r:-1}];function $s(c){return _0.map(o=>({q:c.q+o.q,r:c.r+o.r}))}function Ol(c,o){const d=Math.abs(c.q-o.q),u=Math.abs(c.r-o.r),m=Math.abs(-c.q-c.r-(-o.q-o.r));return(d+u+m)/2}function O0({initialWidth:c,initialHeight:o,minZoom:d=.1,maxZoom:u=10,enabled:m=!0}){const[h,g]=A.useState(`${-c/2} ${-o/2} ${c} ${o}`),[b,p]=A.useState(1),[y,E]=A.useState(!1),N=A.useRef(!1),j=A.useRef({x:0,y:0}),z=A.useRef(null),H=A.useCallback(S=>Math.max(d,Math.min(u,S)),[d,u]),O=A.useCallback(S=>{N.current=S,E(S)},[]),D=A.useCallback(S=>{m&&(S.preventDefault(),O(!0),j.current={x:S.clientX,y:S.clientY})},[m,O]),G=A.useCallback(S=>{if(!N.current)return;const V=S.clientX-j.current.x,$=S.clientY-j.current.y;j.current={x:S.clientX,y:S.clientY},g(T=>{const P=T.split(" ").map(parseFloat),ue=P[0],ie=P[1],se=P[2],J=P[3];return ue===void 0||ie===void 0||se===void 0||J===void 0?T:`${ue-V/b} ${ie-$/b} ${se} ${J}`})},[b]),B=A.useCallback(()=>{O(!1)},[O]),Z=A.useCallback(S=>{if(!m)return;S.preventDefault();const V=z.current;if(!V)return;const $=V.getBoundingClientRect(),T=S.clientX-$.left,P=S.clientY-$.top;p(ue=>{const ie=H(ue*(1-S.deltaY/500));if(ie===ue)return ue;const se=ie/ue,J=ue===0?Number.EPSILON:ue;return g(de=>{const[Re,pe,w,K]=de.split(" ").map(Number);if([Re,pe,w,K].some(L=>Number.isNaN(L)))return de;const ee=w/se,ge=K/se,xe=Re+T/J*(1-1/se),v=pe+P/J*(1-1/se);return`${xe} ${v} ${ee} ${ge}`}),ie})},[H,m]);return A.useEffect(()=>{if(!m)return;const S=$=>G($),V=()=>B();return window.addEventListener("mousemove",S),window.addEventListener("mouseup",V),()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",V)}},[m,G,B]),A.useEffect(()=>{if(!m)return;const S=z.current;if(S)return S.addEventListener("wheel",Z,{passive:!1}),()=>{S.removeEventListener("wheel",Z)}},[m,Z]),{viewbox:h,containerRef:z,onMouseDown:D,isPanning:m?y:!1}}const Jm={realm:{"canvas-backdrop":"#191f29","map-viewport":"#18272e","command-panel-surface":"#324446","command-panel-hover":"#435360","card-surface":"#eaebec"},border:{"panel-divider":"#41403f","holding-marker":"#813a28","landmark-marker":"#3f6e66"},text:{"high-contrast":"#eaebec",muted:"#a7a984",subtle:"#c5d2cb",inverse:"#221f21","accent-headline":"#736b23"},actions:{"command-primary":"#736b23ff","command-primary-hover":"#9d8940","danger-base":"#60131b","danger-hover":"#8a2a34"},feedback:{"info-panel":"#435360","success-highlight":"#777741","mystic-highlight":"#55375d"},mythic:{"myth-glow":"#eece22cc","seat-of-power":"#eece22"},overlay:{scrim:"rgba(0, 0, 0, 0.7)"},terrain:{marsh:{base:"#324446",deepwater:"#324446"},heath:{base:"#777741",brush:"#777741"},crags:{base:"#18272e",stone:"#18272e"},peaks:{base:"#41403f",ridge:"#41403f"},forest:{base:"#777741",canopy:"#777741"},valley:{base:"#a7a984",meander:"#a7a984"},hills:{base:"#9d8940",rise:"#9d8940"},meadow:{base:"#eaebec",bloom:"#eaebec"},bog:{base:"#18272e",hollows:"#18272e"},lakes:{base:"#3f6e66",surface:"#3f6e66"},glades:{base:"#c5d2cb",light:"#c5d2cb"},plain:{base:"#a7a984",expanse:"#a7a984"}}},$m=(c,o=[])=>Object.entries(c).reduce((d,[u,m])=>{const h=[...o,u].join("-");return typeof m=="string"?(d[h]=m,d):(Object.assign(d,$m(m,[...o,u])),d)},{}),wu=$m(Jm),_m=/^#(?:[0-9a-f]{3}|[0-9a-f]{6})$/i,ql=c=>{const o=c.trim(),d=wu[o];return d?_m.test(d)?d.toUpperCase():d:_m.test(o)?o.toUpperCase():o},q0=c=>`terrain-${c}-base`,Fm=c=>{var o;return((o=wu[q0(c)])==null?void 0:o.toUpperCase())??"#CCCCCC"},Ht=wu,Qt=Object.fromEntries(Object.keys(Jm.terrain).map(c=>[c,Ht[`terrain-${c}-base`]])),H0=Ht["mythic-myth-glow"],Ks=Ht["actions-danger-base"],zi=Ht["actions-command-primary"],B0=Ht["mythic-seat-of-power"],U0=Ht["border-holding-marker"],L0=Ht["border-landmark-marker"],G0=Ht["text-inverse"];Ht["text-high-contrast"];const Y0=Ht["realm-card-surface"],V0=Ht["border-panel-divider"];Ht["realm-command-panel-surface"];Ht["feedback-success-highlight"];const Xs="rgba(234, 235, 236, 0.2)",Wm=1,Zs={holdings:{},seatOfPower:!0,landmarks:{},myths:{},showBarriers:!1},En=12,hl=["marsh","heath","crags","peaks","forest","valley","hills","meadow","bog","lakes","glades","plain"],X0=["peaks","crags","hills","heath","forest","meadow","plain","glades","valley","marsh","bog","lakes"],Z0=["castle","city","town","village"],Q0=["dwelling","sanctum","monument","hazard","curse","ruins"],K0=1/6,J0=["tree-pine","leaf","feather","flower","grass","sprout","shrub","triangle","waves","droplet","sun","wind","star","sparkle","cloud","rock","flag","snowflake","branch","river","path","wave-sine","chevron-up","skull","fish","tree-deciduous","sparkles"],ft=5,Fs=c=>{const o=[];for(let d=0;d<ft;d++)for(let u=0;u<ft;u++)o.push(c(u,d)?1:0);return o},zn=Math.floor(ft/2),Gs=Fs((c,o)=>Math.abs(c-zn)<=1&&Math.abs(o-zn)<=1),xu=Fs((c,o)=>Math.sqrt(Math.pow(c-zn,2)+Math.pow(o-zn,2))>zn*.7),$0=Fs((c,o)=>Math.abs(o-zn)<=1),ji=Fs(()=>!0),Je={marsh:{icons:["droplet","feather","waves"],settings:{mode:"random",density:5,sizeMin:10,sizeMax:14,opacityMin:.75,opacityMax:.95,color:"text-high-contrast",placementMask:ji,centerBias:.1,minSeparation:5,scaleVariance:.5}},heath:{icons:["leaf","grass","wind"],settings:{density:3,sizeMin:10,sizeMax:12,opacityMin:.55,opacityMax:.85,color:"text-inverse",placementMask:ji,centerBias:.05,minSeparation:8,scaleVariance:.35}},crags:{icons:["triangle","rock","flag"],settings:{mode:"grid",sizeMin:12,sizeMax:16,opacityMin:.8,opacityMax:.9,color:"text-high-contrast",placementMask:xu,gridDensity:3,gridSize:.85,gridJitter:.15,gridBaseRotation:-20,gridRotationRange:8,iconBaseRotation:-5,scaleVariance:.25}},peaks:{icons:["triangle","flag","snowflake"],settings:{mode:"grid",sizeMin:14,sizeMax:18,opacityMin:.75,opacityMax:.95,color:"text-high-contrast",placementMask:xu,gridDensity:2,gridSize:.9,gridJitter:.05,gridBaseRotation:12,gridRotationRange:12,iconBaseRotation:0,scaleVariance:.2}},forest:{icons:["tree-pine","leaf","branch"],settings:{density:6,sizeMin:11,sizeMax:13,opacityMin:.85,opacityMax:1,color:"text-inverse",placementMask:ji,centerBias:.2,minSeparation:5,scaleVariance:.45}},valley:{icons:["river","path","sprout"],settings:{density:3,sizeMin:10,sizeMax:12,opacityMin:.65,opacityMax:.85,color:"text-inverse",placementMask:$0,centerBias:.4,minSeparation:6,scaleVariance:.4}},hills:{icons:["wave-sine","chevron-up","rock"],settings:{density:3,sizeMin:11,sizeMax:14,opacityMin:.7,opacityMax:.9,color:"text-inverse",placementMask:ji,centerBias:.15,minSeparation:7,scaleVariance:.35}},meadow:{icons:["flower","grass","sun"],settings:{density:2,sizeMin:12,sizeMax:14,opacityMin:.55,opacityMax:.75,color:"text-inverse",placementMask:Gs,centerBias:.3,minSeparation:10,scaleVariance:.4}},bog:{icons:["droplet","skull","feather"],settings:{density:4,sizeMin:10,sizeMax:13,opacityMin:.6,opacityMax:.85,color:"text-high-contrast",placementMask:xu,centerBias:.05,minSeparation:6,scaleVariance:.45}},lakes:{icons:["waves","droplet","fish"],settings:{mode:"grid",density:3,sizeMin:12,sizeMax:16,opacityMin:.55,opacityMax:.75,color:"text-high-contrast",placementMask:Gs,gridDensity:3,gridSize:.8,gridJitter:.1,gridBaseRotation:0,gridRotationRange:6,iconBaseRotation:0,scaleVariance:.3}},glades:{icons:["tree-deciduous","sparkles","sun"],settings:{mode:"grid",density:3,sizeMin:11,sizeMax:13,opacityMin:.65,opacityMax:.85,color:"text-inverse",placementMask:Gs,gridDensity:3,gridSize:.7,gridJitter:.2,gridBaseRotation:0,gridRotationRange:10,iconBaseRotation:0,centerBias:.2,scaleVariance:.35}},plain:{icons:["wind","cloud","grass"],settings:{density:2,sizeMin:10,sizeMax:12,opacityMin:.5,opacityMax:.7,color:"text-inverse",placementMask:Gs,centerBias:.2,minSeparation:12,scaleVariance:.3}}},pt={mode:"random",density:3,sizeMin:10,sizeMax:10,opacityMin:1,opacityMax:1,color:Ht["text-inverse"],placementMask:ji,centerBias:0,minSeparation:0,gridDensity:3,gridSize:.75,gridJitter:.1,gridBaseRotation:0,scaleVariance:.4,gridRotationRange:20,iconBaseRotation:0,seedOffset:0},Js={terrain:[{id:"marsh",label:"Marsh",icon:"droplet",color:Qt.marsh,description:"Sodden lowlands thick with reeds and standing water. Travel is slow, but the damp earth hides secrets and strange wildlife.",sprayIcons:[...Je.marsh.icons],spraySettings:{...pt,...Je.marsh.settings}},{id:"heath",label:"Heath",icon:"leaf",color:Qt.heath,description:"Open scrubland swept by relentless winds and hardy brush. A liminal place where travelers can see danger coming from afar.",sprayIcons:[...Je.heath.icons],spraySettings:{...pt,...Je.heath.settings}},{id:"crags",label:"Crags",icon:"triangle",color:Qt.crags,description:"Jagged highlands broken into cliffs of bare stone. Treacherous footing rewards climbers with stunning vantage points.",sprayIcons:[...Je.crags.icons],spraySettings:{...pt,...Je.crags.settings}},{id:"peaks",label:"Peaks",icon:"mountains",color:Qt.peaks,description:"Towering mountain summits often crowned with snow. Thin air and frigid winds shelter ancient shrines and nesting wyverns.",sprayIcons:[...Je.peaks.icons],spraySettings:{...pt,...Je.peaks.settings}},{id:"forest",label:"Forest",icon:"trees",color:Qt.forest,description:"Dense woodland of towering trunks and tangled undergrowth. Sunlight filters through the canopy, alive with birdsong and hidden paths.",sprayIcons:[...Je.forest.icons],spraySettings:{...pt,...Je.forest.settings}},{id:"valley",label:"Valley",icon:"curve",color:Qt.valley,description:"Sheltered lowlands carved by rivers and gentle slopes. Trade roads follow the water, drawing settlements and fertile farms.",sprayIcons:[...Je.valley.icons],spraySettings:{...pt,...Je.valley.settings}},{id:"hills",label:"Hills",icon:"hill",color:Qt.hills,description:"Rolling uplands of ridgelines and wind-swept rises. Shepherds and watchtowers cling to the heights to guard the realm.",sprayIcons:[...Je.hills.icons],spraySettings:{...pt,...Je.hills.settings}},{id:"meadow",label:"Meadow",icon:"flower",color:Qt.meadow,description:"Lush grasslands dotted with bright wildflowers. Ideal for foraging and grazing, these fields invite festivals in the warm months.",sprayIcons:[...Je.meadow.icons],spraySettings:{...pt,...Je.meadow.settings}},{id:"bog",label:"Bog",icon:"droplets",color:Qt.bog,description:"Peat-choked wetlands that cling to unwary travelers. Lantern lights drift across the mist, not all of them friendly.",sprayIcons:[...Je.bog.icons],spraySettings:{...pt,...Je.bog.settings}},{id:"lakes",label:"Lakes",icon:"waves",color:Qt.lakes,description:"Deep inland waters fed by streams and hidden springs. Fisherfolk ply their trade while legends speak of things beneath the surface.",sprayIcons:[...Je.lakes.icons],spraySettings:{...pt,...Je.lakes.settings}},{id:"glades",label:"Glades",icon:"sun",color:Qt.glades,description:"Sunlit clearings cradled within surrounding trees. Sacred stones and hidden gatherings are said to appear under moonlight.",sprayIcons:[...Je.glades.icons],spraySettings:{...pt,...Je.glades.settings}},{id:"plain",label:"Plain",icon:"wind",color:Qt.plain,description:"Wide, open flatlands stretching toward distant horizons. Armies march here, but so do caravans and migrating herds.",sprayIcons:[...Je.plain.icons],spraySettings:{...pt,...Je.plain.settings}}],holding:[{id:"castle",label:"Castle",icon:"castle"},{id:"city",label:"City",icon:"city"},{id:"town",label:"Town",icon:"town"},{id:"village",label:"Village",icon:"village"}],landmark:[{id:"dwelling",label:"Dwelling",icon:"dwelling"},{id:"sanctum",label:"Sanctum",icon:"sanctum"},{id:"monument",label:"Monument",icon:"monument"},{id:"hazard",label:"Hazard",icon:"hazard"},{id:"curse",label:"Curse",icon:"curse"},{id:"ruins",label:"Ruins",icon:"ruins"}]},F0=[{id:"myth",label:"Myth",icon:"sparkle"},{id:"seatOfPower",label:"Seat of Power",icon:"crown"}],tt={self:.75,strong:.6,moderate:.4,weak:.2,none:0},Tn={};hl.forEach(c=>{Tn[c]={},hl.forEach(d=>{const u=Tn[c];u&&(u[d]=tt.weak)});const o=Tn[c];o&&(o[c]=tt.self)});const ut=(c,o,d)=>{const u=Tn[c],m=Tn[o];u&&m&&(u[o]=d,m[c]=d)};ut("peaks","crags",tt.strong);ut("peaks","hills",tt.moderate);ut("crags","hills",tt.strong);ut("lakes","marsh",tt.strong);ut("lakes","bog",tt.moderate);ut("marsh","bog",tt.strong);ut("plain","meadow",tt.strong);ut("plain","heath",tt.strong);ut("plain","valley",tt.moderate);ut("meadow","glades",tt.moderate);ut("valley","hills",tt.moderate);ut("forest","hills",tt.moderate);ut("forest","glades",tt.strong);ut("forest","valley",tt.moderate);ut("hills","plain",tt.moderate);ut("hills","meadow",tt.moderate);ut("peaks","marsh",tt.none);ut("peaks","bog",tt.none);ut("peaks","lakes",tt.none);ut("crags","lakes",tt.none);const bu=Tn,Im={marsh:5,heath:10,crags:5,peaks:5,forest:15,valley:5,hills:15,meadow:10,bog:5,lakes:5,glades:5,plain:10},W0={balanced:{name:"Balanced Realm",options:{highlandFormation:"linear",highlandFormationStrength:.7,highlandFormationRotation:0,terrainRoughness:.5,terrainBiases:{...Im}}},jagged:{name:"Jagged Peaks",options:{highlandFormation:"circle",highlandFormationStrength:1,highlandFormationRotation:0,terrainRoughness:.8,terrainBiases:{marsh:1,heath:2,crags:20,peaks:25,forest:5,valley:3,hills:20,meadow:2,bog:1,lakes:1,glades:2,plain:5}}},lush:{name:"Lush Lowlands",options:{highlandFormation:"linear",highlandFormationStrength:.5,highlandFormationRotation:180,terrainRoughness:.25,terrainBiases:{marsh:15,heath:5,crags:1,peaks:1,forest:25,valley:10,hills:5,meadow:8,bog:10,lakes:10,glades:8,plain:12}}},sunkenCaldera:{name:"Sunken Caldera",options:{highlandFormation:"circle",highlandFormationStrength:1,highlandFormationInverse:!0,terrainRoughness:.75,terrainBiases:{marsh:5,heath:2,crags:20,peaks:25,forest:3,valley:5,hills:15,meadow:1,bog:10,lakes:15,glades:1,plain:2}}}};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pm=(...c)=>c.filter((o,d,u)=>!!o&&u.indexOf(o)===d).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=A.forwardRef(({color:c="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:u,className:m="",children:h,iconNode:g,...b},p)=>A.createElement("svg",{ref:p,...P0,width:o,height:o,stroke:c,strokeWidth:u?Number(d)*24/Number(o):d,className:Pm("lucide",m),...b},[...g.map(([y,E])=>A.createElement(y,E)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(c,o)=>{const d=A.forwardRef(({className:u,...m},h)=>A.createElement(ey,{ref:h,iconNode:o,className:Pm(`lucide-${I0(c)}`,u),...m}));return d.displayName=`${c}`,d};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=le("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=le("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=le("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=le("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4",key:"1k4jtn"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=le("Church",[["path",{d:"M10 9h4",key:"u4k05v"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M14 22v-4a2 2 0 0 0-4 0v4",key:"1pdhuj"}],["path",{d:"M18 22V5.618a1 1 0 0 0-.553-.894l-4.553-2.277a2 2 0 0 0-1.788 0L6.553 4.724A1 1 0 0 0 6 5.618V22",key:"1rkokr"}],["path",{d:"m18 7 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.618a1 1 0 0 1 .553-.894L6 7",key:"1w6esw"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=le("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=le("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=le("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=le("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=le("DoorClosed",[["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}],["path",{d:"M14 12v.01",key:"xfcn54"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=le("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=le("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=le("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=le("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=le("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=le("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=le("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=le("Flower",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=le("Framer",[["path",{d:"M5 16V9h14V2H5l14 14h-7m-7 0 7 7v-7m-7 0h7",key:"1a2nng"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=le("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=le("GitBranchPlus",[["path",{d:"M6 3v12",key:"qpgusn"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"1d02ji"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"chk6ph"}],["path",{d:"M15 6a9 9 0 0 0-9 9",key:"or332x"}],["path",{d:"M18 15v6",key:"9wciyi"}],["path",{d:"M21 18h-6",key:"139f0c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=le("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=le("ImageDown",[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=le("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=le("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=le("MountainSnow",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}],["path",{d:"M4.14 15.08c2.62-1.57 5.24-1.43 7.86.42 2.74 1.94 5.49 2 8.23.19",key:"1pvmmp"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=le("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=le("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=le("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=le("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=le("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=le("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=le("Shrub",[["path",{d:"M12 22v-7l-2-2",key:"eqv9mc"}],["path",{d:"M17 8v.8A6 6 0 0 1 13.8 20H10A6.5 6.5 0 0 1 7 8a5 5 0 0 1 10 0Z",key:"ubcgy"}],["path",{d:"m14 14-2 2",key:"847xa2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=le("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=le("Slice",[["path",{d:"m8 14-6 6h9v-3",key:"zo3j9a"}],["path",{d:"M18.37 3.63 8 14l3 3L21.37 6.63a2.12 2.12 0 1 0-3-3Z",key:"1dzx0j"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=le("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=le("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=le("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=le("Spline",[["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=le("SprayCan",[["path",{d:"M3 3h.01",key:"159qn6"}],["path",{d:"M7 5h.01",key:"1hq22a"}],["path",{d:"M11 7h.01",key:"1osv80"}],["path",{d:"M3 7h.01",key:"1xzrh3"}],["path",{d:"M7 9h.01",key:"19b3jx"}],["path",{d:"M3 11h.01",key:"1eifu7"}],["rect",{width:"4",height:"4",x:"15",y:"5",key:"mri9e4"}],["path",{d:"m19 9 2 2v10c0 .6-.4 1-1 1h-6c-.6 0-1-.4-1-1V11l2-2",key:"aib6hk"}],["path",{d:"m13 14 8-2",key:"1d7bmk"}],["path",{d:"m13 19 8-2",key:"1y2vml"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=le("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=le("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=le("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=le("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=le("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=le("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=le("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=le("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=le("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eh={sparkles:Fy,settings:Vy,grid:Ty,undo:sp,redo:Gy,eye:gy,upload:vy,download:by,"image-down":ky,sun:ep,moon:Oy,"mouse-pointer-2":qy,brush:ny,"barrier-painter":Qy,"map-pin-pen":Dy,sparkle:$y,close:op,crown:hy,plus:Ly,minus:_y,"chevron-up":ry,"chevron-down":cy,move:Hy,"trash-2":ap,pipette:Uy,reset:Yy,star:Py,"help-circle":oy,info:Ay,network:By,compass:my,"arrow-up":ay,circle:dy,"spray-can":Wy,"grip-vertical":zy,sliders:Ky,trees:Um,leaf:qm,mountain:Bm,mountains:Hm,waves:cp,water:Om,"mountain-range":Hm,tree:Um,droplet:py,triangle:ip,hill:Bm,flower:jy,droplets:Om,wind:up,"tree-pine":lp,curve:vu,feather:xy,cloud:fy,grass:rp,sprout:Iy,shrub:Xy,flag:My,snowflake:Jy,branch:Ey,river:vu,path:vu,"wave-sine":ty,skull:Zy,fish:Sy,rock:Cy,"tree-deciduous":qm,castle:sy,city:iy,town:wy,village:tp,dwelling:yy,sanctum:uy,monument:Ry,hazard:np,curse:ly,ruins:Ny},ye=({name:c,...o})=>{const d=eh[c];return d?s.jsx(d,{strokeWidth:1.5,...o}):null},dp=({icon:c,label:o,isActive:d,onClick:u})=>s.jsx("button",{onClick:u,className:`p-3 rounded-lg transition-colors duration-150 ${d?"bg-actions-command-primary text-text-high-contrast":"bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover"}`,"aria-label":o,title:o,children:s.jsx(ye,{name:c,className:"w-6 h-6"})});function fp({activeTool:c,setActiveTool:o}){const d=[{id:"select",icon:"mouse-pointer-2",label:"Select Tool"},{id:"terrain",icon:"brush",label:"Terrain Painter"},{id:"barrier",icon:"barrier-painter",label:"Barrier Painter"},{id:"poi",icon:"map-pin-pen",label:"Points of Interest Painter"},{id:"myth",icon:"sparkle",label:"Myth Tool"}];return s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-2 p-2 bg-realm-canvas-backdrop/80 border border-border-panel-divider rounded-xl shadow-lg z-10",children:d.map(u=>s.jsx(dp,{icon:u.icon,label:u.label,isActive:c===u.id,onClick:()=>o(u.id)},u.id))})}const Ys=({keys:c,description:o})=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center",children:c.map((d,u)=>s.jsxs(Ti.Fragment,{children:[s.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-realm-command-panel-surface font-sans",children:d}),u<c.length-1&&s.jsx("span",{className:"mx-1",children:"+"})]},d))}),s.jsx("span",{children:o})]});function mp(){return s.jsxs("div",{className:"absolute bottom-4 left-4 bg-realm-canvas-backdrop/80 border border-border-panel-divider p-3 rounded-lg shadow-lg text-xs text-text-muted z-10 pointer-events-none space-y-2",children:[s.jsx(Ys,{keys:["Space"],description:"Pan Map"}),s.jsx(Ys,{keys:["Ctrl","Z"],description:"Undo"}),s.jsx(Ys,{keys:["Ctrl","Y"],description:"Redo"}),s.jsx(Ys,{keys:["Ctrl","I"],description:"Pipette Tool"})]})}const hp=({points:c,activeTool:o,isPickingTile:d})=>{const u=["select","poi","myth"].includes(o)&&!d;return s.jsx("polygon",{points:c.map(m=>`${m.x},${m.y}`).join(" "),fill:"none",stroke:zi,strokeOpacity:"0.8",strokeWidth:"2.5",strokeLinejoin:"round",className:`hex-hover-highlight opacity-0 ${u?"group-hover:opacity-100":""} transition-opacity duration-150`,style:{pointerEvents:"none"}})},yp=({activeTile:c,hexCorners:o,viewOptions:d,isSeatOfPower:u,isHolding:m})=>{if(!(c!=null&&c.icon))return null;const h=u?B0:m?U0:L0;return s.jsxs("g",{style:{pointerEvents:"none"},children:[s.jsx("polygon",{points:o.map(g=>`${g.x},${g.y}`).join(" "),transform:"scale(0.75)",fill:Y0,stroke:h,strokeWidth:u?6/.75:4/.75,strokeLinejoin:"round"}),s.jsx(ye,{name:c.icon,x:-d.hexSize.x*.4,y:-d.hexSize.y*.4,width:d.hexSize.x*.8,height:d.hexSize.y*.8,className:"text-text-inverse",strokeWidth:2})]})},pp=({points:c,isSelected:o,activeTool:d})=>!o||d==="barrier"?null:s.jsx("polygon",{points:c.map(u=>`${u.x},${u.y}`).join(" "),fill:"none",stroke:zi,strokeWidth:4,strokeLinejoin:"round",className:"hex-selection-highlight",style:{pointerEvents:"none"}}),gp=({mythId:c,showMyths:o,hexSize:d})=>!o||!c?null:s.jsxs("g",{style:{pointerEvents:"none"},children:[s.jsx("circle",{r:d.x*.3,fill:H0}),s.jsx("text",{textAnchor:"middle",dy:".3em",fill:G0,className:"font-myth-number text-[1.8em]",children:c})]}),xp=({barrierEdges:c,hexCorners:o,barrierColor:d,showBarriers:u})=>!u||c.length===0?null:s.jsx("g",{style:{pointerEvents:"none"},children:c.map(m=>s.jsx("path",{d:Ni(m,o),stroke:d,strokeWidth:"6",strokeLinecap:"round"},m))}),bp=({textureUrl:c,hexBoundingBox:o,hexCorners:d,showGrid:u,gridColor:m,gridWidth:h})=>s.jsxs(s.Fragment,{children:[c?s.jsx("image",{href:c,x:o.x,y:o.y,width:o.width,height:o.height,clipPath:"url(#hex-clip-path)",preserveAspectRatio:"xMidYMid slice"}):s.jsx("polygon",{points:d.map(g=>`${g.x},${g.y}`).join(" "),fill:"#FF00FF"}),u&&s.jsx("polygon",{points:d.map(g=>`${g.x},${g.y}`).join(" "),fill:"none",stroke:m,strokeWidth:h,style:{pointerEvents:"none"}})]}),th=Ti.memo(({hex:c,viewOptions:o,tileSets:d,terrainTextures:u,barrierColor:m,isSelected:h,isSeatOfPower:g,isSpacePanActive:b,activeTool:p,isPickingTile:y,onMouseDown:E,onMouseMove:N,hexCorners:j,hexCornersInnerHighlight:z,hexBoundingBox:H,layer:O})=>{const D=_l(c,o.orientation,o.hexSize),G=o.visibility.knight,B=o.isGmView,Z=A.useMemo(()=>c.holding?d.holding.find(w=>w.id===c.holding):null,[c.holding,d.holding]),S=A.useMemo(()=>c.landmark?d.landmark.find(w=>w.id===c.landmark):null,[c.landmark,d.landmark]),V=Z?G.holdings[Z.id]:void 0,$=Z&&(B||(V??!0))?Z:null,T=S?G.landmarks[S.id]:void 0,ue=$??(S&&(B||(T??!0))?S:null),ie=!!$,se=g&&(B||G.seatOfPower),J=B||!c.myth?!0:G.myths[c.myth]??!0,de=B||G.showBarriers,Re=u?u[c.terrain]:null;let pe="";if(Re){let w;o.showIconSpray?w=Re.withSpray:w=Re.withoutSpray,pe=w}return s.jsxs("g",{transform:`translate(${D.x}, ${D.y})`,onMouseDown:w=>E(c,w),onMouseMove:w=>N(c,w),className:"group",style:{pointerEvents:b?"none":"auto"},children:[O==="background"&&s.jsxs(s.Fragment,{children:[s.jsx(bp,{textureUrl:pe,hexBoundingBox:H,hexCorners:j,showGrid:o.showGrid,gridColor:o.gridColor,gridWidth:o.gridWidth}),s.jsx(yp,{activeTile:ue,hexCorners:j,viewOptions:o,isSeatOfPower:se,isHolding:ie}),s.jsx(gp,{mythId:c.myth,showMyths:J,hexSize:o.hexSize})]}),O==="foreground"&&s.jsxs(s.Fragment,{children:[s.jsx("polygon",{points:j.map(w=>`${w.x},${w.y}`).join(" "),fill:"transparent",stroke:"none"}),s.jsx(hp,{points:z,activeTool:p,isPickingTile:y}),s.jsx(pp,{points:z,isSelected:h,activeTool:p}),s.jsx(xp,{barrierEdges:c.barrierEdges,hexCorners:j,barrierColor:m,showBarriers:de})]})]})});th.displayName="Hexagon";function ah({realm:c,onUpdateHex:o,viewOptions:d,selectedHex:u,onHexClick:m,activeTool:h,setActiveTool:g,paintTerrain:b,paintPoi:p,onAddMyth:y,onRemoveMyth:E,relocatingMythId:N,onRelocateMyth:j,onSetSeatOfPower:z,tileSets:H,barrierColor:O,isSettingsOpen:D,isPickingTile:G,onTilePick:B,setConfirmation:Z,terrainTextures:S,isLoadingTextures:V,svgId:$="hex-grid-svg",isInteractive:T=!0,staticPadding:P}){const{viewbox:ue,containerRef:ie,onMouseDown:se,isPanning:J}=O0({initialWidth:1e3,initialHeight:800,minZoom:.2,maxZoom:5,enabled:T}),de=A.useMemo(()=>Ei(d.orientation,d.hexSize),[d.orientation,d.hexSize]),Re=A.useMemo(()=>Ei(d.orientation,d.hexSize,.9),[d.orientation,d.hexSize]),pe=A.useMemo(()=>{const I=de.map(Ie=>Ie.x),re=de.map(Ie=>Ie.y),he=Math.min(...I),_e=Math.min(...re),Ne=Math.max(...I),De=Math.max(...re);return{x:he,y:_e,width:Ne-he,height:De-_e}},[de]),[w,K]=A.useState(!1),[ee,ge]=A.useState(new Map),xe=A.useRef("add"),v=A.useMemo(()=>new Map(c.hexes.map(I=>[`${I.q},${I.r}`,I])),[c.hexes]),L=A.useMemo(()=>{if(T)return null;const I=P??Math.max(d.hexSize.x,d.hexSize.y);if(!c.hexes.length)return`${pe.x-I} ${pe.y-I} ${pe.width+I*2} ${pe.height+I*2}`;let re=Number.POSITIVE_INFINITY,he=Number.POSITIVE_INFINITY,_e=Number.NEGATIVE_INFINITY,Ne=Number.NEGATIVE_INFINITY;if(c.hexes.forEach(gt=>{const sa=_l(gt,d.orientation,d.hexSize),Ke=sa.x+pe.x,Ga=Ke+pe.width,Tt=sa.y+pe.y,Jt=Tt+pe.height;Ke<re&&(re=Ke),Tt<he&&(he=Tt),Ga>_e&&(_e=Ga),Jt>Ne&&(Ne=Jt)}),!Number.isFinite(re)||!Number.isFinite(he)||!Number.isFinite(_e)||!Number.isFinite(Ne))return`${pe.x-I} ${pe.y-I} ${pe.width+I*2} ${pe.height+I*2}`;const De=_e-re,Ie=Ne-he;return`${re-I} ${he-I} ${De+I*2} ${Ie+I*2}`},[pe.height,pe.width,pe.x,pe.y,T,c.hexes,P,d.hexSize,d.orientation]),F=T?ue:L??ue,te=A.useRef(null),[me,Se]=A.useState(!1),[be,Ze]=A.useState(null);A.useEffect(()=>{if(!T){Se(!1);return}const I=he=>{he.target.tagName!=="INPUT"&&he.code==="Space"&&!he.repeat&&(he.preventDefault(),Se(!0))},re=he=>{he.code==="Space"&&(he.preventDefault(),Se(!1))};return window.addEventListener("keydown",I),window.addEventListener("keyup",re),()=>{window.removeEventListener("keydown",I),window.removeEventListener("keyup",re)}},[T]),A.useEffect(()=>{const I=ie.current;if(!I)return;const re=["cursor-pipette","cursor-terrain-hover"];if(I.classList.remove(...re),I.style.cursor="",!!T)if(G)I.classList.add("cursor-pipette");else if(me)I.style.cursor=J?"grabbing":"grab";else if(N!==null)I.style.cursor="move";else switch(h){case"select":I.style.cursor="pointer";break;case"terrain":I.classList.add("cursor-terrain-hover");break;case"myth":case"barrier":case"poi":I.style.cursor="crosshair";break;default:I.style.cursor="default"}},[T,G,me,J,N,h,ie]);const Ge=A.useMemo(()=>{if(ee.size===0)return c.hexes;const I=new Map(c.hexes.map(re=>[`${re.q},${re.r}`,re]));return ee.forEach((re,he)=>I.set(he,re)),Array.from(I.values())},[c.hexes,ee]),Bt=A.useCallback((I,re)=>{T&&(h!=="terrain"&&h!=="barrier"||ge(he=>{const _e=(Ie,gt)=>he.get(`${Ie},${gt}`)||v.get(`${Ie},${gt}`),Ne=_e(I.q,I.r);if(!Ne)return he;const De=new Map(he);if(h==="terrain"){if(Ne.terrain===b)return he;De.set(`${I.q},${I.r}`,{...Ne,terrain:b})}else if(h==="barrier"&&re&&te.current){const Ie=_l(I,d.orientation,d.hexSize),gt=te.current.createSVGPoint();gt.x=re.clientX,gt.y=re.clientY;const sa=te.current.getScreenCTM();if(!sa)return he;const Ke=gt.matrixTransform(sa.inverse()),Ga={x:Number(Ke.x)-Number(Ie.x),y:Number(Ke.y)-Number(Ie.y)},Tt=gu(Ga,de),Jt=xe.current==="add",Sa=Ne.barrierEdges.includes(Tt);if(Jt&&Sa||!Jt&&!Sa)return he;const Bl=Jt?[...Ne.barrierEdges,Tt]:Ne.barrierEdges.filter(ma=>ma!==Tt);De.set(`${I.q},${I.r}`,{...Ne,barrierEdges:[...new Set(Bl)].sort((ma,ca)=>ma-ca)});const fa=$s(I)[Tt];if(!fa)return De;const Ya=_e(fa.q,fa.r);if(Ya){const ma=(Number(Tt)+3)%6,ca=Jt?[...Ya.barrierEdges,ma]:Ya.barrierEdges.filter(ot=>ot!==ma);De.set(`${fa.q},${fa.r}`,{...Ya,barrierEdges:[...new Set(ca)].sort((ot,$t)=>ot-$t)})}}return De}))},[T,h,b,v,d.orientation,d.hexSize,de]),La=A.useCallback((I,re)=>{if(!T||re.button!==0)return;if(G){re.stopPropagation(),re.preventDefault(),B(I);return}if(N!==null){re.stopPropagation(),re.preventDefault();const _e=c.hexes.find(Ne=>Ne.q===I.q&&Ne.r===I.r);_e&&j(N,_e);return}if(h==="select"){m(I);return}re.stopPropagation(),re.preventDefault();const he=v.get(`${I.q},${I.r}`);if(he){if(h==="myth"){he.myth?m(he):y(he,!0);return}if(h==="poi"&&p){const[_e,Ne]=p.split(":");if(typeof Ne>"u")return;if(_e==="action")Ne==="myth"?he.myth?E(he):y(he):Ne==="seatOfPower"&&(he.holding?z(he):Z({isOpen:!0,title:"Invalid Action",message:"Seat of Power can only be set on a hex with a holding.",onConfirm:()=>Z(null),isInfo:!0}));else{const De={...he};_e==="holding"?(De.holding===Ne?delete De.holding:De.holding=Ne,delete De.landmark):_e==="landmark"&&(De.landmark===Ne?delete De.landmark:De.landmark=Ne,delete De.holding),o([De])}return}if(h==="terrain"||h==="barrier"){if(K(!0),h==="barrier"&&te.current){const _e=_l(I,d.orientation,d.hexSize),Ne=te.current.createSVGPoint();Ne.x=re.clientX,Ne.y=re.clientY;const De=te.current.getScreenCTM();if(!De)return;const Ie=Ne.matrixTransform(De.inverse()),gt={x:Ie.x-_e.x,y:Ie.y-_e.y},sa=gu(gt,de),Ke=ee.get(`${I.q},${I.r}`)||he;xe.current=Ke!=null&&Ke.barrierEdges.includes(sa)?"remove":"add"}Bt(I,re)}}},[T,G,B,N,c.hexes,j,h,m,v,y,p,E,z,Z,o,d.orientation,d.hexSize,de,ee,Bt]),va=A.useCallback(()=>{T&&w&&(K(!1),ee.size>0&&o(Array.from(ee.values())),ge(new Map))},[T,w,o,ee]),yl=A.useCallback((I,re)=>{if(!T)return;if(w&&Bt(I,re),h!=="barrier"||w){be&&Ze(null);return}if(!te.current)return;const he=_l(I,d.orientation,d.hexSize),_e=te.current.createSVGPoint();_e.x=re.clientX,_e.y=re.clientY;const Ne=te.current.getScreenCTM();if(!Ne)return;const De=_e.matrixTransform(Ne.inverse()),Ie={x:De.x-he.x,y:De.y-he.y},gt=gu(Ie,de);(!be||be.q!==I.q||be.r!==I.r||be.edge!==gt)&&Ze({q:I.q,r:I.r,edge:gt})},[h,T,w,d.orientation,d.hexSize,de,be,Bt]);if(V||!S)return s.jsx("div",{className:"flex items-center justify-center h-full text-text-muted",children:s.jsx("p",{children:"Loading terrain textures..."})});const Kt=I=>Ge.map(re=>{const he=u?re.q===u.q&&re.r===u.r:!1,_e=!!(re.holding&&re.q===c.seatOfPower.q&&re.r===c.seatOfPower.r);return s.jsx(th,{hex:re,viewOptions:d,tileSets:H,terrainTextures:S,barrierColor:O,isSelected:he,isSeatOfPower:_e,isSpacePanActive:me,activeTool:h,isPickingTile:G,onMouseDown:La,onMouseMove:yl,hexCorners:de,hexCornersInnerHighlight:Re,hexBoundingBox:pe,layer:I},`hex-${I}-${re.q}-${re.r}`)});return s.jsxs("div",{ref:ie,className:"w-full h-full overflow-hidden bg-realm-map-viewport relative",children:[s.jsxs("svg",{ref:te,id:$,className:"w-full h-full",viewBox:F,onMouseDown:!T||G?void 0:se,onMouseUp:T?va:void 0,onMouseLeave:T?()=>{va(),Ze(null)}:void 0,children:[s.jsx("defs",{children:s.jsx("clipPath",{id:"hex-clip-path",children:s.jsx("polygon",{points:de.map(I=>`${I.x},${I.y}`).join(" ")})})}),s.jsx("g",{children:Kt("background")}),s.jsx("g",{children:Kt("foreground")}),T&&be&&h==="barrier"&&!w&&s.jsx("g",{style:{pointerEvents:"none"},children:(()=>{const I=v.get(`${be.q},${be.r}`);return I?s.jsx("g",{transform:`translate(${_l(I,d.orientation,d.hexSize).x}, ${_l(I,d.orientation,d.hexSize).y})`,children:s.jsx("path",{d:Ni(be.edge,de),stroke:zi,strokeOpacity:"0.8",strokeWidth:"8",strokeLinecap:"round"})}):null})()})]}),!D&&s.jsx(fp,{activeTool:h,setActiveTool:g}),!D&&s.jsx(mp,{})]})}const xa=Ti.forwardRef(({onClick:c,icon:o,children:d,disabled:u,isActive:m,title:h},g)=>s.jsxs("button",{ref:g,onClick:c,className:`flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-h-[2.34rem] ${m?"bg-actions-command-primary text-text-high-contrast":"bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover"}`,disabled:u,title:h,children:[s.jsx(ye,{name:o,className:"w-4 h-4"}),d]}));xa.displayName="ToolbarButton";const Vs=({icon:c,label:o,isActive:d,onClick:u})=>s.jsxs("button",{onClick:u,className:`flex items-center gap-3 w-full text-left p-3 rounded-md transition-colors ${d?"bg-actions-command-primary text-text-high-contrast":"text-text-muted hover:bg-realm-command-panel-surface"}`,children:[s.jsx(ye,{name:c,className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:o})]}),ba=({title:c,children:o})=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-md font-semibold text-text-high-contrast mb-2",children:c}),s.jsx("div",{className:"space-y-4 p-4 bg-realm-map-viewport rounded-md border border-border-panel-divider",children:o})]}),vp=({realmShape:c,setRealmShape:o,realmRadius:d,setRealmRadius:u,realmWidth:m,setRealmWidth:h,realmHeight:g,setRealmHeight:b,generationOptions:p,setGenerationOptions:y,tileSets:E})=>{const N=(j,z)=>{y(H=>({...H,landmarks:{...H.landmarks,[j]:Math.max(0,parseInt(z,10)||0)}}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ba,{title:"Map Shape & Size",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-shape",className:"block text-sm font-medium text-text-muted mb-1",children:"Shape"}),s.jsxs("select",{id:"realm-shape",value:c,onChange:j=>o(j.target.value),className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md",children:[s.jsx("option",{value:"hex",children:"Hexagon"}),s.jsx("option",{value:"square",children:"Square"})]})]}),c==="hex"?s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-radius",className:"block text-sm font-medium text-text-muted mb-1",children:"Radius"}),s.jsx("input",{id:"realm-radius",type:"number",value:d,onChange:j=>u(Math.max(3,parseInt(j.target.value,10)||1)),min:"3",max:"50",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Realm radius"})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-width",className:"block text-sm font-medium text-text-muted mb-1",children:"Width"}),s.jsx("input",{id:"realm-width",type:"number",value:m,onChange:j=>h(Math.max(3,parseInt(j.target.value,10)||1)),min:"3",max:"50",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Realm width"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"realm-height",className:"block text-sm font-medium text-text-muted mb-1",children:"Height"}),s.jsx("input",{id:"realm-height",type:"number",value:g,onChange:j=>b(Math.max(3,parseInt(j.target.value,10)||1)),min:"3",max:"50",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Realm height"})]})]})]}),s.jsx(ba,{title:"Points of Interest",children:s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:E.landmark.map(j=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{htmlFor:`landmark-${j.id}`,className:"text-sm text-text-muted",children:j.label}),s.jsx("input",{id:`landmark-${j.id}`,type:"number",value:p.landmarks[j.id]||0,onChange:z=>N(j.id,z.target.value),min:"0",className:"w-20 bg-realm-command-panel-surface p-1 text-sm text-center font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":`Number of ${j.label}`})]},j.id))})}),s.jsxs(ba,{title:"Myth & Mystery",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"num-holdings",className:"block text-sm font-medium text-text-muted mb-1",children:"Holdings"}),s.jsx("input",{id:"num-holdings",type:"number",value:p.numHoldings,onChange:j=>y(z=>({...z,numHoldings:Math.max(0,parseInt(j.target.value,10)||0)})),min:"0",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Number of holdings"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"num-myths",className:"block text-sm font-medium text-text-muted mb-1",children:"Myths"}),s.jsx("input",{id:"num-myths",type:"number",value:p.numMyths,onChange:j=>y(z=>({...z,numMyths:Math.max(0,parseInt(j.target.value,10)||0)})),min:"0",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Number of myths"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"myth-min-distance",className:"block text-sm font-medium text-text-muted mb-1",children:"Myth Min Distance"}),s.jsx("input",{id:"myth-min-distance",type:"number",value:p.mythMinDistance,onChange:j=>y(z=>({...z,mythMinDistance:Math.max(0,parseInt(j.target.value,10)||0)})),min:"0",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Minimum distance between myths"})]}),s.jsxs("label",{htmlFor:"generate-barriers",className:"flex items-center justify-between pt-4 border-t border-border-panel-divider cursor-pointer",children:[s.jsx("span",{className:"text-sm font-medium text-text-muted",children:"Generate Barriers"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"generate-barriers",type:"checkbox",checked:p.generateBarriers,onChange:j=>y(z=>({...z,generateBarriers:j.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-realm-command-panel-surface rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-actions-command-primary"})]})]})]})]})},Nt=({label:c,tooltip:o,value:d,onChange:u,min:m=0,max:h=1,step:g=.01,displayMultiplier:b=100,displaySuffix:p="%"})=>{const y=`slider-${c.toLowerCase().replace(/\s+/g,"-")}`,E=h-m,N=E===0?1:E,j=A.useMemo(()=>{const S=(d-m)/N*100;return Math.min(100,Math.max(0,S))},[d,m,N]),z=ql("actions-command-primary"),H=ql("realm-command-panel-surface"),O=ql("realm-command-panel-surface"),D=ql("border-panel-divider"),G=Math.round(d*b),B=A.useMemo(()=>({background:`linear-gradient(90deg, ${z} 0%, ${z} ${j}%, ${H} ${j}%, ${H} 100%)`,"--slider-thumb-bg":O,"--slider-thumb-border":D}),[z,H,O,D,j]),Z=S=>{const V=parseFloat(S);Number.isNaN(V)||u(V)};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{htmlFor:y,className:"text-sm font-medium text-text-muted",children:c}),o&&s.jsxs("div",{className:"relative group",children:[s.jsx(ye,{name:"help-circle",className:"w-4 h-4 text-text-muted cursor-help"}),s.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-64 p-2 bg-realm-map-viewport text-xs text-text-high-contrast rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20 border border-border-panel-divider",children:o})]})]}),s.jsxs("span",{className:"px-2 py-0.5 bg-realm-command-panel-surface rounded-md text-xs",children:[G,p]})]}),s.jsx("input",{id:y,type:"range",min:m,max:h,step:g,value:d,onChange:S=>Z(S.target.value),onInput:S=>Z(S.target.value),className:"realm-slider",style:B})]})},Sp=({generationOptions:c,onGenerationOptionChange:o,handleClusteringChange:d,handleTerrainBiasChange:u,onApplyTemplate:m,tileSets:h})=>{const[g,b]=A.useState(null),p=A.useMemo(()=>[{id:"random",name:"Random",icon:"sparkles",description:["Ignores formation shape.","Elevation is purely noise-based.","Generates a chaotic landscape."]},{id:"linear",name:"Linear",icon:"arrow-up",description:["Creates a linear slope.","Highlands form at arrow's tip.","Good for continents."]},{id:"circle",name:"Circle",icon:"circle",description:["Creates a circular formation.","Highlands form inside.","Good for central mountains."]},{id:"triangle",name:"Triangle",icon:"triangle",description:["Creates a triangular formation.","Highlands form inside.","Good for unique landmasses."]}],[]);A.useEffect(()=>{c.highlandFormation==="triangle"&&c.highlandFormationRotation>120&&o("highlandFormationRotation",120)},[c.highlandFormation,c.highlandFormationRotation,o]);const y=(O,D)=>{let G=parseInt(O.target.value,10);isNaN(G)&&(G=0),u(D,Math.max(0,G))},E=(O,D)=>{b(D),O.dataTransfer.effectAllowed="move"},N=O=>{O.preventDefault()},j=(O,D)=>{if(!g||g===D)return;const G=c.terrainHeightOrder,B=G.indexOf(g),Z=G.indexOf(D);if(B===-1||Z===-1)return;const S=[...G],[V]=S.splice(B,1);V&&(S.splice(Z,0,V),o("terrainHeightOrder",S))},z=()=>{b(null)},H=O=>h.terrain.find(D=>D.id===O);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(ba,{title:"Terrain Generation Templates",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.values(W0).map(O=>s.jsx("button",{onClick:()=>m(O.options),className:"p-3 bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors text-center text-sm font-medium text-text-muted",children:O.name},O.name))})}),s.jsxs(ba,{title:"Terrain Height",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Drag and drop to reorder terrain types from highest (top) to lowest (bottom). This order determines elevation during map generation."}),s.jsx("ol",{className:"space-y-1 bg-realm-canvas-backdrop p-2 rounded-md border border-border-panel-divider",children:c.terrainHeightOrder.map(O=>{const D=H(O);if(!D)return null;const G=g===O;return s.jsxs("li",{draggable:!0,onDragStart:B=>E(B,D.id),onDragOver:N,onDrop:B=>j(B,D.id),onDragEnd:z,className:`flex items-center gap-3 p-2 rounded-md transition-all duration-150 cursor-grab active:cursor-grabbing bg-realm-command-panel-surface border border-transparent ${G?"opacity-50 border-dashed border-actions-command-primary":"hover:bg-realm-command-panel-hover"}`,children:[s.jsx(ye,{name:"grip-vertical",className:"w-5 h-5 text-text-muted"}),s.jsx(ye,{name:D.icon,className:"w-5 h-5 text-text-high-contrast"}),s.jsx("span",{className:"font-medium text-sm text-text-high-contrast",children:D.label})]},D.id)})})]}),s.jsxs(ba,{title:"Highland Formation",children:[s.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(O=>s.jsxs("button",{onClick:()=>o("highlandFormation",O.id),className:`p-4 rounded-md text-left transition-all duration-150 border-2 h-full ${c.highlandFormation===O.id?"bg-actions-command-primary/20 border-actions-command-primary text-text-high-contrast":"bg-realm-canvas-backdrop border-border-panel-divider hover:border-text-muted text-text-muted"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ye,{name:O.icon,className:"w-6 h-6 flex-shrink-0"}),s.jsx("h4",{className:"font-bold text-lg",children:O.name})]}),s.jsx("ul",{className:"list-disc space-y-1 pl-5 text-xs",children:O.description.map((D,G)=>s.jsx("li",{children:D},G))})]},O.id))}),c.highlandFormation!=="random"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t border-border-panel-divider",children:[s.jsx(Nt,{label:"Formation Strength",value:c.highlandFormationStrength,onChange:O=>o("highlandFormationStrength",O),tooltip:"Controls the intensity of the highland formation shape."}),(c.highlandFormation==="linear"||c.highlandFormation==="triangle")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center pt-4 border-t border-border-panel-divider",children:[s.jsx("div",{children:s.jsx(Nt,{label:"Formation Rotation",value:c.highlandFormationRotation,onChange:O=>o("highlandFormationRotation",O),min:0,max:c.highlandFormation==="triangle"?120:360,step:1,displayMultiplier:1,displaySuffix:"",tooltip:"Sets the orientation of the selected formation."})}),s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx(ye,{name:c.highlandFormation==="triangle"?"triangle":"arrow-up",className:"w-8 h-8 mx-auto mb-2 text-text-muted",style:{transform:`rotate(${c.highlandFormationRotation}deg)`}}),s.jsx("p",{className:"text-xs text-text-muted",children:"Lowlands start at the base and highlands form towards the tip."})]})]}),(c.highlandFormation==="circle"||c.highlandFormation==="triangle")&&s.jsxs("label",{htmlFor:"invert-formation",className:"flex items-center justify-between pt-4 border-t border-border-panel-divider cursor-pointer",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-text-muted",children:"Invert Formation"}),s.jsx("span",{className:"text-xs text-text-muted",children:"Flips highlands and lowlands."})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"invert-formation",type:"checkbox",checked:c.highlandFormationInverse||!1,onChange:O=>o("highlandFormationInverse",O.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-realm-command-panel-surface rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-actions-command-primary"})]})]})]})]}),s.jsxs(ba,{title:"Terrain Biases",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Set relative weights. Higher numbers mean more of that terrain."}),s.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-2",children:h.terrain.map(O=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{htmlFor:`terrain-bias-${O.id}`,className:"text-sm text-text-muted flex items-center gap-2",children:[s.jsx(ye,{name:O.icon,className:"w-4 h-4"}),O.label]}),s.jsx("input",{id:`terrain-bias-${O.id}`,type:"number",value:Math.round(c.terrainBiases[O.id]||0),onChange:D=>y(D,O.id),min:"0",className:"w-20 bg-realm-command-panel-surface p-1 text-sm text-center font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":`Bias for ${O.label}`})]},O.id))})]}),s.jsxs(ba,{title:"Terrain Clustering",children:[s.jsx(Nt,{label:"Terrain Clusteredness",value:1-c.terrainRoughness,onChange:O=>o("terrainRoughness",1-O),tooltip:"Higher values create large, smooth regions. Lower values result in chaotic, mixed landscapes."}),s.jsxs("div",{className:"pt-4 border-t border-border-panel-divider",children:[s.jsx("p",{className:"text-sm text-text-muted",children:"This matrix controls how terrain types attract each other. It is adjusted by the slider above."}),s.jsx("div",{className:"overflow-auto max-h-[calc(80vh-150px)] bg-realm-canvas-backdrop rounded-md border border-border-panel-divider mt-2",children:s.jsxs("table",{className:"w-full border-collapse text-xs whitespace-nowrap",children:[s.jsx("thead",{className:"sticky top-0 bg-realm-canvas-backdrop z-20",children:s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 bg-realm-canvas-backdrop p-2 border-r border-b border-border-panel-divider w-28 z-30"}),h.terrain.map(O=>s.jsx("th",{className:"p-1 border-b border-border-panel-divider text-center font-medium",title:O.label,children:s.jsx("div",{className:"flex justify-center items-center h-full w-8 mx-auto",children:s.jsx(ye,{name:O.icon,className:"w-5 h-5"})})},O.id))]})}),s.jsx("tbody",{children:h.terrain.map((O,D)=>s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 bg-realm-map-viewport p-0 border-r border-b border-border-panel-divider text-left font-medium w-28 z-10",children:s.jsxs("div",{className:"flex items-center gap-2 p-2",children:[s.jsx(ye,{name:O.icon,className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:O.label})]})}),h.terrain.map((G,B)=>{var S;if(B>D)return s.jsx("td",{className:"p-1 border-b border-border-panel-divider bg-realm-canvas-backdrop/50"},G.id);const Z=((S=c.terrainClusteringMatrix[O.id])==null?void 0:S[G.id])??.5;return s.jsx("td",{className:"p-1 border-b border-border-panel-divider text-center",children:s.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:Math.round(Z*100),onChange:V=>{const $=parseInt(V.target.value,10)||0;d(O.id,G.id,Math.max(0,Math.min(100,$))/100)},className:"w-14 bg-realm-command-panel-surface p-1 text-sm text-center font-medium text-text-muted focus:outline-none focus:ring-1 focus:ring-actions-command-primary rounded-md",title:`${O.label} <> ${G.label}: ${Math.round(Z*100)}`})},G.id)})]},O.id))})]})})]})]})]})},Mp={autoOpenOnHover:!0,openDelay:250,closeDelay:200},lh=c=>{const o=A.useMemo(()=>({...Mp,...c}),[c]),[d,u]=A.useState(null),m=A.useRef(null),h=A.useRef(null),g=A.useCallback(()=>{m.current!==null&&(window.clearTimeout(m.current),m.current=null)},[]),b=A.useCallback(()=>{h.current!==null&&(window.clearTimeout(h.current),h.current=null)},[]),p=A.useCallback(()=>{g(),b(),u(null)},[b,g]);A.useEffect(()=>()=>{g(),b()},[b,g]);const y=A.useCallback((j,z)=>{u(H=>(H==null?void 0:H.id)===j?H.locked?{...H,anchor:z}:{id:j,anchor:z,locked:!0}:{id:j,anchor:z,locked:!0})},[]),E=A.useCallback((j,z)=>{o.autoOpenOnHover&&(b(),g(),m.current=window.setTimeout(()=>{u(H=>H!=null&&H.locked&&H.id!==j?H:(H==null?void 0:H.id)===j&&H.locked?{...H,anchor:z}:{id:j,anchor:z,locked:!1}),m.current=null},o.openDelay))},[b,g,o.autoOpenOnHover,o.openDelay]),N=A.useCallback(j=>{o.autoOpenOnHover&&(g(),b(),h.current=window.setTimeout(()=>{u(z=>z&&(z.locked||z.id!==j)?z:null),h.current=null},o.closeDelay))},[b,g,o.autoOpenOnHover,o.closeDelay]);return{activeInfo:d,handleInfoClick:y,scheduleHoverOpen:E,scheduleHoverClose:N,closeInfo:p}};var jp=Km();const Np=(c,o,d)=>Math.min(Math.max(c,o),d),nh=({anchor:c,onClose:o,children:d,onMouseEnter:u,onMouseLeave:m})=>{const h=A.useRef(null),[g,b]=A.useState({top:0,left:0}),p=A.useCallback(()=>{const y=c.getBoundingClientRect();if(!h.current){b({top:y.top+window.scrollY,left:y.left+window.scrollX});return}const E=h.current.getBoundingClientRect(),N=window.innerWidth,j=window.scrollY,z=window.scrollX;let H=y.top+j-E.height-12;H<j+12&&(H=y.bottom+j+12);let O=y.right+z-E.width;const D=z+12,G=z+N-E.width-12;O=Np(O,D,Math.max(D,G)),b({top:H,left:O})},[c]);return A.useLayoutEffect(()=>{p()},[p]),A.useEffect(()=>{const y=j=>{j.key==="Escape"&&o()},E=()=>{p()},N=j=>{var H;const z=j.target;z&&((H=h.current)!=null&&H.contains(z)||c.contains(z)||o())};return window.addEventListener("keydown",y),window.addEventListener("scroll",E,!0),window.addEventListener("resize",E),document.addEventListener("mousedown",N,!0),()=>{window.removeEventListener("keydown",y),window.removeEventListener("scroll",E,!0),window.removeEventListener("resize",E),document.removeEventListener("mousedown",N,!0)}},[c,o,p]),jp.createPortal(s.jsx("div",{ref:h,className:"fixed z-[999] w-64 rounded-md border border-border-panel-divider bg-realm-canvas-backdrop p-3 shadow-lg",style:{top:`${g.top}px`,left:`${g.left}px`},role:"dialog",onMouseEnter:u,onMouseLeave:m,children:d}),document.body)},Hl=(c,o,d)=>Math.min(d,Math.max(o,c)),ih=(c,o,d)=>{if(!d||d.length===0)return!0;const u=Hl(Math.floor((c+1)/2*ft),0,ft-1),h=Hl(Math.floor((o+1)/2*ft),0,ft-1)*ft+u;return d[h]===1};function Cp(c){return function(){let o=c+=1831565813;return o=Math.imul(o^o>>>15,o|1),o^=o+Math.imul(o^o>>>7,o|61),((o^o>>>14)>>>0)/4294967296}}function Ep(c){let o=0;for(let d=0;d<c.length;d++){const u=c.charCodeAt(d);o=(o<<5)-o+u,o|=0}return o}const zp=c=>{const o=(c.sizeMin+c.sizeMax)/2,d=Math.abs(c.sizeMax-c.sizeMin)/2,u=Math.max(0,o)*Hl(c.scaleVariance??0,0,1)*.5,m=Math.max(d,u),h=Math.max(0,o-m),g=Math.max(h,o+m);return{base:o,min:h,max:g,range:g-h,half:m}},Tp=(c,o,d,u,m)=>{const h=[];if(o.length===0)return h;const g=Math.max(1,Math.round(c.gridDensity)),b=Hl(c.gridSize,.1,1),p=Hl(c.gridJitter,0,1),y=Math.max(0,c.gridRotationRange),E=c.iconBaseRotation??0,N=(c.gridBaseRotation??0)*Math.PI/180,j=Math.abs(N)>1e-4,z=j?Math.cos(N):1,H=j?Math.sin(N):0,O=u*2*b,D=g>1?O/(g-1):0,G=O/2,B=g>1?D:O,{base:Z,min:S,max:V,half:$,range:T}=m;for(let P=0;P<g;P++)for(let ue=0;ue<g;ue++){let ie=g>1?-G+ue*D:0,se=g>1?-G+P*D:0;if(B>0&&p>0){const v=()=>(d()*2-1)*B*.5*p;ie+=v(),se+=v()}let J=ie,de=se;if(j&&(J=ie*z-se*H,de=ie*H+se*z),Math.sqrt(J*J+de*de)>u)continue;const Re=J/u,pe=de/u;if(!ih(Re,pe,c.placementMask))continue;const w=o[Math.floor(d()*o.length)];if(!w)continue;const K=T>0?Hl(Z+(d()*2-1)*$,S,V):Z,ee=y>0?(d()*2-1)*y:0,ge=E+ee,xe=d()*(c.opacityMax-c.opacityMin)+c.opacityMin;h.push({name:w,x:J,y:de,size:K,rotation:ge,opacity:xe,color:c.color})}return h},wp=(c,o,d,u,m)=>{var B;const h=[];if(o.length===0)return h;const g=[];if((B=c.placementMask)==null||B.forEach((Z,S)=>{Z===1&&g.push(S)}),g.length===0)return h;const b=Math.max(0,Math.floor(c.density)),p=Math.max(1,b*50),y=Math.max(0,c.minSeparation),E=Hl(c.centerBias,0,1),N=1+E*2,{min:j,range:z,base:H}=m,O=c.iconBaseRotation??0,D=Math.max(0,c.gridRotationRange);let G=0;for(;h.length<b&&G<p;){G++;const Z=g[Math.floor(d()*g.length)];if(Z===void 0)continue;const S=Math.floor(Z/ft),V=Z%ft,$=1/ft,T=V*$*2-1,P=S*$*2-1;let ue=T+d()*$*2,ie=P+d()*$*2;if(E>0){const ee=Math.sqrt(ue*ue+ie*ie);if(ee>0){const ge=Math.min(1,ee),v=Math.pow(ge,N)/ge;ue*=v,ie*=v}}if(!ih(ue,ie,c.placementMask))continue;const se=ue*u,J=ie*u;if(Math.sqrt(se*se+J*J)>u||y>0&&h.some(ee=>{const ge=ee.x-se,xe=ee.y-J;return Math.sqrt(ge*ge+xe*xe)<y}))continue;const de=o[Math.floor(d()*o.length)];if(!de)continue;const Re=z>0?j+d()*z:H,pe=d()*(c.opacityMax-c.opacityMin)+c.opacityMin,w=D>0?(d()*2-1)*D:0,K=O+w;h.push({name:de,x:se,y:J,size:Re,rotation:K,opacity:pe,color:c.color})}return h},sh=(c,o,d)=>{const u=Je[o.id],m=(u==null?void 0:u.settings)??{},h=o.spraySettings??{},g={...m,...h},b={...pt,...m,...h,placementMask:h.placementMask??m.placementMask??pt.placementMask,scaleVariance:g.scaleVariance??g.gridScaleVariance??pt.scaleVariance,seedOffset:g.seedOffset??pt.seedOffset};b.sizeMin=Math.max(10,b.sizeMin),b.sizeMax=Math.max(b.sizeMin,b.sizeMax),b.opacityMin=Math.max(0,Math.min(1,b.opacityMin)),b.opacityMax=Math.max(b.opacityMin,Math.min(1,b.opacityMax)),b.iconBaseRotation=b.iconBaseRotation??0,b.gridBaseRotation=b.gridBaseRotation??0;const p=o.sprayIcons&&o.sprayIcons.length>0?o.sprayIcons:(u==null?void 0:u.icons)??[];if(p.length===0)return[];const y=d.x;if(y<=0)return[];const E=c.q*1337+c.r*31337+Ep(o.id)+(b.seedOffset??0),N=Cp(E),j=zp(b);return b.mode==="grid"?Tp(b,p,N,y,j):b.density<=0?[]:wp(b,p,N,y,j)},Lm={x:50,y:50},kp=({terrain:c,onReroll:o})=>{const d=A.useMemo(()=>Ei("pointy",Lm),[]),u=A.useMemo(()=>{const m={q:0,r:0,terrain:c.id};return sh(m,c,Lm)},[c]);return s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:o,disabled:!o,"aria-label":o?`Reroll ${c.label} spray preview`:void 0,className:`group relative inline-flex items-center justify-center transition-transform ${o?"hover:scale-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-actions-command-primary focus-visible:ring-offset-2 focus-visible:ring-offset-realm-command-panel-surface":"cursor-default"}`,children:[s.jsx("svg",{width:"110",height:"110",viewBox:"-55 -55 110 110",children:s.jsxs("g",{children:[s.jsx("polygon",{points:d.map(m=>`${m.x},${m.y}`).join(" "),fill:c.color?ql(c.color):"#CCCCCC",stroke:V0,strokeWidth:"1"}),s.jsx("g",{children:u.map((m,h)=>s.jsx("g",{transform:`translate(${m.x}, ${m.y}) rotate(${m.rotation})`,children:s.jsx(ye,{name:m.name,style:{opacity:m.opacity,color:m.color},width:m.size,height:m.size,x:-m.size/2,y:-m.size/2,strokeWidth:2.5})},h))})]})}),o?s.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:s.jsx(ye,{name:"reset",className:"h-5 w-5 text-text-high-contrast drop-shadow opacity-0 transition-opacity group-hover:opacity-100"})}):null]}),s.jsxs("p",{className:"text-xs text-center text-text-muted",children:["This pattern is consistent for all '",c.label,"' hexes."]})]})},Ap=({selectedIcons:c,onToggleIcon:o})=>{const d=A.useMemo(()=>[...J0].sort(),[]);return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Spray Icons"}),s.jsx("div",{className:"grid grid-cols-6 gap-1 p-2 bg-realm-map-viewport rounded-md max-h-48 overflow-y-auto",children:d.map(u=>{const m=c.includes(u);return s.jsxs("button",{onClick:()=>o(u),className:`flex flex-col items-center justify-center gap-1 p-1 rounded-md transition-all duration-150 border-2 text-center h-16 ${m?"bg-actions-command-primary/30 border-actions-command-primary text-text-high-contrast":"bg-realm-command-panel-surface border-transparent hover:border-text-muted text-text-muted"}`,title:u,type:"button",children:[s.jsx(ye,{name:u,className:"w-6 h-6"}),s.jsx("span",{className:"text-[10px] truncate w-full",children:u})]},u)})})]})},Gm=ft*ft,Rp=({mask:c,onUpdateMask:o})=>{const[d,u]=A.useState(!1),m=A.useRef(1),h=A.useRef(null),g=A.useCallback(j=>{const z=c[j];if(z!==void 0&&z!==m.current){const H=[...c];H[j]=m.current,o(H)}},[c,o]),b=j=>{const z=h.current;if(!z)return null;const H=z.getBoundingClientRect(),O=j.clientX-H.left,D=j.clientY-H.top,G=H.width/ft,B=H.height/ft,Z=Math.floor(O/G),S=Math.floor(D/B);return Z>=0&&Z<ft&&S>=0&&S<ft?S*ft+Z:null},p=j=>{j.preventDefault();const z=b(j);if(z!==null){u(!0);const H=c[z];m.current=H===1?0:1,g(z)}},y=j=>{if(!d)return;const z=b(j);z!==null&&g(z)},E=()=>o(new Array(Gm).fill(1)),N=()=>o(new Array(Gm).fill(0));return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted",children:"Placement Mask"}),s.jsx("p",{className:"text-xs text-text-muted mt-1 mb-2",children:"Click and drag to paint the green area where icons are allowed to appear. This defines the placement area within the hex."}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{ref:h,className:"relative w-full max-w-[140px] md:max-w-[180px] bg-realm-command-panel-surface rounded-md overflow-hidden select-none aspect-square",onMouseDown:p,onMouseMove:y,onMouseUp:()=>u(!1),onMouseLeave:()=>u(!1),children:[s.jsx("div",{className:"grid h-full",style:{gridTemplateColumns:`repeat(${ft}, minmax(0, 1fr))`},children:c.map((j,z)=>s.jsx("div",{className:`border border-border-panel-divider/40 transition-colors ${j?"bg-feedback-success-highlight/60":"bg-transparent"}`},z))}),s.jsx("div",{className:"absolute inset-0 pointer-events-none border border-border-panel-divider rounded-md"})]})}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx("button",{onClick:N,type:"button",className:"text-xs px-2 py-1 rounded-md bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover transition-colors",children:"Clear"}),s.jsx("button",{onClick:E,type:"button",className:"text-xs px-2 py-1 rounded-md bg-feedback-success-highlight text-text-high-contrast hover:bg-actions-command-primary-hover transition-colors",children:"Fill"})]})]})},Ym=/^#(?:[0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ch=({color:c,ariaLabel:o,tooltip:d,onChange:u,onReset:m,canReset:h=!1,className:g="",overlayClassName:b="bg-black/30",iconClassName:p="w-5 h-5 text-white",overlayIcon:y="pipette",resetIcon:E="reset"})=>{const N=A.useRef(null),j=Ym.test(c)?c:"#CCCCCC",z=h&&m,H=z?E:y,O=S=>{var V;if(S.stopPropagation(),z){m==null||m();return}(V=N.current)==null||V.click()},D=S=>Ym.test(S)?S.toUpperCase():S,G=S=>{u(D(S))},B=S=>{const V=S.target.value;G(V)},Z=S=>{const V=S.currentTarget.value;G(V)};return s.jsxs("button",{type:"button",className:`relative group transition-colors duration-150 ${g}`.trim(),style:{backgroundColor:c},title:d,"aria-label":o,onClick:O,children:[s.jsx("input",{ref:N,type:"color",value:j,onChange:B,onInput:Z,className:"opacity-0 w-0 h-0 absolute pointer-events-none","aria-hidden":!0}),s.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center ${b}`.trim(),children:s.jsx(ye,{name:H,className:p})})]})},Dp=c=>{var o;return(o=c.sprayIcons)!=null&&o.length?`Signature icons: ${c.sprayIcons.map(d=>d.replace(/-/g," ")).join(", ")}`:"No spray icons configured yet."},_p=({terrain:c,settings:o,resolvedTerrainColor:d,resolvedSprayColor:u,hasUnsavedChanges:m,onSave:h,activeInfo:g,registerDetailsRef:b,onInfoClick:p,onInfoHoverStart:y,onInfoHoverEnd:E,onCloseInfo:N,onToggleIcon:j,onSettingChange:z})=>{const H=(g==null?void 0:g.id)===c.id,O=H?(g==null?void 0:g.anchor)??null:null,D=H?(g==null?void 0:g.locked)??!1:!1,G=Dp(c),B=c.description??"Custom terrain created by the user. Add details in settings.",Z=o.mode==="grid",S=J=>`flex-1 rounded-md border px-3 py-2 text-sm font-medium transition-colors ${o.mode===J?"border-transparent bg-actions-command-primary text-text-high-contrast shadow-sm":"border-border-panel-divider text-text-muted hover:text-text-high-contrast hover:border-actions-command-primary/40"}`,V=J=>{o.mode!==J&&z("mode",J)},$=()=>{let J=Math.floor(Math.random()*4294967295);if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"){const de=new Uint32Array(1);crypto.getRandomValues(de),J=de[0]??J}z("seedOffset",J)},T=Math.round((o.opacityMin+o.opacityMax)/2*100),P=Math.round((o.opacityMax-o.opacityMin)/2*100),ue=(J,de)=>{const Re=Math.max(0,Math.min(100,J)),pe=Math.min(Re,100-Re),w=Math.max(0,Math.min(pe,de)),K=Re/100,ee=w/100,ge=Math.max(0,K-ee),xe=Math.min(1,K+ee);z("opacityMin",parseFloat(ge.toFixed(4))),z("opacityMax",parseFloat(xe.toFixed(4)))},ie=J=>{ue(J,P)},se=J=>{ue(T,J)};return s.jsxs("details",{ref:b,className:"p-3 bg-realm-canvas-backdrop rounded-md border border-border-panel-divider/50 open:border-actions-command-primary/50 transition-colors group/details",children:[s.jsxs("summary",{className:"font-semibold text-md text-text-muted list-none cursor-pointer flex items-center gap-2 hover:text-text-high-contrast",children:[s.jsx(ye,{name:c.icon,className:"w-5 h-5"}),s.jsxs("span",{className:"flex items-center gap-2",children:[c.label,m?s.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-actions-command-primary/20 text-actions-command-primary border border-actions-command-primary/40 rounded-sm px-2 py-0.5",children:"Unsaved"}):null,s.jsx("button",{onClick:J=>{J.preventDefault(),J.stopPropagation(),p(J.currentTarget)},onMouseEnter:J=>{y(J.currentTarget)},onMouseLeave:J=>{const de=J.relatedTarget;de&&J.currentTarget.contains(de)||E()},className:`w-6 h-6 flex items-center justify-center rounded-full transition-colors ${H?"bg-realm-map-viewport text-text-high-contrast":"text-text-subtle hover:text-text-muted hover:bg-realm-map-viewport"}`,title:`Learn more about ${c.label}`,"aria-label":`Terrain information for ${c.label}`,"aria-expanded":H,"aria-haspopup":"dialog",type:"button",children:s.jsx(ye,{name:"info",className:"w-3.5 h-3.5"})})]}),s.jsx(ye,{name:"chevron-down",className:"w-4 h-4 ml-auto transition-transform duration-200 group-open/details:rotate-180"})]}),H&&O&&s.jsxs(nh,{anchor:O,onClose:N,onMouseEnter:()=>y(O),onMouseLeave:()=>{D||E()},children:[s.jsx("p",{className:"text-xs leading-relaxed text-text-muted",children:B}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-text-subtle text-[11px] uppercase tracking-wide",children:[s.jsx("span",{children:"Palette Swatch"}),s.jsx("span",{children:d})]}),s.jsx("div",{className:"mt-1 h-2 rounded-full",style:{backgroundColor:c.color||d}}),s.jsx("p",{className:"mt-2 text-[11px] text-text-muted leading-relaxed",children:G})]}),s.jsxs("div",{className:"pl-7 mt-3 pt-3 border-t border-border-panel-divider/50",children:[s.jsx("div",{className:"flex justify-end mb-3",children:s.jsx("button",{type:"button",onClick:h,disabled:!m,className:`inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-xs font-semibold transition-colors ${m?"bg-actions-command-primary text-text-high-contrast hover:bg-actions-command-primary/90":"bg-realm-command-panel-hover text-text-subtle cursor-not-allowed"}`,children:"Save Changes"})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 auto-rows-min",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(kp,{terrain:c,onReroll:$})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Ap,{selectedIcons:c.sprayIcons||[],onToggleIcon:j})}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"block text-sm font-medium text-text-muted mb-2",children:"Deployment Mode"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",className:S("random"),onClick:()=>V("random"),"aria-pressed":o.mode==="random",children:"Random"}),s.jsx("button",{type:"button",className:S("grid"),onClick:()=>V("grid"),"aria-pressed":o.mode==="grid",children:"Grid"})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[Z?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Grid Density",tooltip:"Controls how many grid points per side receive an icon.",value:o.gridDensity,onChange:J=>z("gridDensity",Math.round(J)),min:1,max:12,step:1,displayMultiplier:1,displaySuffix:" cells"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Grid Size",tooltip:"Scales the grid span relative to the hex radius.",value:o.gridSize,onChange:J=>z("gridSize",J),min:.2,max:1,step:.05})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Grid Jitter",tooltip:"Adds a small random offset inside each grid cell to keep placements organic.",value:o.gridJitter,onChange:J=>z("gridJitter",J),min:0,max:1,step:.05})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Grid Rotation",tooltip:"Rotates the entire grid layout around the hex center.",value:o.gridBaseRotation??0,onChange:J=>z("gridBaseRotation",J),min:-180,max:180,step:1,displayMultiplier:1,displaySuffix:""})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Rotation Variance",tooltip:"Defines how much each grid icon can randomly rotate around its base orientation.",value:o.gridRotationRange,onChange:J=>z("gridRotationRange",J),min:0,max:180,step:1,displayMultiplier:1,displaySuffix:""})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Density",value:o.density,onChange:J=>z("density",J),min:0,max:128,step:1,displayMultiplier:1,displaySuffix:" icons"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Center Bias",tooltip:"Higher values pull random placements toward the center of the hex.",value:o.centerBias,onChange:J=>z("centerBias",J),min:0,max:1,step:.05})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Min Separation",tooltip:"Prevents new icons from spawning within this many pixels of another icon.",value:o.minSeparation,onChange:J=>z("minSeparation",J),min:0,max:60,step:1,displayMultiplier:1,displaySuffix:"px"})})]}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Base Size",tooltip:"Sets the central size for sprayed icons.",value:Math.max(10,o.sizeMin),onChange:J=>{const de=Math.max(10,J);z("sizeMin",de),z("sizeMax",de)},min:10,max:64,step:1,displayMultiplier:1,displaySuffix:" px"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Scale Variance",tooltip:"Controls how much icon sizes vary around the base size.",value:o.scaleVariance,onChange:J=>z("scaleVariance",J),min:0,max:1,step:.05,displayMultiplier:100,displaySuffix:"%"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Icon Rotation",tooltip:"Applies a consistent rotation to every sprayed icon.",value:o.iconBaseRotation??0,onChange:J=>z("iconBaseRotation",J),min:-180,max:180,step:1,displayMultiplier:1,displaySuffix:""})}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Icon Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ch,{color:u,ariaLabel:`Select icon color for ${c.label}`,tooltip:"Edit color",onChange:J=>z("color",J),className:"w-10 h-10 rounded-md flex-shrink-0 border border-black/20",iconClassName:"w-5 h-5 text-white"}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center h-10 flex items-center justify-center",children:u})]})]}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Base Opacity",tooltip:"Sets the core opacity for sprayed icons.",value:T,onChange:ie,min:0,max:100,step:1,displayMultiplier:1,displaySuffix:"%"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Nt,{label:"Opacity Variance",tooltip:"Adds variation by increasing and decreasing opacity around the base value.",value:P,onChange:se,min:0,max:100,step:1,displayMultiplier:1,displaySuffix:"%"})}),s.jsx("div",{className:"col-span-1 md:col-span-1",children:s.jsx(Rp,{mask:o.placementMask,onUpdateMask:J=>z("placementMask",J)})})]})})]})]})]})},Ci=c=>({...c,placementMask:Array.isArray(c.placementMask)?[...c.placementMask]:[]}),Op=c=>({spraySettings:Ci(c.spraySettings),sprayIcons:[...c.sprayIcons]}),qp=c=>{const o={...c};return o.sizeMin=Math.max(10,o.sizeMin),o.sizeMax=Math.max(o.sizeMin,o.sizeMax),o.opacityMin=Math.max(0,Math.min(1,o.opacityMin)),o.opacityMax=Math.max(o.opacityMin,Math.min(1,o.opacityMax)),o.iconBaseRotation=o.iconBaseRotation??0,o.gridBaseRotation=o.gridBaseRotation??0,o},rh=c=>Je[c],Hp=c=>{const o=rh(c.id);return qp({...pt,...(o==null?void 0:o.settings)??{},...c.spraySettings??{}})},Bp=c=>{var d;return c.sprayIcons&&c.sprayIcons.length>0?[...c.sprayIcons]:[...((d=rh(c.id))==null?void 0:d.icons)??[]]},Qs=c=>({spraySettings:Ci(Hp(c)),sprayIcons:Bp(c)}),Su=c=>c.reduce((o,d)=>(o[d.id]=Qs(d),o),{}),Up=(c=[],o=[])=>{if(c.length!==o.length)return!1;for(let d=0;d<c.length;d++)if(c[d]!==o[d])return!1;return!0},Mu=(c,o)=>{const d=new Set(["mode","density","sizeMin","sizeMax","opacityMin","opacityMax","color","placementMask","centerBias","minSeparation","gridDensity","gridSize","gridJitter","gridBaseRotation","scaleVariance","gridRotationRange","iconBaseRotation","seedOffset"]);for(const u of d){const m=c[u],h=o[u];if(Array.isArray(m)&&Array.isArray(h)){if(!Up(m,h))return!1}else if(m!==h)return!1}return!0},ju=(c=[],o=[])=>{if(c.length!==o.length)return!1;for(let d=0;d<c.length;d++)if(c[d]!==o[d])return!1;return!0},Lp=({tileSets:c,setTileSets:o,focusId:d})=>{const u=A.useRef(new Map),{activeInfo:m,handleInfoClick:h,scheduleHoverOpen:g,scheduleHoverClose:b,closeInfo:p}=lh(),[y,E]=A.useState(()=>Su(c.terrain)),N=A.useCallback(S=>S?ql(S):"#CCCCCC",[]);A.useEffect(()=>{if(d){const S=u.current.get(d);S&&setTimeout(()=>{S.open=!0,S.scrollIntoView({behavior:"smooth",block:"center"})},100)}},[d]),A.useEffect(()=>{if(!m)return;c.terrain.some(V=>V.id===m.id)||p()},[m,p,c.terrain]),A.useEffect(()=>{E(S=>{const V={};return c.terrain.forEach($=>{const T=Qs($),P=S[$.id];if(!P){V[$.id]=T;return}const ue=Mu(P.spraySettings,T.spraySettings)&&ju(P.sprayIcons,T.sprayIcons);V[$.id]=ue?T:P}),V})},[c.terrain]);const j=A.useCallback((S,V)=>{E($=>{const T=$[S];if(!T)return $;const P=V(Op(T));return Mu(T.spraySettings,P.spraySettings)&&ju(T.sprayIcons,P.sprayIcons)?$:{...$,[S]:P}})},[]),z=(S,V,$)=>{j(S,T=>{const P=V==="placementMask"&&Array.isArray($)?[...$]:$;return{...T,spraySettings:{...T.spraySettings,[V]:P}}})},H=(S,V)=>{j(S,$=>{const T=$.sprayIcons.includes(V)?$.sprayIcons.filter(P=>P!==V):[...$.sprayIcons,V];return{...$,sprayIcons:T}})},O=A.useMemo(()=>{const S=new Set;for(const V of c.terrain){const $=y[V.id];if(!$)continue;const T=Qs(V);(!Mu($.spraySettings,T.spraySettings)||!ju($.sprayIcons,T.sprayIcons))&&S.add(V.id)}return S},[y,c.terrain]),D=O.size>0,G=A.useCallback(S=>{const V=y[S];V&&(o($=>{const T=$.terrain.map(P=>P.id===S?{...P,spraySettings:Ci(V.spraySettings),sprayIcons:[...V.sprayIcons]}:P);return{...$,terrain:T}}),E($=>({...$,[S]:{spraySettings:Ci(V.spraySettings),sprayIcons:[...V.sprayIcons]}})))},[y,o]),B=A.useCallback(()=>{o(S=>{const V=S.terrain.map(T=>{const P=y[T.id];return P?{...T,spraySettings:Ci(P.spraySettings),sprayIcons:[...P.sprayIcons]}:T}),$={...S,terrain:V};return E(Su($.terrain)),$})},[y,o]),Z=A.useCallback(()=>{E(Su(c.terrain))},[c.terrain]);return s.jsx("div",{className:"space-y-6",children:s.jsxs(ba,{title:"Terrain Icon Spray",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Configure the small, semi-transparent icons that are procedurally scattered on each terrain type to add visual texture."}),s.jsx("div",{className:"space-y-4",children:c.terrain.map(S=>{const V=y[S.id]??Qs(S),$={...S,spraySettings:V.spraySettings,sprayIcons:V.sprayIcons},T=V.spraySettings||pt,P=N(S.color),ue=N(T.color);return s.jsx(_p,{terrain:$,settings:T,resolvedTerrainColor:P,resolvedSprayColor:ue,activeInfo:m,hasUnsavedChanges:O.has(S.id),onSave:()=>G(S.id),registerDetailsRef:ie=>{u.current.set(S.id,ie)},onInfoClick:ie=>h(S.id,ie),onInfoHoverStart:ie=>g(S.id,ie),onInfoHoverEnd:()=>b(S.id),onCloseInfo:p,onToggleIcon:ie=>H(S.id,ie),onSettingChange:(ie,se)=>z(S.id,ie,se)},S.id)})}),s.jsxs("div",{className:"flex flex-col md:flex-row md:justify-end gap-2 pt-2 border-t border-border-panel-divider/40 mt-6",children:[s.jsx("button",{type:"button",onClick:Z,disabled:!D,className:`inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors ${D?"border border-border-panel-divider text-text-muted hover:text-text-high-contrast hover:border-actions-command-primary/40":"border border-border-panel-divider/60 text-text-subtle cursor-not-allowed"}`,children:"Discard Changes"}),s.jsx("button",{type:"button",onClick:B,disabled:!D,className:`inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold transition-colors ${D?"bg-actions-command-primary text-text-high-contrast hover:bg-actions-command-primary/90":"bg-realm-command-panel-hover text-text-subtle cursor-not-allowed"}`,children:"Save Changes"})]})]})})},Nu=(c,o)=>({holdings:c.holding.reduce((d,u)=>(d[u.id]=!0,d),{}),seatOfPower:!0,landmarks:c.landmark.reduce((d,u)=>(d[u.id]=!1,d),{}),myths:o.reduce((d,u)=>(d[u.id]=!1,d),{}),showBarriers:Zs.showBarriers}),Si=({id:c,checked:o,onChange:d})=>s.jsxs("div",{className:"relative pt-1",children:[s.jsx("input",{id:c,type:"checkbox",checked:o,onChange:u=>d(u.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"relative w-11 h-6 bg-realm-command-panel-hover rounded-full peer peer-checked:bg-actions-command-primary transition-colors after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full peer-checked:after:border-white"})]}),Cu=({title:c,summary:o,helper:d,children:u})=>s.jsxs("details",{className:"group rounded-md border border-border-panel-divider bg-realm-command-panel-surface",children:[s.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-text-high-contrast",children:c}),s.jsx("p",{className:"text-xs text-text-muted",children:o}),d?s.jsx("p",{className:"mt-1 text-[11px] text-text-muted",children:d}):null]}),s.jsx(ye,{name:"chevron-down",className:"h-4 w-4 text-text-muted transition-transform group-open:rotate-180"})]}),s.jsx("div",{className:"border-t border-border-panel-divider px-4 py-3 space-y-3",children:u})]}),Gp=({viewOptions:c,setViewOptions:o,tileSets:d,myths:u})=>{const m=A.useMemo(()=>c.visibility.knight??Nu(d,u),[c.visibility.knight,d,u]),h=A.useMemo(()=>{const B=d.holding.filter(V=>!(m.holdings[V.id]??!0)).length,Z=m.seatOfPower?"visible":"hidden";if(d.holding.length===0)return"No holdings configured";if(B===0&&Z==="visible")return"All holding markers visible";const S=[];return B>0&&S.push(`${B} type${B>1?"s":""} hidden`),Z==="hidden"&&S.push("Seat of Power hidden"),S.join("; ")},[d.holding,m.holdings,m.seatOfPower]),g=A.useMemo(()=>{const B=d.landmark.filter(Z=>!(m.landmarks[Z.id]??!0)).length;return d.landmark.length===0?"No landmarks configured":B===0?"All landmark markers visible":`${B} landmark type${B>1?"s":""} hidden`},[d.landmark,m.landmarks]),b=A.useMemo(()=>{if(u.length===0)return"No myths placed on the map";const B=u.filter(Z=>!(m.myths[Z.id]??!0)).length;return B===0?"All myths visible":`${B} myth${B>1?"s":""} hidden`},[u,m.myths]),p=B=>{o(Z=>{const S=Z.visibility.knight??Nu(d,u);return{...Z,visibility:{...Z.visibility,knight:B(S)}}})},y=(B,Z)=>{p(S=>({...S,holdings:{...S.holdings,[B]:Z}}))},E=B=>{p(Z=>({...Z,holdings:d.holding.reduce((S,V)=>(S[V.id]=B,S),{})}))},N=B=>{p(Z=>({...Z,seatOfPower:B}))},j=(B,Z)=>{p(S=>({...S,landmarks:{...S.landmarks,[B]:Z}}))},z=B=>{p(Z=>({...Z,landmarks:d.landmark.reduce((S,V)=>(S[V.id]=B,S),{})}))},H=(B,Z)=>{p(S=>({...S,myths:{...S.myths,[B]:Z}}))},O=B=>{p(Z=>({...Z,myths:u.reduce((S,V)=>(S[V.id]=B,S),{})}))},D=B=>{p(Z=>({...Z,showBarriers:B}))},G=()=>{const B=Nu(d,u);p(()=>B)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ba,{title:"Knight View Visibility",children:[s.jsx("p",{className:"text-xs text-text-muted !mt-0",children:"Choose which elements stay visible when you switch to the Knight (player-facing) view. Referee view will always show everything."}),s.jsxs(Cu,{title:"Holdings & Seat of Power",summary:h,helper:"Toggle individual holding types or hide the Seat of Power highlight.",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",onClick:()=>E(!0),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Show All"}),s.jsx("button",{type:"button",onClick:()=>E(!1),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Hide All"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"seat-of-power-visibility",className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block text-sm font-medium text-text-high-contrast",children:"Seat of Power Highlight"}),s.jsx("span",{className:"block text-xs text-text-muted",children:"Controls the golden frame that marks the Seat of Power hex."})]}),s.jsx(Si,{id:"seat-of-power-visibility",checked:m.seatOfPower,onChange:N})]}),d.holding.map(B=>{const Z=`holding-${B.id}`,S=m.holdings[B.id]??!0;return s.jsxs("label",{htmlFor:Z,className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsx("span",{className:"text-sm text-text-high-contrast",children:B.label}),s.jsx(Si,{id:Z,checked:S,onChange:V=>y(B.id,V)})]},B.id)}),d.holding.length===0?s.jsx("p",{className:"text-xs text-text-muted",children:"No holding types are currently configured."}):null]})]}),s.jsxs(Cu,{title:"Landmarks",summary:g,helper:"Choose which landmark categories remain visible to players.",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",onClick:()=>z(!0),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Show All"}),s.jsx("button",{type:"button",onClick:()=>z(!1),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Hide All"})]}),s.jsxs("div",{className:"space-y-2",children:[d.landmark.map(B=>{const Z=`landmark-${B.id}`,S=m.landmarks[B.id]??!0;return s.jsxs("label",{htmlFor:Z,className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsx("span",{className:"text-sm text-text-high-contrast",children:B.label}),s.jsx(Si,{id:Z,checked:S,onChange:V=>j(B.id,V)})]},B.id)}),d.landmark.length===0?s.jsx("p",{className:"text-xs text-text-muted",children:"No landmark types are currently configured."}):null]})]}),s.jsx(Cu,{title:"Myths",summary:b,helper:"Hide individual myths when players should not see them yet.",children:u.length===0?s.jsx("p",{className:"text-xs text-text-muted",children:"No myths have been placed on this map."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",onClick:()=>O(!0),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Show All"}),s.jsx("button",{type:"button",onClick:()=>O(!1),className:"rounded-md border border-border-panel-divider px-2 py-1 text-text-muted hover:bg-realm-command-panel-hover",children:"Hide All"})]}),s.jsx("div",{className:"space-y-2",children:u.map(B=>{const Z=`myth-${B.id}`,S=m.myths[B.id]??!0;return s.jsxs("label",{htmlFor:Z,className:"flex items-center justify-between gap-3 rounded-md border border-transparent px-3 py-2 hover:border-border-panel-divider transition-colors",children:[s.jsxs("span",{className:"text-sm text-text-high-contrast",children:["Myth #",B.id]}),s.jsx(Si,{id:Z,checked:S,onChange:V=>H(B.id,V)})]},B.id)})})]})}),s.jsx("div",{className:"rounded-md border border-border-panel-divider bg-realm-command-panel-surface px-4 py-3",children:s.jsxs("label",{htmlFor:"show-barriers-toggle",className:"flex items-center justify-between gap-3 cursor-pointer",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block text-sm font-semibold text-text-high-contrast",children:"Barriers"}),s.jsx("span",{className:"block text-xs text-text-muted",children:"Toggle whether barrier lines are visible in Knight view."})]}),s.jsx(Si,{id:"show-barriers-toggle",checked:m.showBarriers,onChange:D})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"button",onClick:G,className:"inline-flex items-center gap-2 rounded-md border border-border-panel-divider bg-realm-command-panel-surface px-3 py-2 text-sm font-medium text-text-muted hover:bg-realm-command-panel-hover transition-colors",children:[s.jsx(ye,{name:"reset",className:"h-4 w-4"}),"Reset to Defaults"]})})]})},Yp=({isOpen:c,onClose:o,settingsView:d,...u})=>{const[m,h]=A.useState(d.tab);return A.useEffect(()=>{c&&h(d.tab)},[c,d.tab]),c?s.jsxs("div",{onClick:g=>g.target===g.currentTarget&&o(),className:"fixed inset-0 bg-overlay-scrim z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"settings-dialog-title",children:[s.jsxs("div",{className:"bg-realm-canvas-backdrop w-full max-w-6xl h-[90vh] rounded-lg shadow-xl flex overflow-hidden border border-border-panel-divider animate-fade-in",children:[s.jsxs("aside",{className:"w-64 bg-realm-map-viewport p-6 border-r border-border-panel-divider flex flex-col",children:[s.jsx("h2",{id:"settings-dialog-title",className:"text-2xl font-bold mb-8",children:"Settings"}),s.jsxs("nav",{className:"flex flex-col gap-2",children:[s.jsx(Vs,{icon:"settings",label:"General",isActive:m==="general",onClick:()=>h("general")}),s.jsx(Vs,{icon:"eye",label:"View",isActive:m==="view",onClick:()=>h("view")}),s.jsx(Vs,{icon:"network",label:"Generation",isActive:m==="generation",onClick:()=>h("generation")}),s.jsx(Vs,{icon:"brush",label:"Terrain",isActive:m==="terrain",onClick:()=>h("terrain")})]})]}),s.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[s.jsx("div",{className:"text-right p-4 flex-shrink-0",children:s.jsx("button",{onClick:o,className:"p-1 text-text-muted hover:text-text-high-contrast transition-colors","aria-label":"Close settings",children:s.jsx(ye,{name:"close",className:"w-6 h-6"})})}),s.jsxs("div",{className:"flex-1 overflow-y-scroll px-8 pb-8",children:[m==="general"&&s.jsx(vp,{realmShape:u.realmShape,setRealmShape:u.setRealmShape,realmRadius:u.realmRadius,setRealmRadius:u.setRealmRadius,realmWidth:u.realmWidth,setRealmWidth:u.setRealmWidth,realmHeight:u.realmHeight,setRealmHeight:u.setRealmHeight,generationOptions:u.generationOptions,setGenerationOptions:u.setGenerationOptions,tileSets:u.tileSets}),m==="view"&&s.jsx(Gp,{viewOptions:u.viewOptions,setViewOptions:u.setViewOptions,tileSets:u.tileSets,myths:u.myths}),m==="generation"&&s.jsx(Sp,{generationOptions:u.generationOptions,onGenerationOptionChange:u.onGenerationOptionChange,handleClusteringChange:u.handleClusteringChange,handleTerrainBiasChange:u.handleTerrainBiasChange,onApplyTemplate:u.onApplyTemplate,tileSets:u.tileSets}),m==="terrain"&&s.jsx(Lp,{tileSets:u.tileSets,setTileSets:u.setTileSets,focusId:d.focusId})]})]})]}),s.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in { animation: fade-in 0.2s ease-out forwards; }
      `})]}):null},Vp=c=>{if(c.startsWith("#"))return{hex:c,opacity:1};const o=/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/.exec(c);if(!o)return{hex:"#eaebec",opacity:.2};const d=b=>("0"+b.toString(16)).slice(-2),u=o[1],m=o[2],h=o[3],g=o[4];return!u||!m||!h?{hex:"#eaebec",opacity:.2}:{hex:`#${d(parseInt(u,10))}${d(parseInt(m,10))}${d(parseInt(h,10))}`,opacity:g!==void 0?parseFloat(g):1}},Vm=c=>{const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(!o)return null;const d=o[1],u=o[2],m=o[3];return!d||!u||!m?null:o?{r:parseInt(d,16),g:parseInt(u,16),b:parseInt(m,16)}:null},uh=Ti.forwardRef(({viewOptions:c,setViewOptions:o},d)=>{const u=A.useRef(null),{hex:m,opacity:h}=A.useMemo(()=>Vp(c.gridColor),[c.gridColor]),g=c.gridColor!==Xs,b=E=>{const N=Vm(E.target.value);N&&o(j=>({...j,gridColor:`rgba(${N.r}, ${N.g}, ${N.b}, ${h})`}))},p=E=>{const N=Vm(m);N&&o(j=>({...j,gridColor:`rgba(${N.r}, ${N.g}, ${N.b}, ${parseFloat(E.target.value)})`}))},y=()=>{o(E=>({...E,showGrid:!0,gridColor:Xs,gridWidth:Wm}))};return s.jsxs("div",{ref:d,className:"absolute top-full mt-2 left-0 bg-realm-map-viewport border border-border-panel-divider rounded-lg shadow-xl p-4 z-20 w-64",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{htmlFor:"show-grid-toggle",className:"flex items-center justify-between gap-2 text-sm font-medium text-text-muted cursor-pointer",children:[s.jsx("span",{children:"Show Grid"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",id:"show-grid-toggle",checked:c.showGrid,onChange:()=>o(E=>({...E,showGrid:!E.showGrid})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-realm-command-panel-surface rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-actions-command-primary"})]})]}),s.jsx("hr",{className:"border-border-panel-divider"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"grid-color-btn",className:"block text-sm font-medium text-text-muted mb-1",children:"Grid Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{id:"grid-color-btn",onClick:()=>{var E;return g?o(N=>({...N,gridColor:Xs})):(E=u.current)==null?void 0:E.click()},className:"w-10 h-10 rounded-md flex-shrink-0 border border-black/20 relative group",style:{backgroundColor:m},title:g?"Reset color to default":"Edit color","aria-label":g?"Reset grid color to default":"Select custom grid color",children:[s.jsx("input",{ref:u,type:"color",value:m,onChange:b,className:"opacity-0 w-0 h-0 absolute pointer-events-none","aria-label":"Grid color picker"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(ye,{name:g?"reset":"pipette",className:"w-5 h-5 text-white"})})]}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center",children:m.toUpperCase()})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"grid-opacity",className:"block text-sm font-medium text-text-muted mb-1",children:"Opacity"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"grid-opacity",type:"range",min:"0",max:"1",step:"0.01",value:h,onChange:p,className:"w-full h-2 bg-realm-command-panel-surface rounded-lg appearance-none cursor-pointer","aria-label":"Grid opacity"}),s.jsxs("span",{className:"p-1 bg-realm-command-panel-surface rounded-md text-xs w-16 text-center",children:[Math.round(h*100),"%"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"grid-width",className:"block text-sm font-medium text-text-muted mb-1",children:"Border Width"}),s.jsx("input",{id:"grid-width",type:"number",value:c.gridWidth,onChange:E=>o(N=>({...N,gridWidth:Math.max(.1,parseFloat(E.target.value))||1})),min:"0.1",step:"0.1",className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md","aria-label":"Grid border width"})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-border-panel-divider",children:s.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors",children:[s.jsx(ye,{name:"reset",className:"w-4 h-4"}),"Reset All Grid Settings"]})})]})});uh.displayName="GridSettingsPopover";function Eu(){return s.jsx("div",{className:"border-l border-border-panel-divider h-6","aria-hidden":"true"})}function Xp({onGenerate:c,onExportJson:o,onExportPng:d,onImportJson:u,viewOptions:m,setViewOptions:h,isSettingsOpen:g,setIsSettingsOpen:b,settingsView:p,setSettingsView:y,setConfirmation:E,...N}){const j=A.useRef(null),[z,H]=A.useState(!1),O=A.useRef(null),D=A.useRef(null);A.useEffect(()=>{const S=V=>{var $;V instanceof KeyboardEvent&&V.key==="Escape"&&(b(!1),H(!1)),V instanceof MouseEvent&&O.current&&!O.current.contains(V.target)&&!(($=D.current)!=null&&$.contains(V.target))&&H(!1)};return(g||z)&&(document.addEventListener("mousedown",S),document.addEventListener("keydown",S)),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",S)}},[g,z,b]);const G=S=>{var $;const V=($=S.target.files)==null?void 0:$[0];if(V){const T=new FileReader;T.onload=P=>{var ue;try{const ie=(ue=P.target)==null?void 0:ue.result;if(typeof ie!="string")throw new Error("File could not be read.");const se=JSON.parse(ie);if(!se.hexes||!se.seatOfPower)throw new Error("Invalid realm file.");se.myths||(se.myths=[],se.hexes.forEach(J=>{J.myth&&se.myths.push({id:J.myth,name:`Myth #${J.myth}`,q:J.q,r:J.r})})),u(se)}catch(ie){const se=ie instanceof Error?ie.message:"Unknown error.";E({isOpen:!0,title:"Import Failed",message:`Failed to import realm. The file might be corrupted or in the wrong format. 
Error: ${se}`,onConfirm:()=>E(null),isInfo:!0})}},T.readAsText(V)}j.current&&(j.current.value="")},B=()=>{y({tab:"general",focusId:null}),b(!0)},Z=()=>{y({tab:"view",focusId:null}),b(!0)};return s.jsxs("header",{className:"flex items-center justify-between p-2 bg-realm-canvas-backdrop border-b border-border-panel-divider shadow-md z-10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yp,{isOpen:g,onClose:()=>b(!1),settingsView:p,viewOptions:m,setViewOptions:h,...N}),s.jsx("h1",{className:"text-xl font-bold text-text-high-contrast mr-4",children:"Hex Realm Generator"}),s.jsx(xa,{onClick:c,icon:"sparkles",title:"Generate New Realm",children:"Generate"}),s.jsx(xa,{onClick:B,icon:"settings",title:"Open generation settings"}),s.jsx(Eu,{}),s.jsxs("div",{className:"relative",children:[s.jsx(xa,{ref:D,onClick:()=>H(S=>!S),icon:"grid",title:"Grid Settings",children:"Grid"}),z&&s.jsx(uh,{ref:O,viewOptions:m,setViewOptions:h})]}),s.jsx(Eu,{}),s.jsx(xa,{onClick:()=>h(S=>({...S,showIconSpray:!S.showIconSpray})),icon:"spray-can",isActive:m.showIconSpray,title:"Toggle Icon Spray",children:"Icon Spray"}),s.jsx(Eu,{}),s.jsx(xa,{onClick:()=>h(S=>({...S,isGmView:!S.isGmView})),icon:"eye",isActive:m.isGmView,title:m.isGmView?"Referee View":"Knight View",children:m.isGmView?"Referee View":"Knight View"}),s.jsx(xa,{onClick:Z,icon:"settings",title:"Open view visibility settings"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",ref:j,onChange:G,accept:".json",style:{display:"none"},"aria-hidden":"true"}),s.jsx(xa,{onClick:()=>{var S;return(S=j.current)==null?void 0:S.click()},icon:"upload",title:"Import from JSON file",children:"Import JSON"}),s.jsx(xa,{onClick:o,icon:"download",title:"Export as JSON file",children:"Export JSON"}),s.jsx(xa,{onClick:d,icon:"image-down",title:"Export as PNG image",children:"Export PNG"})]})]})}const Zp=(c,o,d,u)=>s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:c}),s.jsxs("select",{value:o,onChange:u,className:"w-full p-2 bg-realm-command-panel-surface border border-border-panel-divider rounded-md focus:outline-none focus:ring-2 focus:ring-actions-command-primary",children:[s.jsx("option",{value:"",children:"None"}),d.map(m=>s.jsx("option",{value:m.id,children:m.label},m.id))]})]});function Qp({selectedHex:c,realm:o,onUpdateHex:d,onDeselect:u,onSetSeatOfPower:m,onAddMyth:h,onRemoveMyth:g,tileSets:b}){if(!c)return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col items-center justify-center text-center",children:[s.jsx(ye,{name:"mouse-pointer-2",className:"w-16 h-16 text-realm-command-panel-hover mb-4"}),s.jsx("h2",{className:"text-xl font-bold",children:"Select a Hex"}),s.jsx("p",{className:"text-text-muted",children:"Click on any hex on the map to view and edit its details."})]});const p=zi,y=`${zi}99`,E=(D,G)=>{d({...c,[D]:G})},N=D=>{if(!c||!o)return;const G=!c.barrierEdges.includes(D),B=G?[...c.barrierEdges,D]:c.barrierEdges.filter(T=>T!==D),S=[{...c,barrierEdges:B.sort((T,P)=>T-P)}],V=$s(c)[D];if(!V){d(S);return}const $=o.hexes.find(T=>T.q===V.q&&T.r===V.r);if($){const T=(D+3)%6,P=G?[...$.barrierEdges,T]:$.barrierEdges.filter(ie=>ie!==T),ue={...$,barrierEdges:[...new Set(P)].sort((ie,se)=>ie-se)};S.push(ue)}d(S)},j=()=>{c&&(c.myth?g(c):h(c))},H=Ei("pointy",{x:45,y:45}),O=o&&c.q===o.seatOfPower.q&&c.r===o.seatOfPower.r;return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Hex (",s.jsx("span",{className:"font-decorative text-[1.1em]",children:c.q}),","," ",s.jsx("span",{className:"font-decorative text-[1.1em]",children:c.r}),")"]}),s.jsx("button",{onClick:u,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Deselect Hex",children:s.jsx(ye,{name:"close",className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto",children:[Zp("Terrain",c.terrain,b.terrain,D=>E("terrain",D.target.value)),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Holding"}),s.jsxs("select",{value:c.holding||"",onChange:D=>E("holding",D.target.value),className:"w-full p-2 bg-realm-command-panel-surface border border-border-panel-divider rounded-md focus:outline-none focus:ring-2 focus:ring-actions-command-primary",children:[s.jsx("option",{value:"",children:"None"}),b.holding.map(D=>s.jsx("option",{value:D.id,children:D.label},D.id))]})]}),c.holding&&s.jsx("div",{className:"mb-4",children:O?s.jsxs("div",{className:"flex items-center justify-center gap-2 p-2 bg-actions-command-primary/30 border border-actions-command-primary rounded-md text-actions-command-primary-hover text-sm",children:[s.jsx(ye,{name:"crown",className:"w-4 h-4 text-actions-command-primary"}),s.jsx("span",{children:"This is the Seat of Power."})]}):s.jsxs("button",{onClick:()=>m(c),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-realm-command-panel-surface rounded-md hover:bg-actions-command-primary transition-colors",children:[s.jsx(ye,{name:"crown",className:"w-4 h-4"}),"Make Seat of Power"]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Landmark"}),s.jsxs("select",{value:c.landmark||"",onChange:D=>E("landmark",D.target.value),className:"w-full p-2 bg-realm-command-panel-surface border border-border-panel-divider rounded-md focus:outline-none focus:ring-2 focus:ring-actions-command-primary",children:[s.jsx("option",{value:"",children:"None"}),b.landmark.map(D=>s.jsx("option",{value:D.id,children:D.label},D.id))]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Myth"}),s.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors",children:[s.jsx(ye,{name:"sparkle",className:"w-4 h-4"}),c.myth?`Remove Myth #${c.myth}`:"Add Myth"]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-muted mb-2",children:"Barriers (Click edge to toggle)"}),s.jsx("div",{className:"flex justify-center items-center p-2 bg-realm-map-viewport rounded-md",children:s.jsxs("svg",{width:"100",height:"115",viewBox:"-55 -55 110 110",role:"group","aria-label":"Interactive hex for toggling barriers",children:[s.jsx("polygon",{points:H.map(D=>`${D.x},${D.y}`).join(" "),fill:"transparent",stroke:"rgba(234, 235, 236, 0.3)",strokeWidth:"2"}),c.barrierEdges.map(D=>s.jsx("path",{d:Ni(D,H),stroke:Ks,strokeWidth:"6",strokeLinecap:"round",style:{pointerEvents:"none"}},`barrier-visible-${D}`)),[...Array(6).keys()].map(D=>s.jsxs("g",{onClick:()=>N(D),onKeyDown:G=>(G.key==="Enter"||G.key===" ")&&N(D),className:"cursor-pointer group",role:"button",tabIndex:0,"aria-label":`Toggle barrier on edge ${D+1}`,children:[s.jsx("title",{children:`Toggle barrier on edge ${D+1}`}),s.jsx("path",{d:Ni(D,H),stroke:"transparent",strokeWidth:"15",strokeLinecap:"round"}),s.jsx("path",{d:Ni(D,H),stroke:c.barrierEdges.includes(D)?p:y,strokeWidth:"5",strokeLinecap:"round",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-150"})]},`barrier-interactive-${D}`))]})})]})]})]})}const Kp=({name:c,color:o,onNameChange:d,onColorChange:u,onSubmit:m})=>{const h=c.trim().length===0;return s.jsxs("div",{className:"mt-6 pt-4 border-t border-border-panel-divider",children:[s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Add New Terrain"}),s.jsxs("form",{onSubmit:m,children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{htmlFor:"terrain-name",className:"block text-sm font-medium text-text-muted mb-1",children:"Name"}),s.jsx("input",{id:"terrain-name",type:"text",value:c,onChange:g=>d(g.target.value),className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md",placeholder:"e.g. Cursed Wastes",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"terrain-color",className:"block text-sm font-medium text-text-muted mb-1",children:"Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"terrain-color",type:"color",value:o,onChange:g=>u(g.target.value),className:"h-10 p-1 bg-realm-command-panel-surface border border-border-panel-divider rounded-md cursor-pointer",title:"Select color","aria-label":"New terrain color picker"}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center",children:o})]})]}),s.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-high-contrast bg-feedback-success-highlight rounded-md hover:bg-actions-command-primary-hover transition-colors disabled:opacity-50",disabled:h,children:[s.jsx(ye,{name:"plus",className:"w-4 h-4"}),"Add Terrain"]})]})]})},Jp=c=>c.description??"Custom terrain created by the user. Add details in settings.",$p=c=>{var o;return(o=c.sprayIcons)!=null&&o.length?`Signature icons: ${c.sprayIcons.map(d=>d.replace(/-/g," ")).join(", ")}`:"No spray icons configured yet."};function Fp({paintTerrain:c,setPaintTerrain:o,onClose:d,tileSets:u,terrainColors:m,onAddTerrain:h,onRemoveTerrain:g,onUpdateTerrainColor:b,onResetTerrainColor:p,onStartPicking:y,isPickingTile:E,onOpenSpraySettings:N}){const[j,z]=A.useState(""),[H,O]=A.useState("#CCCCCC"),{activeInfo:D,handleInfoClick:G,scheduleHoverOpen:B,scheduleHoverClose:Z,closeInfo:S}=lh(),V=A.useCallback(T=>T?ql(T):"#CCCCCC",[]);A.useEffect(()=>{const T=P=>{(P.ctrlKey||P.metaKey)&&P.key.toLowerCase()==="i"&&(P.preventDefault(),y())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[y]),A.useEffect(()=>{D&&(u.terrain.some(T=>T.id===D.id)||S())},[D,S,u.terrain]);const $=T=>{T.preventDefault();const P=j.trim();P&&(h(P,H.toUpperCase()),z(""),O("#CCCCCC"))};return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Terrain Painter"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:y,className:`p-2 rounded-md transition-colors ${E?"bg-actions-command-primary text-text-high-contrast":"text-text-muted hover:bg-realm-command-panel-hover"}`,title:"Pick Terrain from Map (Ctrl+I)","aria-label":"Pick Terrain from Map",children:s.jsx(ye,{name:"pipette",className:"w-5 h-5"})}),s.jsx("button",{onClick:d,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close Terrain Painter",children:s.jsx(ye,{name:"close",className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto pr-2",children:[E&&s.jsx("div",{className:"bg-feedback-info-panel/50 text-center text-sm text-text-subtle p-2 rounded-md mb-4 animate-pulse",children:"Click on the map to pick a terrain."}),s.jsx("p",{className:"text-sm text-text-muted mb-4",children:"Select a terrain to paint. Click a color swatch to customize."}),s.jsx("div",{className:"space-y-2",children:u.terrain.map(T=>{const P=m[T.id]||"#CCCCCC",ue=V(P),ie=c===T.id,se=hl.includes(T.id),J=se?Fm(T.id):void 0,de=se&&J?J!==ue:!1,Re=(D==null?void 0:D.id)===T.id,pe=Jp(T),w=$p(T);return s.jsxs("div",{onClick:()=>{o(T.id),D&&S()},role:"button",tabIndex:0,onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&(o(T.id),D&&S())},className:`relative group/item p-2 rounded-md transition-all duration-150 border-2 flex items-center gap-2 cursor-pointer ${ie?"bg-actions-command-primary/20 border-actions-command-primary":"bg-realm-map-viewport border-border-panel-divider hover:border-text-muted"}`,title:`Paint ${T.label}`,children:[s.jsxs("div",{className:"flex items-center gap-2 flex-grow min-w-0",children:[s.jsx(ch,{color:ue,ariaLabel:de?`Reset ${T.label} color to default`:`Select color for ${T.label}`,tooltip:de?"Reset color to default":"Edit color",onChange:K=>b(T.id,K),onReset:de?()=>p(T.id):void 0,canReset:de,className:"w-7 h-7 rounded-md flex-shrink-0 border border-white/80",iconClassName:"w-4 h-4 text-white"}),s.jsx("span",{className:`font-medium text-sm truncate ${ie?"text-text-high-contrast":"text-text-muted"}`,children:T.label}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("button",{type:"button",onClick:K=>{K.stopPropagation(),G(T.id,K.currentTarget)},onMouseEnter:K=>B(T.id,K.currentTarget),onMouseLeave:K=>{const ee=K.relatedTarget;ee&&K.currentTarget.contains(ee)||Z(T.id)},className:`w-6 h-6 flex items-center justify-center rounded-full transition-colors ${Re?"bg-realm-map-viewport text-text-high-contrast":"text-text-subtle hover:text-text-muted hover:bg-realm-map-viewport"}`,title:`Learn more about ${T.label}`,"aria-label":`Terrain information for ${T.label}`,"aria-expanded":Re,"aria-haspopup":"dialog",children:s.jsx(ye,{name:"info",className:"w-3.5 h-3.5"})}),Re&&(D==null?void 0:D.anchor)&&s.jsxs(nh,{anchor:D.anchor,onClose:S,onMouseEnter:()=>{B(T.id,D.anchor)},onMouseLeave:()=>{D.locked||Z(T.id)},children:[s.jsx("p",{className:"text-xs leading-relaxed text-text-muted",children:pe}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-text-subtle text-[11px] uppercase tracking-wide",children:[s.jsx("span",{children:"Palette Swatch"}),s.jsx("span",{children:ue})]}),s.jsx("div",{className:"mt-1 h-2 rounded-full",style:{backgroundColor:ue}}),s.jsx("p",{className:"mt-2 text-[11px] text-text-muted leading-relaxed",children:w})]})]})]}),s.jsx("div",{className:"flex items-center flex-shrink-0",children:s.jsx("button",{type:"button",onClick:K=>{K.stopPropagation(),N(T.id),(D==null?void 0:D.id)===T.id&&S()},title:`Edit ${T.label} spray settings`,"aria-label":`Edit ${T.label} spray settings`,children:s.jsx(ye,{name:"settings",className:"w-5 h-5 text-white"})})}),!se&&s.jsx("button",{type:"button",onClick:K=>{K.stopPropagation(),g(T.id),(D==null?void 0:D.id)===T.id&&S()},className:"absolute -top-1.5 -right-1.5 p-1 text-text-high-contrast bg-actions-danger-base rounded-full hover:bg-actions-danger-hover opacity-0 group-hover/item:opacity-100 transition-opacity z-10",title:`Remove ${T.label}`,"aria-label":`Remove ${T.label}`,children:s.jsx(ye,{name:"close",className:"w-3.5 h-3.5"})})]},T.id)})}),s.jsx(Kp,{name:j,color:H,onNameChange:z,onColorChange:T=>O(T.toUpperCase()),onSubmit:$})]})]})}const Wp=({item:c,isSelected:o,onClick:d})=>s.jsxs("button",{onClick:d,className:`flex flex-col items-center justify-center gap-2 p-2 rounded-lg transition-all duration-150 border-2 text-center
              ${o?"bg-actions-command-primary/20 border-actions-command-primary text-text-high-contrast":"bg-realm-map-viewport border-border-panel-divider hover:border-text-muted text-text-muted"}`,title:`Place ${c.label}`,"aria-label":`Select ${c.label} for placement`,children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center bg-realm-command-panel-surface",children:s.jsx(ye,{name:c.icon,className:"w-8 h-8 text-text-high-contrast",strokeWidth:2})}),s.jsx("span",{className:"text-xs font-medium",children:c.label})]}),zu=({title:c,items:o,type:d,paintPoi:u,setPaintPoi:m})=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-text-muted",children:c}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.map(h=>{const g=`${d}:${h.id}`;return s.jsx(Wp,{item:h,isSelected:u===g,onClick:()=>m(g)},g)})})]});function Ip({paintPoi:c,setPaintPoi:o,onClose:d,onStartPicking:u,isPickingTile:m}){return A.useEffect(()=>{const h=g=>{(g.ctrlKey||g.metaKey)&&g.key.toLowerCase()==="i"&&(g.preventDefault(),u())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[u]),s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Points of Interest"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:u,className:`p-2 rounded-md transition-colors ${m?"bg-actions-command-primary text-text-high-contrast":"text-text-muted hover:bg-realm-command-panel-hover"}`,title:"Pick POI from Map (Ctrl+I)","aria-label":"Pick POI from Map",children:s.jsx(ye,{name:"pipette",className:"w-5 h-5"})}),s.jsx("button",{onClick:d,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close POI Painter",children:s.jsx(ye,{name:"close",className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-6",children:[m&&s.jsx("div",{className:"bg-feedback-info-panel/50 text-center text-sm text-text-subtle p-2 rounded-md mb-4 animate-pulse",children:"Click on the map to pick a POI."}),s.jsx("p",{className:"text-sm text-text-muted",children:"Select an item, then click a hex to place it."}),s.jsx(zu,{title:"Actions",items:F0,type:"action",paintPoi:c,setPaintPoi:o}),s.jsx(zu,{title:"Holdings",items:Js.holding,type:"holding",paintPoi:c,setPaintPoi:o}),s.jsx(zu,{title:"Landmarks",items:Js.landmark,type:"landmark",paintPoi:c,setPaintPoi:o})]})]})}function Pp({realm:c,selectedHex:o,onSelectHex:d,onUpdateMyth:u,onRemoveMyth:m,relocatingMythId:h,onToggleRelocateMyth:g,onClose:b}){const p=N=>c.hexes.find(j=>j.q===N.q&&j.r===N.r),y=N=>{if(h)return;const j=p(N);j&&d((o==null?void 0:o.myth)===N.id?null:j)},E=N=>{const j=p(N);j&&m(j)};return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Myth Tool"}),s.jsx("button",{onClick:b,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close Myth Tool",children:s.jsx(ye,{name:"close",className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"All Myths"}),c.myths.length>0?s.jsx("ul",{className:"space-y-2",children:c.myths.sort((N,j)=>N.id-j.id).map(N=>{const j=(o==null?void 0:o.myth)===N.id,z=h===N.id;return s.jsxs("li",{className:"bg-realm-map-viewport rounded-md overflow-hidden transition-all duration-300",children:[s.jsxs("button",{onClick:()=>y(N),className:"w-full text-left p-3 hover:bg-realm-command-panel-hover transition-colors flex justify-between items-center disabled:cursor-not-allowed","aria-expanded":j||z,disabled:!!h,children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-text-accent-headline",children:["Myth #",N.id,":"," ",s.jsx("span",{className:"text-text-high-contrast",children:N.name})]}),s.jsxs("p",{className:"text-xs text-text-muted",children:["Location: (",N.q,", ",N.r,")"]})]}),s.jsx(ye,{name:j||z?"chevron-up":"chevron-down",className:"w-5 h-5 text-text-muted flex-shrink-0"})]}),(j||z)&&s.jsxs("div",{className:"p-3 border-t border-border-panel-divider/50 bg-realm-map-viewport/50 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:`myth-name-${N.id}`,className:"block text-sm font-medium text-text-muted mb-1",children:"Edit Name"}),s.jsx("input",{id:`myth-name-${N.id}`,type:"text",value:N.name,onChange:H=>u({...N,name:H.target.value}),className:"w-full bg-realm-command-panel-surface p-2 text-sm font-medium text-text-muted focus:outline-none focus:ring-2 focus:ring-actions-command-primary rounded-md"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>g(N.id),className:`w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors ${z?"bg-realm-command-panel-hover/80 text-text-high-contrast hover:bg-realm-command-panel-hover":"bg-realm-command-panel-surface text-text-muted hover:bg-realm-command-panel-hover"}`,children:[s.jsx(ye,{name:"move",className:"w-4 h-4"}),z?"Cancel Relocate":"Relocate"]}),s.jsxs("button",{onClick:()=>E(N),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-actions-danger-base/50 rounded-md hover:bg-actions-danger-base/80 border border-actions-danger-base transition-colors",children:[s.jsx(ye,{name:"trash-2",className:"w-4 h-4"}),"Remove"]})]})]}),z&&s.jsx("div",{className:"p-3 bg-realm-command-panel-hover/50 text-center text-sm text-text-subtle",children:"Select a new hex on the map."})]},N.id)})}):s.jsx("p",{className:"text-text-muted text-center py-4",children:"No myths have been placed on the map."})]})})]})}class eg{constructor(o=1){this.p=[];const d=()=>{const m=Math.sin(o++)*1e4;return m-Math.floor(m)},u=Array.from({length:256},(m,h)=>h);for(let m=u.length-1;m>0;m--){const h=Math.floor(d()*(m+1)),g=u[m],b=u[h];g!==void 0&&b!==void 0&&(u[m]=b,u[h]=g)}this.p=u.concat(u)}fade(o){return o*o*o*(o*(o*6-15)+10)}lerp(o,d,u){return d+o*(u-d)}grad(o,d,u){const m=o&15,h=m<8?d:u,g=m<4?u:m===12||m===14?d:0;return((m&1)===0?h:-h)+((m&2)===0?g:-g)}noise(o,d){const u=Math.floor(o)&255,m=Math.floor(d)&255;o-=Math.floor(o),d-=Math.floor(d);const h=this.fade(o),g=this.fade(d),b=this.p,p=(b[u]??0)+m,y=(b[u+1]??0)+m;return this.lerp(g,this.lerp(h,this.grad(b[p]??0,o,d),this.grad(b[y]??0,o-1,d)),this.lerp(h,this.grad(b[p+1]??0,o,d-1),this.grad(b[y+1]??0,o-1,d-1)))}}function tg(c){const o=[];for(let d=-c;d<=c;d++)for(let u=-c;u<=c;u++){const m=-d-u;Math.abs(d)+Math.abs(u)+Math.abs(m)<=c*2&&Ol({q:0,r:0},{q:d,r:u})<=c&&o.push({q:d,r:u,s:m,terrain:"",barrierEdges:[]})}return o}function ag(c,o){const d=[],u=[];for(let p=0;p<o;p++)for(let y=0;y<c;y++){const E=y-Math.floor(p/2);u.push({q:E,r:p})}if(u.length===0)return[];const m=u.reduce((p,y)=>p+y.q,0)/u.length,h=u.reduce((p,y)=>p+y.r,0)/u.length,g=Math.round(m),b=Math.round(h);for(const p of u){const y=p.q-g,E=p.r-b;d.push({q:y,r:E,s:-y-E,terrain:"",barrierEdges:[]})}return d}function oh(c){if(c.length!==0)return c[Math.floor(Math.random()*c.length)]}function lg(c,o){var D;const d=new eg(Math.random());if(c.length===0)return new Map;let u=1/0,m=-1/0,h=1/0,g=-1/0;c.forEach(G=>{u=Math.min(u,G.q),m=Math.max(m,G.q),h=Math.min(h,G.r),g=Math.max(g,G.r)});const b=Math.max(m-u,g-h,1),p=c.map(G=>{let B=0,Z=1,S=1;for(let $=0;$<5;$++)B+=d.noise(G.q*.1*Z,G.r*.1*Z)*S,Z*=2,S*=.5;let V=0;if(o.highlandFormation!=="random"){const $=(u+m)/2,T=(h+g)/2,P=(G.q-$)/(b/2),ue=(G.r-T)/(b/2),ie=o.highlandFormationRotation*Math.PI/180,se=P*Math.cos(ie)-ue*Math.sin(ie),J=P*Math.sin(ie)+ue*Math.cos(ie);o.highlandFormation==="linear"?V=-J:o.highlandFormation==="circle"&&(V=1-Math.min(1,Math.sqrt(se*se+J*J)/Math.sqrt(2)))}return o.highlandFormationInverse===!0&&(o.highlandFormation==="circle"||o.highlandFormation==="triangle")&&(V=-V),B+=V*1.5*o.highlandFormationStrength,{hex:G,elevation:B}});p.sort((G,B)=>B.elevation-G.elevation);const y=new Map,E=c.length;let N=0;const{terrainBiases:j,terrainHeightOrder:z}=o,H=Object.values(j).reduce((G,B)=>(G||0)+(B||0),0)||1,O=Object.entries(j).filter(([,G])=>(G||0)>0).sort(([G],[B])=>(z.indexOf(G)??-1)-(z.indexOf(B)??-1));for(const[G,B]of O){const Z=Math.round((B||0)/H*E),S=Math.min(N+Z,E);for(let V=N;V<S;V++){const $=p[V];$&&y.set(`${$.hex.q},${$.hex.r}`,G)}N=S}if(N<E&&O.length>0){const G=(D=O[O.length-1])==null?void 0:D[0];if(G)for(let B=N;B<E;B++){const Z=p[B];Z&&y.set(`${Z.hex.q},${Z.hex.r}`,G)}}return y}function ng(c,o){var b;const d=lg(c,o);c.forEach(p=>p.terrain=d.get(`${p.q},${p.r}`)||"plain");const u=4,m=Object.keys(o.terrainClusteringMatrix);let h=c.map(p=>({...p}));for(let p=0;p<u;p++){const y=h.map(N=>({...N})),E=new Map(h.map(N=>[`${N.q},${N.r}`,N]));for(const N of y){let j=N.terrain,z=-1/0;for(const H of m){let O=0;const D=$s(N).map(G=>E.get(`${G.q},${G.r}`)).filter(G=>!!G);for(const G of D)O+=((b=o.terrainClusteringMatrix[H])==null?void 0:b[G.terrain])||0;H===d.get(`${N.q},${N.r}`)&&(O+=1.5),O>z&&(z=O,j=H)}N.terrain=j}h=y}const g=new Map(h.map(p=>[`${p.q},${p.r}`,p]));c.forEach(p=>{var y;p.terrain=((y=g.get(`${p.q},${p.r}`))==null?void 0:y.terrain)||p.terrain})}function ig(c){const o=Math.floor(c.length*6*K0/2);for(let d=0;d<o;d++){const u=oh(c);if(!u)continue;const m=Math.floor(Math.random()*6);if(!u.barrierEdges.includes(m)){u.barrierEdges.push(m);const h=$s(u)[m];if(!h)continue;const g=c.find(b=>b.q===h.q&&b.r===h.r);if(g){const b=(m+3)%6;g.barrierEdges.includes(b)||g.barrierEdges.push(b)}}}}function sg(c,o,d){const u=c.filter(b=>!["peaks","crags","bog","lakes","marsh"].includes(b.terrain)),m=[];for(;m.length<d&&u.length>0;){const b=Math.floor(Math.random()*u.length),p=u.splice(b,1)[0];if(p&&!p.holding&&!m.some(y=>Ol(y,p)<o/4)){const y=oh(Z0);y!==void 0&&(p.holding=y,m.push(p))}}const h=m[0];if(h)return{q:h.q,r:h.r};const g=c.find(b=>b.q===0&&b.r===0)||c[0];return g?(g.holding="castle",{q:g.q,r:g.r}):{q:0,r:0}}function cg(c,o,d){const u=c.filter(b=>b.holding||b.landmark),m=c.filter(b=>!b.holding&&!b.landmark);u.length>0?m.sort((b,p)=>Math.min(...u.map(y=>Ol(p,y)))-Math.min(...u.map(y=>Ol(b,y)))):m.sort((b,p)=>Ol({q:0,r:0},p)-Ol({q:0,r:0},b));const h=[];for(const b of m){if(h.length>=o)break;h.every(p=>Ol(b,p)>=d)&&h.push(b)}const g=[];return h.forEach((b,p)=>{const y=p+1;b.myth=y,g.push({id:y,name:`Myth #${y}`,q:b.q,r:b.r})}),g}function rg(c,o){const d=c.filter(u=>!u.holding&&!u.landmark);Object.entries(o).forEach(([u,m])=>{const h=m||0;for(let g=0;g<h&&d.length>0;g++){const b=Math.floor(Math.random()*d.length),p=d.splice(b,1)[0];p&&(p.landmark=u)}})}function ug(c,o){let d,u;const m={shape:c.shape};c.shape==="hex"?(d=tg(c.radius),u=c.radius,m.radius=c.radius):(d=ag(c.width,c.height),u=Math.max(c.width,c.height),m.width=c.width,m.height=c.height),ng(d,o),o.generateBarriers&&ig(d);const h=sg(d,u,o.numHoldings);rg(d,o.landmarks),d.forEach(b=>b.myth=void 0);const g=cg(d,o.numMyths,o.mythMinDistance);if(o.numMyths>0&&g.length<o.numMyths)throw new Error(`Could not place all myths. Only placed ${g.length} of ${o.numMyths}. Try reducing 'Myth Min Distance' or the number of myths.`);return{...m,hexes:d,myths:g,seatOfPower:h}}function og(c){const o=JSON.stringify(c,null,2),d=new Blob([o],{type:"application/json"}),u=URL.createObjectURL(d),m=document.createElement("a");m.href=u,m.download="realm-data.json",document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(u)}async function dg(c,o,d={}){const u=document.getElementById(c);if(!u)return;const m=await fg(u,d),h=document.createElement("a");h.href=m,h.download=o,document.body.appendChild(h),h.click(),document.body.removeChild(h)}function fg(c,o={}){const{scale:d=2,hideSelectionHighlights:u=!1}=o,m=c.cloneNode(!0);u&&m.querySelectorAll(".hex-selection-highlight, .hex-hover-highlight").forEach(O=>{O.remove()});const g=new XMLSerializer().serializeToString(m),b=c.getBoundingClientRect(),p=document.createElement("canvas"),y=m.getAttribute("viewBox");let E=b.width,N=b.height;if(y){const[,,O,D]=y.split(" ").map(Number);Number.isFinite(O)&&Number.isFinite(D)&&O>0&&D>0&&(E=O,N=D)}m.getAttribute("width")||m.setAttribute("width",`${E}`),m.getAttribute("height")||m.setAttribute("height",`${N}`),p.width=Math.max(Math.round(E*d),1),p.height=Math.max(Math.round(N*d),1);const j=p.getContext("2d");if(!j)return Promise.reject(new Error("Canvas context is unavailable."));const z=new Image,H="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(g)));return new Promise((O,D)=>{z.onload=()=>{j.drawImage(z,0,0,p.width,p.height),O(p.toDataURL("image/png"))},z.onerror=()=>D(new Error("Failed to rasterize SVG element.")),z.src=H})}const ml=()=>{},mg=c=>{};function hg({isOpen:c,onClose:o,onExport:d,settings:u,onSettingsChange:m,realm:h,tileSets:g,baseViewOptions:b,terrainTextures:p,isLoadingTextures:y,barrierColor:E,previewSvgId:N,isExporting:j,previewPadding:z=40,terrainColors:H}){const O=A.useMemo(()=>({...b,showGrid:u.includeGrid,showIconSpray:u.includeIconSpray,isGmView:u.viewMode==="referee"}),[b,u.includeGrid,u.includeIconSpray,u.viewMode]);return c?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-overlay-scrim p-4",role:"dialog","aria-modal":"true","aria-labelledby":"export-modal-title",children:s.jsxs("div",{className:"relative w-full max-w-5xl rounded-lg border border-border-panel-divider bg-realm-map-viewport shadow-xl",children:[s.jsxs("div",{className:"flex items-start justify-between border-b border-border-panel-divider px-6 py-4",children:[s.jsxs("div",{children:[s.jsx("h2",{id:"export-modal-title",className:"text-xl font-semibold text-text-high-contrast",children:"Export Map"}),s.jsx("p",{className:"text-sm text-text-muted",children:"Choose how the map should appear in the exported image and review it before saving."})]}),s.jsx("button",{type:"button",onClick:o,className:"text-text-muted hover:text-text-high-contrast transition-colors","aria-label":"Close export modal",children:s.jsx(ye,{name:"x",className:"h-5 w-5"})})]}),s.jsxs("div",{className:"grid gap-6 px-6 py-6 lg:grid-cols-[260px,1fr]",children:[s.jsxs("section",{"aria-label":"Export settings",className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-text-muted",children:"View"}),s.jsx("div",{className:"mt-2 flex gap-2",children:["referee","knight"].map(D=>{const G=u.viewMode===D;return s.jsx("button",{type:"button",onClick:()=>m({...u,viewMode:D}),className:`flex-1 rounded-md border px-3 py-2 text-sm font-medium transition-colors ${G?"border-actions-command-primary bg-actions-command-primary/20 text-text-high-contrast":"border-border-panel-divider bg-realm-command-panel-surface text-text-muted hover:text-text-high-contrast"}`,children:D==="referee"?"Referee View":"Knight View"},D)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-text-muted",children:"Appearance"}),s.jsxs("div",{className:"mt-2 flex flex-col gap-2 text-sm text-text-high-contrast",children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:u.includeGrid,onChange:D=>m({...u,includeGrid:D.target.checked}),className:"h-4 w-4 rounded border-border-panel-divider bg-realm-command-panel-surface text-actions-command-primary focus:ring-actions-command-primary"}),s.jsx("span",{children:"Include grid lines"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:u.includeIconSpray,onChange:D=>m({...u,includeIconSpray:D.target.checked}),className:"h-4 w-4 rounded border-border-panel-divider bg-realm-command-panel-surface text-actions-command-primary focus:ring-actions-command-primary"}),s.jsx("span",{children:"Include icon spray"})]})]})]})]}),s.jsxs("section",{"aria-label":"Export preview",className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-text-muted",children:"Preview"}),s.jsx("span",{className:"text-xs text-text-subtle",children:"Export uses the preview exactly as shown."})]}),s.jsx("div",{className:"relative h-80 overflow-hidden rounded-md border border-border-panel-divider bg-realm-map-viewport",children:h?s.jsx("div",{className:"pointer-events-none absolute inset-0",children:s.jsx(ah,{realm:h,onUpdateHex:ml,viewOptions:O,selectedHex:null,onHexClick:ml,activeTool:"select",setActiveTool:ml,paintTerrain:"plain",paintPoi:null,onAddMyth:ml,onRemoveMyth:ml,relocatingMythId:null,onRelocateMyth:ml,onSetSeatOfPower:ml,tileSets:g,terrainColors:H,barrierColor:E,isSettingsOpen:!0,isPickingTile:!1,onTilePick:ml,setConfirmation:mg,terrainTextures:p,isLoadingTextures:y,svgId:N,isInteractive:!1,staticPadding:z})}):s.jsx("div",{className:"flex h-full items-center justify-center px-4 text-center text-sm text-text-muted",children:"Generate a realm to preview the export."})})]})]}),s.jsx("div",{className:"flex flex-col gap-3 border-t border-border-panel-divider px-6 py-4 sm:flex-row sm:items-center sm:justify-between",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:o,className:"rounded-md border border-border-panel-divider px-4 py-2 text-sm font-medium text-text-muted hover:text-text-high-contrast",children:"Cancel"}),s.jsx("button",{type:"button",onClick:()=>d(u),disabled:!h||j,className:"rounded-md bg-actions-command-primary px-4 py-2 text-sm font-semibold text-text-high-contrast transition-colors hover:bg-actions-command-primary/80 disabled:cursor-not-allowed disabled:bg-border-panel-divider disabled:text-text-muted",children:j?"Exporting...":"Export PNG"})]})})]})}):null}const yg=c=>{const[o,d]=A.useState({past:[],present:c,future:[]}),u=o.past.length>0,m=o.future.length>0,h=A.useCallback(p=>{d(y=>{const{present:E}=y;return p===E?y:{past:[...y.past,E],present:p,future:[]}})},[]),g=A.useCallback(()=>{u&&d(p=>{const{past:y,present:E,future:N}=p,j=y[y.length-1],z=y.slice(0,y.length-1);return j===void 0?p:{past:z,present:j,future:[E,...N]}})},[u]),b=A.useCallback(()=>{m&&d(p=>{const{past:y,present:E,future:N}=p,j=N[0],z=N.slice(1);return j===void 0?p:{past:[...y,E],present:j,future:z}})},[m]);return{state:o.present,set:h,undo:g,redo:b,canUndo:u,canRedo:m}};function pg({onRemoveAllBarriers:c,onClose:o,barrierColor:d,onColorChange:u}){const m=A.useRef(null),h=d!==Ks;return s.jsxs("aside",{className:"w-80 bg-realm-canvas-backdrop border-l border-border-panel-divider p-4 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Barrier Painter"}),s.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-realm-command-panel-hover","aria-label":"Close Barrier Painter",children:s.jsx(ye,{name:"close",className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-6",children:[s.jsx("p",{className:"text-sm text-text-muted",children:"Click and drag on hex edges to add or remove barriers."}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-border-panel-divider",children:[s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Barrier Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>{var g;return h?u(Ks):(g=m.current)==null?void 0:g.click()},className:"w-10 h-10 rounded-md flex-shrink-0 border border-black/20 relative group",style:{backgroundColor:d},title:h?"Reset to default color":"Edit color","aria-label":h?"Reset barrier color to default":"Select custom barrier color",children:[s.jsx("input",{ref:m,type:"color",value:d,onChange:g=>u(g.target.value),className:"opacity-0 w-0 h-0 absolute pointer-events-none","aria-label":"Barrier color picker"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(ye,{name:h?"reset":"pipette",className:"w-5 h-5 text-white"})})]}),s.jsx("span",{className:"p-2 bg-realm-command-panel-surface rounded-md text-sm font-mono flex-grow text-center",children:d.toUpperCase()})]})]}),s.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-text-muted bg-actions-danger-base/50 rounded-md hover:bg-actions-danger-base/80 border border-actions-danger-base transition-colors",children:[s.jsx(ye,{name:"trash-2",className:"w-4 h-4"}),"Remove All Barriers"]})]})]})}function gg({isOpen:c,title:o,message:d,onConfirm:u,onCancel:m,confirmText:h="Confirm",cancelText:g="Cancel",isInfo:b=!1}){return c?s.jsxs("div",{className:"fixed inset-0 bg-overlay-scrim z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"confirmation-dialog-title",children:[s.jsxs("div",{className:"bg-realm-map-viewport border border-border-panel-divider rounded-lg shadow-xl w-full max-w-md p-6 animate-fade-in",children:[s.jsx("h2",{id:"confirmation-dialog-title",className:"text-xl font-bold text-text-high-contrast text-center mb-4",children:o}),s.jsx("p",{className:"text-text-muted mb-6 text-center",children:d}),s.jsxs("div",{className:"flex justify-center gap-4",children:[!b&&s.jsx("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-text-high-contrast bg-realm-command-panel-surface rounded-md hover:bg-realm-command-panel-hover transition-colors",children:g}),s.jsx("button",{onClick:u,className:`px-4 py-2 text-sm font-medium text-text-high-contrast rounded-md transition-colors ${b?"bg-feedback-info-panel hover:bg-feedback-mystic-highlight":"bg-actions-danger-base hover:bg-actions-danger-hover"}`,children:b?"OK":h})]})]}),s.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in { animation: fade-in 0.2s ease-out forwards; }
      `})]}):null}function xg({onUndo:c,onRedo:o,canUndo:d,canRedo:u}){return s.jsxs("div",{className:"absolute bottom-4 right-[21rem] bg-realm-canvas-backdrop/80 border border-border-panel-divider p-2 rounded-lg shadow-lg flex items-center gap-2 z-10",children:[s.jsx("button",{onClick:c,disabled:!d,className:"p-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-text-muted hover:bg-realm-command-panel-hover enabled:hover:text-text-high-contrast",title:"Undo (Ctrl+Z)",children:s.jsx(ye,{name:"undo",className:"w-5 h-5"})}),s.jsx("button",{onClick:o,disabled:!u,className:"p-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-text-muted hover:bg-realm-command-panel-hover enabled:hover:text-text-high-contrast",title:"Redo (Ctrl+Y)",children:s.jsx(ye,{name:"redo",className:"w-5 h-5"})})]})}const Mi=new Map,bg=c=>{var d;if(Mi.has(c))return Mi.get(c)??null;const o=eh[c];if(!o||typeof o.render!="function")return Mi.set(c,null),null;try{const u=o.render({},null),m=((d=u==null?void 0:u.props)==null?void 0:d.iconNode)??null;return Mi.set(c,m),m}catch(u){console.warn(`Failed to extract Lucide icon node for '${c}'`,u)}return Mi.set(c,null),null},vg={x:50,y:50},Sg=4,zt=c=>{if(typeof c=="number")return Number.isFinite(c)?c:null;if(typeof c=="string"){const o=Number(c);return Number.isFinite(o)?o:null}return null},Mg=c=>{if(!c)return[];const o=c.trim().split(/[\s,]+/),d=[];for(let u=0;u+1<o.length;u+=2){const m=Number(o[u]),h=Number(o[u+1]);Number.isFinite(m)&&Number.isFinite(h)&&d.push({x:m,y:h})}return d},jg=(c,o)=>{var d,u,m,h;switch(c){case"path":{const g=o.d;return g?new Path2D(g):null}case"line":{const g=zt(o.x1),b=zt(o.y1),p=zt(o.x2),y=zt(o.y2);if(g===null||b===null||p===null||y===null)return null;const E=new Path2D;return E.moveTo(g,b),E.lineTo(p,y),E}case"polyline":case"polygon":{const g=Mg(o.points);if(g.length<2)return null;const b=new Path2D;b.moveTo(((d=g[0])==null?void 0:d.x)??0,((u=g[0])==null?void 0:u.y)??0);for(let p=1;p<g.length;p++)b.lineTo(((m=g[p])==null?void 0:m.x)??0,((h=g[p])==null?void 0:h.y)??0);return c==="polygon"&&b.closePath(),b}case"rect":{const g=zt(o.x)??0,b=zt(o.y)??0,p=zt(o.width),y=zt(o.height);if(p===null||y===null)return null;const E=new Path2D;return E.rect(g,b,p,y),E}case"circle":{const g=zt(o.cx)??0,b=zt(o.cy)??0,p=zt(o.r);if(p===null)return null;const y=new Path2D;return y.arc(g,b,p,0,Math.PI*2),y}case"ellipse":{const g=zt(o.cx)??0,b=zt(o.cy)??0,p=zt(o.rx),y=zt(o.ry);if(p===null||y===null)return null;const E=new Path2D;return E.ellipse(g,b,p,y,0,0,Math.PI*2),E}default:return null}},Ng=(c,o)=>{for(const[d,u]of o){const m=jg(d,u);if(!m)continue;const h=u.fill;if(h&&h!=="none"){const g=c.fillStyle,b=h==="currentColor"?c.strokeStyle:h;c.fillStyle=b,c.fill(m),c.fillStyle=g}c.stroke(m)}};function Cg(c,o,d){const u={q:0,r:0,terrain:o.id},m=sh(u,o,d);for(const h of m){const g=bg(h.name);if(!g||g.length===0)continue;c.save(),c.translate(h.x,h.y),c.rotate(h.rotation*Math.PI/180);const b=h.color||"#FF00FF";c.strokeStyle=b,c.fillStyle=b,c.lineWidth=2.5,c.lineJoin="round",c.lineCap="round",c.globalAlpha=h.opacity;const p=h.size/24;c.scale(p,p),c.translate(-12,-12),Ng(c,g),c.restore()}}async function Eg(c,o,d=vg){var E,N,j,z;const u={},m=document.createElement("canvas"),h={width:d.x*Math.sqrt(3),height:d.y*2},g=typeof window<"u"?window.devicePixelRatio??1:1,b=Sg*g;m.width=Math.round(h.width*b),m.height=Math.round(h.height*b),m.style.width=`${h.width}px`,m.style.height=`${h.height}px`;const p=m.getContext("2d");if(!p)throw new Error("Could not get 2D rendering context");p.scale(b,b);const y=Ei("pointy",d);for(const H of c.terrain){const O=o[H.id]||"#cccccc";p.clearRect(0,0,h.width,h.height),p.save(),p.translate(h.width/2,h.height/2),p.beginPath(),p.moveTo(((E=y[0])==null?void 0:E.x)??0,((N=y[0])==null?void 0:N.y)??0);for(let B=1;B<6;B++)p.lineTo(((j=y[B])==null?void 0:j.x)??0,((z=y[B])==null?void 0:z.y)??0);p.closePath(),p.fillStyle=O,p.fill();const D=m.toDataURL("image/png");Cg(p,H,d);const G=m.toDataURL("image/png");u[H.id]={withSpray:G,withoutSpray:D},p.restore()}return u}const Xm=(c,o)=>c===void 0?[o,!0]:[c,!1],dh=(c,o,d)=>{const u=c??Zs;let m=c===void 0;const h=o.holding.reduce((j,z)=>{var O;const H=(O=u.holdings)==null?void 0:O[z.id];return H===void 0?(m=!0,j[z.id]=!0):j[z.id]=H,j},{});if(u.holdings){for(const j of Object.keys(u.holdings))if(!(j in h)){m=!0;break}}const g=o.landmark.reduce((j,z)=>{var O;const H=(O=u.landmarks)==null?void 0:O[z.id];return H===void 0?(m=!0,j[z.id]=!1):j[z.id]=H,j},{});if(u.landmarks){for(const j of Object.keys(u.landmarks))if(!(j in g)){m=!0;break}}const b=d.reduce((j,z)=>{var O;const H=(O=u.myths)==null?void 0:O[z.id];return H===void 0?(m=!0,j[z.id]=!1):j[z.id]=H,j},{});if(u.myths){for(const j of Object.keys(u.myths))if(!(Number(j)in b)){m=!0;break}}const[p,y]=Xm(u.seatOfPower,Zs.seatOfPower),[E,N]=Xm(u.showBarriers,Zs.showBarriers);return m=m||y||N,{visibility:{holdings:h,seatOfPower:p,landmarks:g,myths:b,showBarriers:E},changed:m}},zg=dh(void 0,Js,[]).visibility,Zm="hex-grid-export-preview",Tg=6;function wg(){const{state:c,set:o,undo:d,redo:u,canUndo:m,canRedo:h}=yg(null),[g,b]=A.useState(null),[p,y]=A.useState(null),[E,N]=A.useState({showGrid:!0,isGmView:!0,orientation:"pointy",hexSize:{x:50,y:50},gridColor:Xs,gridWidth:Wm,showIconSpray:!0,visibility:{knight:zg}}),[j,z]=A.useState(()=>({viewMode:"referee",includeGrid:!0,includeIconSpray:!0})),[H,O]=A.useState("select"),[D,G]=A.useState(hl[0]??"plain"),[B,Z]=A.useState("holding:castle"),[S,V]=A.useState(Js),[$,T]=A.useState(()=>({...Qt})),[P,ue]=A.useState(Ks),[ie,se]=A.useState(!1),[J,de]=A.useState(!1);A.useEffect(()=>{document.documentElement.setAttribute("data-theme","dark")},[]),A.useEffect(()=>{const Q=(c==null?void 0:c.myths)??[];N(W=>{const{visibility:ae,changed:Be}=dh(W.visibility.knight,S,Q);return Be?{...W,visibility:{...W.visibility,knight:ae}}:W})},[c==null?void 0:c.myths,S,N]);const[Re,pe]=A.useState("square"),[w,K]=A.useState(En),[ee,ge]=A.useState(En),[xe,v]=A.useState(En),[L,F]=A.useState(null),[te,me]=A.useState(!1),[Se,be]=A.useState({tab:"general",focusId:null}),[Ze,Ge]=A.useState(!1),[Bt,La]=A.useState(null),[va,yl]=A.useState(!0),Kt=Q0.reduce((Q,W)=>(Q[W]=3,Q),{}),[I,re]=A.useState({numHoldings:4,numMyths:6,mythMinDistance:3,landmarks:Kt,generateBarriers:!1,highlandFormation:"linear",highlandFormationStrength:.7,highlandFormationRotation:0,highlandFormationInverse:!1,terrainRoughness:.5,terrainClusteringMatrix:bu,terrainBiases:Im,terrainHeightOrder:X0}),he=A.useCallback(()=>{try{const W=ug(Re==="hex"?{shape:"hex",radius:w}:{shape:"square",width:ee,height:xe},I);o(W),b(null)}catch(Q){const W=Q instanceof Error?Q.message:"An unknown error occurred during realm generation.";F({isOpen:!0,title:"Generation Failed",message:W,onConfirm:()=>F(null),confirmText:"OK",isInfo:!0})}},[Re,w,ee,xe,I,o]);A.useEffect(()=>{c||he()},[c,he]),A.useEffect(()=>{if(Object.keys($).length===0)return;(async()=>{yl(!0);try{const W=await Eg(S,$,E.hexSize);La(W)}catch(W){console.error("Failed to generate terrain textures:",W),F({isOpen:!0,title:"Texture Generation Failed",message:"Could not generate map textures. The map may not display correctly.",onConfirm:()=>F(null),isInfo:!0})}finally{yl(!1)}})()},[S,$,E.hexSize]),A.useEffect(()=>{(H==="terrain"||H==="barrier"||H==="poi"||H==="myth")&&b(null),H!=="myth"&&y(null),H!=="terrain"&&H!=="poi"&&Ge(!1)},[H]),A.useEffect(()=>{const Q=W=>{const ae=W.ctrlKey||W.metaKey;W.key==="Escape"&&Ze?(W.preventDefault(),Ge(!1)):ae&&W.key.toLowerCase()==="z"?(W.preventDefault(),W.shiftKey?h&&(u(),b(null)):m&&(d(),b(null))):ae&&W.key.toLowerCase()==="y"&&(W.preventDefault(),h&&(u(),b(null)))};return window.addEventListener("keydown",Q),()=>{window.removeEventListener("keydown",Q)}},[m,h,d,u,Ze]);const _e=A.useCallback(Q=>{if(!c)return;const W=Array.isArray(Q)?Q:[Q];if(W.length===0)return;const ae=new Map;W.forEach(ke=>ae.set(`${ke.q},${ke.r}`,ke));const Be=c.hexes.map(ke=>{const ze=`${ke.q},${ke.r}`;return ae.get(ze)||ke});if(o({...c,hexes:Be}),g){const ke=W.find(ze=>ze.q===g.q&&ze.r===g.r);ke&&b(ke||null)}},[c,g,o]),Ne=A.useCallback((Q,W=!1)=>{if(!c)return;const ae=c.hexes.find(wt=>wt.q===Q.q&&wt.r===Q.r);if(!ae||ae.myth||ae.holding||ae.landmark){(ae!=null&&ae.holding||ae!=null&&ae.landmark)&&F({isOpen:!0,title:"Action Blocked",message:"Cannot add a myth to a hex with a holding or landmark.",onConfirm:()=>F(null),isInfo:!0});return}const Be=(c.myths.length>0?Math.max(...c.myths.map(wt=>wt.id)):0)+1,ke={id:Be,name:`Myth #${Be}`,q:Q.q,r:Q.r},ze=[...c.myths,ke];let at;const ra=c.hexes.map(wt=>wt.q===Q.q&&wt.r===Q.r?(at={...wt,myth:Be},at):wt);o({...c,hexes:ra,myths:ze}),at&&(g&&g.q===Q.q&&g.r===Q.r||W)&&b(at)},[c,o,g]),De=A.useCallback(Q=>{if(!c||!Q.myth)return;const W=Q.myth,ae=c.myths.filter(ze=>ze.id!==W).map(ze=>ze.id>W?{...ze,id:ze.id-1}:ze).sort((ze,at)=>ze.id-at.id);let Be;const ke=c.hexes.map(ze=>{if(ze.q===Q.q&&ze.r===Q.r){const{myth:at,...ra}=ze;return Be=ra,ra}return ze.myth&&ze.myth>W?{...ze,myth:ze.myth-1}:ze});o({...c,hexes:ke,myths:ae}),g&&g.q===Q.q&&g.r===Q.r&&b(Be||null)},[c,o,g]),Ie=A.useCallback(Q=>{if(!c)return;const W=c.myths.map(ae=>ae.id===Q.id?Q:ae);o({...c,myths:W})},[c,o]),gt=A.useCallback(Q=>{y(W=>W===Q?null:Q),p!==Q&&b(null)},[p]),sa=A.useCallback((Q,W)=>{if(!c)return;const ae=c.hexes.find(mt=>mt.q===W.q&&mt.r===W.r);if(!ae||ae.myth||ae.holding||ae.landmark){ae!=null&&ae.myth&&F({isOpen:!0,title:"Relocation Blocked",message:"Cannot relocate to a hex that already has a myth.",onConfirm:()=>F(null),isInfo:!0}),(ae!=null&&ae.holding||ae!=null&&ae.landmark)&&F({isOpen:!0,title:"Relocation Blocked",message:"Cannot relocate a myth to a hex that has a holding or a landmark.",onConfirm:()=>F(null),isInfo:!0});return}const Be=c.myths.find(mt=>mt.id===Q);if(!Be)return;const ke={q:Be.q,r:Be.r},ze={...Be,q:W.q,r:W.r},at=c.myths.map(mt=>mt.id===Q?ze:mt);let ra;const wt=c.hexes.map(mt=>{if(mt.q===ke.q&&mt.r===ke.r){const{myth:ec,...wn}=mt;return wn}return mt.q===W.q&&mt.r===W.r?(ra={...mt,myth:Q},ra):mt});o({...c,hexes:wt,myths:at}),y(null),ra&&b(ra)},[c,o]),Ke=Q=>{Q.myths||(Q.myths=[],Q.hexes.forEach(W=>{W.myth&&Q.myths.push({id:W.myth,name:`Myth #${W.myth}`,q:W.q,r:W.r})})),o(Q),b(null),pe(Q.shape),Q.shape==="hex"?K(Q.radius??En):(ge(Q.width??En),v(Q.height??En))},Ga=A.useCallback(()=>{c&&og(c)},[c]),Tt=A.useCallback(()=>{z(Q=>({...Q,includeGrid:E.showGrid,includeIconSpray:E.showIconSpray,viewMode:E.isGmView?"referee":"knight"})),se(!0)},[z,se,E.isGmView,E.showGrid,E.showIconSpray]),Jt=A.useCallback(Q=>{if(!c||J)return;de(!0),(async()=>{try{const ae=Q.viewMode==="referee"?"realm-map-referee.png":"realm-map-knight.png";await dg(Zm,ae,{scale:Tg,hideSelectionHighlights:!0}),se(!1)}catch(ae){console.error("Failed to export PNG",ae),F({isOpen:!0,title:"Export Failed",message:"Something went wrong while exporting the PNG. Please try again or report the issue if it persists.",onConfirm:()=>F(null),isInfo:!0})}finally{de(!1)}})()},[c,J,F,se]),Sa=A.useCallback(Q=>{z(Q)},[]),Bl=A.useCallback(Q=>{!c||!Q.holding||o({...c,seatOfPower:{q:Q.q,r:Q.r}})},[c,o]),fa=A.useCallback((Q,W)=>{const ae=Q.toLowerCase().replace(/\s+/g,"-");if(S.terrain.some(ke=>ke.id===ae||ke.label.toLowerCase()===Q.toLowerCase())){F({isOpen:!0,title:"Duplicate Terrain",message:"A terrain with this name already exists.",onConfirm:()=>F(null),isInfo:!0});return}const Be={id:ae,label:Q,icon:"leaf",color:W,description:"Custom terrain created by the user.",sprayIcons:[]};V(ke=>({...ke,terrain:[...ke.terrain,Be]})),T(ke=>({...ke,[ae]:W}))},[S.terrain]),Ya=A.useCallback(Q=>{if(hl.includes(Q)){F({isOpen:!0,title:"Action Blocked",message:"Cannot remove default terrain types.",onConfirm:()=>F(null),isInfo:!0});return}V(W=>({...W,terrain:W.terrain.filter(ae=>ae.id!==Q)})),T(W=>{const ae={...W};return delete ae[Q],ae}),c&&o({...c,hexes:c.hexes.map(W=>W.terrain===Q?{...W,terrain:"plain"}:W)}),D===Q&&G(hl[0]??"plain")},[c,o,D]),ma=A.useCallback((Q,W)=>T(ae=>({...ae,[Q]:W})),[]),ca=A.useCallback(Q=>{const W=Fm(Q);T(ae=>({...ae,[Q]:W}))},[]),ot=A.useCallback(()=>{F({isOpen:!0,title:"Remove All Barriers",message:"Are you sure you want to remove all barriers? This action cannot be undone.",onConfirm:()=>{c&&(o({...c,hexes:c.hexes.map(Q=>({...Q,barrierEdges:[]}))}),F(null))}})},[c,o]),$t=()=>F(null),Ct=A.useCallback((Q,W,ae)=>{re(Be=>{const ke=JSON.parse(JSON.stringify(Be.terrainClusteringMatrix)),ze=ke[Q],at=ke[W];return ze&&at&&(ze[W]=ae,at[Q]=ae),{...Be,terrainClusteringMatrix:ke}})},[]),Ws=A.useCallback((Q,W)=>re(ae=>({...ae,[Q]:W})),[]),Is=A.useCallback((Q,W)=>re(ae=>({...ae,terrainBiases:{...ae.terrainBiases,[Q]:W}})),[]),Ps=A.useCallback(Q=>re(W=>({...W,...Q})),[]),pl=A.useCallback(()=>{(H==="terrain"||H==="poi")&&Ge(!0)},[H]),Ul=A.useCallback(Q=>{Ze&&(H==="terrain"?G(Q.terrain):H==="poi"&&(Q.holding?Z(`holding:${Q.holding}`):Q.landmark?Z(`landmark:${Q.landmark}`):Q.myth&&Z("action:myth")),Ge(!1))},[Ze,H]);A.useEffect(()=>{var ae;const Q=JSON.parse(JSON.stringify(bu)),W=2*(1-I.terrainRoughness);for(const Be of hl){const ke=Q[Be];if(ke)for(const ze of hl){const at=((ae=bu[Be])==null?void 0:ae[ze])??0;ke[ze]=at===0?0:Math.max(.01,Math.min(1,at*W))}}re(Be=>JSON.stringify(Be.terrainClusteringMatrix)===JSON.stringify(Q)?Be:{...Be,terrainClusteringMatrix:Q})},[I.terrainRoughness,I.terrainClusteringMatrix]);const Ll=A.useCallback(Q=>{be({tab:"terrain",focusId:Q}),me(!0)},[]);return s.jsxs("div",{className:"flex flex-col h-screen w-screen bg-realm-canvas-backdrop overflow-hidden",children:[s.jsx(Xp,{onGenerate:he,onExportJson:Ga,onExportPng:Tt,onImportJson:Ke,viewOptions:E,setViewOptions:N,realmShape:Re,setRealmShape:pe,realmRadius:w,setRealmRadius:K,realmWidth:ee,setRealmWidth:ge,realmHeight:xe,setRealmHeight:v,generationOptions:I,setGenerationOptions:re,onGenerationOptionChange:Ws,handleClusteringChange:Ct,handleTerrainBiasChange:Is,onApplyTemplate:Ps,tileSets:S,setTileSets:V,isSettingsOpen:te,setIsSettingsOpen:me,settingsView:Se,setSettingsView:be,setConfirmation:F,myths:(c==null?void 0:c.myths)??[]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("main",{className:"flex-1 bg-realm-map-viewport relative",children:c?s.jsx(ah,{realm:c,onUpdateHex:_e,viewOptions:E,selectedHex:g,onHexClick:b,activeTool:H,setActiveTool:O,paintTerrain:D,paintPoi:B,onAddMyth:Ne,onRemoveMyth:De,relocatingMythId:p,onRelocateMyth:sa,onSetSeatOfPower:Bl,tileSets:S,terrainColors:$,barrierColor:P??"",isSettingsOpen:te,isPickingTile:Ze,onTilePick:Ul,setConfirmation:F,terrainTextures:Bt,isLoadingTextures:va}):s.jsx("div",{className:"flex items-center justify-center h-full text-text-muted",children:s.jsx("p",{children:"Generating initial realm..."})})}),H==="terrain"?s.jsx(Fp,{paintTerrain:D,setPaintTerrain:G,onClose:()=>O("select"),tileSets:S,terrainColors:$,onAddTerrain:fa,onRemoveTerrain:Ya,onUpdateTerrainColor:ma,onResetTerrainColor:ca,onStartPicking:pl,isPickingTile:Ze,onOpenSpraySettings:Ll}):H==="poi"?s.jsx(Ip,{paintPoi:B,setPaintPoi:Z,onClose:()=>O("select"),onStartPicking:pl,isPickingTile:Ze}):H==="barrier"?s.jsx(pg,{onRemoveAllBarriers:ot,onClose:()=>O("select"),barrierColor:P??"",onColorChange:ue}):H==="myth"&&c?s.jsx(Pp,{realm:c,selectedHex:g,onSelectHex:b,onUpdateMyth:Ie,onRemoveMyth:De,relocatingMythId:p,onToggleRelocateMyth:gt,onClose:()=>O("select")}):H==="select"?s.jsx(Qp,{selectedHex:g,realm:c,onUpdateHex:_e,onDeselect:()=>b(null),onSetSeatOfPower:Bl,onAddMyth:Ne,onRemoveMyth:De,tileSets:S}):null]}),s.jsx(hg,{isOpen:ie,onClose:()=>se(!1),onExport:Jt,settings:j,onSettingsChange:Sa,realm:c,tileSets:S,baseViewOptions:E,terrainTextures:Bt,isLoadingTextures:va,barrierColor:P??"",previewSvgId:Zm,isExporting:J,terrainColors:$,previewPadding:Math.max(E.hexSize.x,E.hexSize.y)}),(L==null?void 0:L.isOpen)&&s.jsx(gg,{isOpen:L.isOpen,title:L.title,message:L.message,onConfirm:L.onConfirm,onCancel:$t,confirmText:L.confirmText??"OK",isInfo:L.isInfo??!1}),!te&&s.jsx(xg,{onUndo:()=>{d(),b(null)},onRedo:()=>{u(),b(null)},canUndo:m,canRedo:h})]})}const fh=document.getElementById("root");if(!fh)throw new Error("Could not find root element to mount to");const kg=D0.createRoot(fh);kg.render(s.jsx(Ti.StrictMode,{children:s.jsx(wg,{})}));
